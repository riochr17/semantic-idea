{"version":3,"sources":["components/main/Constant.ts","export/export-backend-expressjs.ts","components/main/ComponentConstant.ts","export/export-backend-php.ts","export/export-frontend-nextjs.ts","components/bottom-bar/BottomBar.tsx","components/main/base-editor/HeaderEditor.tsx","components/main/base-editor/DependencyList.tsx","components/main/base-editor/BaseEditor.tsx","components/editor-api/APIVariableView.tsx","components/editor-api/EditorAPI.tsx","components/editor-ui/VariableView.tsx","components/editor-business-logic/EditorBusinessLogic.tsx","components/editor-data-access/EditorDataAccess.tsx","components/editor-data-model/EditorDataModel.tsx","components/editor-external-module/EditorExternalModule.tsx","components/editor-ui/EditorUI.tsx","components/editor-api-access/EditorAPIAccess.tsx","components/editor-lambda-type/EditorLambdaType.tsx","components/main/RegisterComponent.tsx","components/collection-list/CollectionList.tsx","components/side-bar/SideBar.tsx","components/toolbar/Toolbar.tsx","components/main/context-menu/ContextMenu.tsx","components/main/dependency-line/DependencyLine.tsx","components/main/Application.tsx","theme.ts","App.tsx","reportWebVitals.ts","index.tsx"],"names":["NO_EDITOR","NO_MOVE_POSITION_YET","NO_VARIABLE_TYPE_PARENT","BuiltinType","type","color","DEFAULT_CANVAS_STATE","x","y","scale","old_scale","new_scale","getBuiltinTypeColor","normalized_type","type_name","replace","object_type","find","t","getBuiltinTypes","map","addArrayToEachType","types","out","i","length","push","type_parent_id","getNextType","current","list_editor","dependencies","all_dependencies","id_dep","editor","id","builtin_type","all_type","filter","dep","title","index","findIndex","getPrevType","groupBy","xs","key","reduce","rv","keyOf","id_provider","id_consumer","download","data","filename","file","Blob","window","navigator","msSaveOrOpenBlob","a","document","createElement","url","URL","createObjectURL","href","body","appendChild","click","setTimeout","removeChild","revokeObjectURL","useThisStyles","makeStyles","theme","createStyles","application_container","overflow","width","height","outline","background","fontFamily","application_context_menu","position","zIndex","application_toolbar","left","top","general_input","border","flexGrow","padding","paddingTop","borderTopLeftRadius","borderBottomLeftRadius","header_editor_title_container","display","flexDirection","header_editor_title","boxSizing","fontSize","fontWeight","maxWidth","header_editor_description_container","header_editor_description","borderTop","card_container","transformOrigin","borderRadius","boxShadow","toolbar_container","marginLeft","marginTop","toolbar_item_container","borderTopRightRadius","toolbar_item","toolbar_container_subitem","transition","toolbar_subitem","whiteSpace","bottom_bar_container","justifyContent","alignItems","bottom_bar_item","paddingBottom","cursor","sidebar_container","sidebar_item","lineHeight","marginBottom","sidebar_item_image","context_menu_container","context_menu_item","paddingLeft","paddingRight","minWidth","dependency_list_container","dependency_list_main_item","dependency_list_main_item_title","dependency_list_main_item_list","dependency_list_main_item_list_item","minHeight","marginRight","collection_list_container","overflowY","collection_list_main_item","collection_list_main_item_title","collection_list_main_item_sub_list","collection_list_main_item_sub_list_item","getDataType","data_type","item_type","parameters","param","name","join","return_type","exporter","exportPath","exportExtension","exportToFile","all_editor","variables","required","attributes","mainIndex","list_model","includes","_editor","item_context_menu","importDependencyMain","method","_var","map_var","kind","createRouter","importDependency","_list_editor","this_item_context_menu","Error","folder_depth","match","list_editor_id","id_dependency","ed","repeat","createFile","includeModels","includeFunctions","validators","createRoutesFile","createMigrationsFile","date","Date","year","getFullYear","month","getMonth","day","getDate","variableMap","any","string","number","boolean","value","attr","list_sheet","callback","jszip","JSZip","acc","fetch","blob","_file","loadAsync","files","async","item","migrations","generateAsync","then","list_ui_parameter","states","list_ui_state","state","real_url","variable","acc_url","bodies","list_editor_available","list_editor_available_ids","list_editor_lambda","console","log","dep_id","curr","dep_remove_existing_on_accumulator","ed_id","BottomBar","props","style","React","is_edit_mode","setEditMode","clickOutsideHandler","addEventListener","removeEventListener","className","onDoubleClick","e","preventDefault","stopPropagation","listSheet","onClick","onRequestChangeSheet","id_sheet","transform","is_active","onKeyPress","html","disabled","onChange","onChangeSheetName","target","onRequestRemoveSheet","src","_","onRequestNewSheet","setReadOnly","isReadOnly","HeaderEditor","spellCheck","cols","placeholder","setTitle","onRequestDelete","description","setDescription","DependencyList","group_dependency","listEditor","group_dependency_ordered","Object","keys","sort","forEach","RegisterComponent","parseInt","label","ref","el","onTopOffsetDependecyChange","parentID","offsetTop","offsetHeight","onDependencyClick","wordBreak","margin","borderBottomRightRadius","onRequestRemoveDependency","on_drag","BaseEditor","main_editor_ref","w","getBoundingClientRect","h","onValueChange","cm","onMouseDown","onStart","onDrag","onStop","isCanvasMoving","z_index","opacity","isReduceOpacity","isConsumerFocus","point_color","isFocus","borderColor","children","baseMemoFunction","prevProps","nextProps","APIVariable","setName","tabIndex","onKeyDown","undefined","role","setType","shiftKey","setRequired","onRemove","EditorAPI","_v","textAlign","getTime","borderRight","borderLeft","result","pv","nv","Variable","EditorBusinessLogic","EditorDataAccess","EditorDataModel","EditorExternalModule","UIStateView","EditorUI","getAllPossibleFunction","list_editor_ids","list_editor_ids_lambda","editor_id","list_ui_event","ui_event","object_name","fx","editor_id_action","new_value","selected","index_2","b","EditorAPIAccess","EditorLambdaType","model","initial_props","CollectionList","grouped","editor_focus","activeEditorID","collection_order","item_register_components","onWheel","onMouseMove","onMouseUp","hasOwnProperty","onEditorClick","SideBar","items","action","icon_url","Toolbar","active_id","setActiveID","subitems","subitem","ContextMenu","onMenuClick","DependencyLine","findObjectQuadrantOf","obj_x","obj_y","zero_point_x","zero_point_y","offset_dependency","offsetTopConsumerDependency","provider_quadrant","x_provider","y_provider","x_consumer","y_consumer","x1","y1","w1","w_provider","w_consumer","x2","y2","additional_w","Math","abs","quadrant_left_object","calculated_left","calculated_top","min","innerWindowWidth","innerWindowHeight","stopRendering","isActive","d","stroke","strokeWidth","fill","sheet_counter","is_mode_move_canvas","is_mode_wheel_captured","id_temp_start_drag_editor","old_move_canvas_position","context_menu_position","Application","setListSheet","id_active_sheet","setActiveSheet","canvas_props","setCanvasProps","focus_active_id","setFocusActiveID","is_context_menu_active","setContextMenuActive","active_dependency_line_id","setActiveDependencyLineID","is_read_only","setListEditor","list_dependency","setDependency","list_top_offset_dependency","setTopOffsetDependency","top_offset","new_data","deleteLineDependency","id_dependency_provider","line","updateItemsCanvasPosition","isShiftKey","deltaX","deltaY","pageX","pageY","pointer_position","dx","dy","dscale","updated_scale","updated_list_editor","d_zoom_x","d_zoom_y","d_width","d_height","updated_dependency_line","editor_provider","editor_consumer","h_provider","h_consumer","addNewSheet","new_sheet","changeSheet","_list_sheet","sheet","updated_list_sheet","_sheet","moveToEditor","current_x","innerWidth","current_y","innerHeight","filtered_id_list_editor_model_data_or_lambda","event","onContextMenu","new_line","updated_line_dependency","mock_list_editor_props","getEditorInRangeByPoint","is_zero_dependency","err","stopRenderingEditor","ui","context_menu","kvs","handleValueChange","max","max_z_index","fileInput","onchange","reader","FileReader","onload","contents","readAsText","elem","eventMouse","createEvent","initMouseEvent","dispatchEvent","clickElem","openFile","stringified_json","ide_file","JSON","parse","alert","timestamp","stringify","dependency_lines","file_content","_export_frontend_nextjs","_export_backend_expressjs","_export_backend_php","bottom","removeSheet","right","createMuiTheme","palette","primary","main","light","dark","secondary","text","default","typography","h2","h3","h4","h5","body1","subtitle1","subtitle2","App","ThemeProvider","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode","getElementById"],"mappings":"4RAiCaA,GAAa,EAEbC,GAAwB,EAGxBC,GAA2B,EAE3BC,EAAc,CAAC,CAC1BC,KAAM,WACNC,MAAO,QACN,CACDD,KAAM,OACNC,MAAO,QACN,CACDD,KAAM,MACNC,MAAO,QACN,CACDD,KAAM,SACNC,MAAO,QACN,CACDD,KAAM,MACNC,MAAO,QACN,CACDD,KAAM,QACNC,MAAO,QACN,CACDD,KAAM,UACNC,MAAO,qBAGIC,EAAoC,CAC/CC,EAAG,EAAGC,EAAG,EAAGC,MAAO,EAAGC,UAAW,EAAGC,UAAW,GAG1C,SAASC,EAAoBR,GAClC,IAAMS,EAAkBT,EAAKU,UAAUC,QAAQ,OAAQ,IACjDC,EAAcb,EAAYc,MAAK,SAAAC,GAAC,OAAIA,EAAEd,OAASS,KACrD,OAAKG,EAIEA,EAAYX,MAHR,OAMN,SAASc,IACd,OAAOhB,EAAYiB,KAAI,SAAAF,GAAC,OAAIA,EAAEd,QAezB,SAASiB,EAAmBC,GAEjC,IADA,IAAMC,EAAM,GACHC,EAAI,EAAGA,EAAIF,EAAMG,OAAQD,GAAK,EACrCD,EAAIG,KAAKJ,EAAME,IACY,SAAvBF,EAAME,GAAGV,WACXS,EAAIG,KAAK,CACPZ,UAAU,GAAD,OAAKQ,EAAME,GAAGV,UAAd,MACTa,eAAgBL,EAAME,GAAGG,iBAK/B,OAAOJ,EAGF,SAASK,EAAYC,EAAuBC,EAA+BC,GAChF,IAAMC,EAAmBD,EAAaX,KAAI,SAACa,GAAD,OAAoBH,EAAab,MAAK,SAAAiB,GAAM,OAAIA,EAAOC,KAAOF,QAClGG,EAAejB,IACfkB,EAA2BhB,EAAmB,GAAD,mBAAKe,EAAahB,KAAI,SAAAb,GAAC,MAAK,CAC7EoB,eAAgBzB,EAChBY,UAAWP,OAFsC,YAG3CyB,EAAkBM,QAAO,SAAAC,GAAG,MAAmB,qBAARA,KAAqBnB,KAAI,SAAAmB,GAAG,MAAK,CAC9EZ,eAAgBY,EAAKJ,GACrBrB,UAAWyB,EAAKC,aAEZC,EAAQJ,EAASK,WAAU,SAAAxB,GAAC,OAAIA,EAAEJ,YAAce,EAAQf,aAC9D,OAAe,IAAX2B,EACKJ,EAAS,GAEXA,GAAUI,EAAQ,GAAKJ,EAASZ,QAGlC,SAASkB,EAAYd,EAAuBC,EAA+BC,GAChF,IAAMC,EAAmBD,EAAaX,KAAI,SAACa,GAAD,OAAoBH,EAAab,MAAK,SAAAiB,GAAM,OAAIA,EAAOC,KAAOF,QAClGG,EAAejB,IACfkB,EAA2BhB,EAAmB,GAAD,mBAAKe,EAAahB,KAAI,SAAAb,GAAC,MAAK,CAC7EoB,eAAgBzB,EAChBY,UAAWP,OAFsC,YAG3CyB,EAAkBM,QAAO,SAAAC,GAAG,MAAmB,qBAARA,KAAqBnB,KAAI,SAAAmB,GAAG,MAAK,CAC9EZ,eAAgBY,EAAKJ,GACrBrB,UAAWyB,EAAKC,aAEZC,EAAQJ,EAASK,WAAU,SAAAxB,GAAC,OAAIA,EAAEJ,YAAce,EAAQf,aAC9D,OAAe,IAAX2B,EACKJ,EAAS,GAEXA,GAAUI,EAAQ,EAAIJ,EAASZ,QAAUY,EAASZ,QAGpD,SAASmB,EAAQC,EAAWC,GACjC,OAAOD,EAAGE,QAAO,SAASC,EAAIzC,GAE5B,OADCyC,EAAGzC,EAAEuC,IAAQE,EAAGzC,EAAEuC,KAAS,IAAIpB,KAAKnB,GAC9ByC,IACN,IAGE,SAASC,EAAMC,EAAqBC,GACzC,MAAM,GAAN,OAAUD,EAAV,YAAyBC,GAgBpB,SAASC,EAASC,EAAMC,EAAUlD,GACvC,IAAImD,EAAO,IAAIC,KAAK,CAACH,GAAO,CAACjD,KAAMA,IACnC,GAAIqD,OAAOC,UAAUC,iBACnBF,OAAOC,UAAUC,iBAAiBJ,EAAMD,OACnC,CACL,IAAIM,EAAIC,SAASC,cAAc,KAC3BC,EAAMC,IAAIC,gBAAgBV,GAC9BK,EAAEM,KAAOH,EACTH,EAAER,SAAWE,EACbO,SAASM,KAAKC,YAAYR,GAC1BA,EAAES,QACFC,YAAW,WACTT,SAASM,KAAKI,YAAYX,GAC1BH,OAAOO,IAAIQ,gBAAgBT,KAC1B,IAkCA,I,EAAMU,EAAgBC,aAAW,SAACC,GAAD,OACtCC,YAAa,CAGXC,sBAAuB,CACrBC,SAAU,SACVC,MAAO,OACPC,OAAQ,OACRC,QAAS,OACTC,WAAY,OACZC,WAAY,2CAEdC,yBAA0B,CACxBH,QAAS,OACTI,SAAU,WACVC,OAAQ,MAEVC,oBAAqB,CACnBF,SAAU,WACVG,KAAM,EACNC,IAAK,EAELH,OAAQ,OAIVI,cAAe,CACbR,WAAY,0BACZS,OAAQ,OACRC,SAAU,EACVb,MAAO,OACPE,QAAS,OACTY,QAAS,UACTC,WAAY,EACZC,oBAAqB,EACrBC,uBAAwB,GAK1BC,8BAA+B,CAC7BC,QAAS,OACTC,cAAe,OAEjBC,oBAAqB,CACnBT,OAAQ,OACRV,QAAS,OACTY,QAAS,WACTQ,UAAW,aACXC,SAAU,GACVC,WAAY,OACZxB,MAAO,OACP1E,MAAO,QACPmG,SAAU,OACVtB,WAAY,cACZC,WAAY,QACZ,iBAAkB,CAChB9E,MAAO,4BAGXoG,oCAAqC,CACnCP,QAAS,OACTC,cAAe,OAEjBO,0BAA2B,CACzBf,OAAQ,OACRgB,UAAW,8BACX1B,QAAS,OACTY,QAAS,WACTxF,MAAO,QACPgG,UAAW,aACXC,SAAU,GACVvB,MAAO,OACPyB,SAAU,OACVtB,WAAY,cACZ,iBAAkB,CAChB7E,MAAO,4BAMXuG,eAAgB,CACd7B,MA1QsB,IA2QtB8B,gBAAiB,WACjBP,SAAU,GACVjB,SAAU,WACVyB,aAAc,GACdhC,SAAU,SACVI,WAAY,QACZS,OAAQ,kBACRoB,UAAW,kCACX,UAAW,IAQbC,kBAAmB,CACjBnB,QAAS,UACTiB,aAAc,GACdG,WAAY,GACZC,UAAW,GACX7G,MAAO,QACP8E,WAAY,QACZe,QAAS,OACTC,cAAe,OAEjBgB,uBAAwB,CACtBpB,oBAAqB,EACrBqB,qBAAsB,EACtB,UAAW,CACTlC,WAAY,YAGhBmC,aAAc,CACZxB,QAAS,YAEXyB,0BAA2B,CACzBJ,WAAY,EACZ7B,SAAU,WACVM,OAAQ,OACRgB,UAAW,OACXY,WAAY,QACZT,aAAc,EACdf,oBAAqB,EACrBjB,SAAU,SACViC,UAAW,mCAEbS,gBAAiB,CACf3B,QAAS,WACTX,WAAY,UACZuC,WAAY,SACZ,UAAW,CACTvC,WAAY,YAIhBwC,qBAAsB,CACpBxB,QAAS,OACTyB,eAAgB,aAChBxB,cAAe,MACfyB,WAAY,WAEZX,WAAY,GACZ9B,WAAY,SAEd0C,gBAAiB,CACfhC,QAAS,WACTiC,cAAe,EACf5C,WAAY,UACZa,oBAAqB,EACrBqB,qBAAsB,EACtBH,WAAY,EACZM,WAAY,OACZlH,MAAO,OACP0H,OAAQ,UACR7B,QAAS,OACTC,cAAe,MACfY,UAAW,iCAMbiB,kBAAmB,CACjB9C,WAAY,OACZW,QAAS,YACTiB,aAAc,GACdI,UAAW,GACX7G,MAAO,QACP8E,WAAY,QACZe,QAAS,OACTC,cAAe,SACfY,UAAW,uCAEbkB,aAAc,CACZC,WAAY,EACZrC,QAAS,EACTX,WAAY,UACZ4B,aAAc,EACdqB,aAAc,EACdJ,OAAQ,UACR,eAAgB,CACdI,aAAc,GAEhB,UAAW,CACTjD,WAAY,WAEd,WAAY,CACVA,WAAY,SAGhBkD,mBAAoB,CAClBpD,OAAQ,GACRD,MAAO,IAKTsD,uBAAwB,CACtBnD,WAAY,OACZS,OAAQ,iBACRmB,aAAc,EACdR,SAAU,GACVnB,WAAY,QACZ4B,UAAW,iCACXjC,SAAU,UAEZwD,kBAAmB,CACjBC,YAAa,GACbC,aAAc,GACd1C,WAAY,EACZgC,cAAe,EACfW,SAAU,IACVxD,QAAS,OACTiB,QAAS,OACTC,cAAe,MACfyB,WAAY,SACZG,OAAQ,UACR,UAAW,CACT7C,WAAY,QAEd,WAAY,CACVA,WAAY,SAMhBwD,0BAA2B,GAC3BC,0BAA2B,CACzB9C,QAAS,UACTiC,cAAe,GAEjBc,gCAAiC,CAC/BtC,SAAU,EACVT,QAAS,UACTxF,MAAO,QAETwI,+BAAgC,GAChCC,oCAAqC,CACnCxC,SAAU,GACVY,UAAW,EACXD,WAAY,EACZ8B,UAAW,GACXC,YAAa,EACb3C,UAAW,aACXnB,WAAY,oBACZ4B,aAAc,IACdZ,QAAS,OACTC,cAAe,MACfyB,WAAY,SACZvC,SAAU,WACV0C,OAAQ,UACR,UAAW,CACT7C,WAAY,sBAKhB+D,0BAA2B,CACzBjE,OAAQ,OACRD,MAAO,OACPmE,UAAW,OACXhE,WAAY,OACZ6B,UAAW,iCAEboC,0BAA2B,CACzBtD,QAAS,UACTiC,cAAe,IAEjBsB,gCAAiC,CAC/B9C,SAAU,EACVT,QAAS,UACTxF,MAAO,QAETgJ,mCAAoC,GAEpCC,wCAAyC,CACvChD,SAAU,GACVY,UAAW,EACXD,WAAY,EACZ8B,UAAW,GACXC,YAAa,EACb3C,UAAW,aACXnB,WAAY,oBACZS,OAAQ,wBACRtF,MAAO,QACPyG,aAAc,IACdZ,QAAS,OACTC,cAAe,MACfyB,WAAY,SACZvC,SAAU,WACV0C,OAAQ,UACR,UAAW,CACT7C,WAAY,2BC/epB,SAASqE,EAAYzH,EAA+B0H,GAClD,GAAIA,EAAU7H,iBAAmBzB,EAC/B,MAA+B,aAAxBsJ,EAAU1I,UAA2B,uBAAyB0I,EAAU1I,UAEjF,IAAMoB,EAASJ,EAAYb,MAAK,SAAAV,GAAC,OAAIA,EAAE4B,KAAOqH,EAAU7H,kBACxD,OCdyB,IDcrBO,EAAOuH,UACH,IAAN,OAAYvH,EAAgCwH,WAAWtI,KAAI,SAACuI,GAC1D,MAAM,GAAN,OAAUA,EAAMC,KAAhB,aAAyBD,EAAMvJ,KAAKU,cACnC+I,KAAK,MAFR,gBAEsB3H,EAAgC4H,YAAYhJ,WAE7D0I,EAAU1I,UAGnB,IAAMiJ,GAAsC,mBC9Bb,ED+BV,CACjBC,WAAY,WACZC,gBAAiB,KACjBC,aAHiB,SAGJhI,EAAwBiI,GACnC,MAAM,yDAAN,OAAgEjI,EAAOM,MAAvE,eALsC,cC3BZ,EDmCV,CAClBwH,WAAY,MACZC,gBAAiB,KACjBC,aAHkB,SAGLhI,EAAuBiI,GAClC,IAAMT,EAAa,WAAaxH,EAAOkI,UAAUhJ,KAAI,SAACuI,GAAD,gBAA+BA,EAAMC,MAArC,OAA4CD,EAAMU,SAAW,GAAK,IAAlE,aAA0Ed,EAAYY,EAAYR,EAAMvJ,UAASyJ,KAAK,MAAQ,IACnL,MAAM,yBAAN,OAAgC3H,EAAOM,MAAvC,YAAgDkH,EAAhD,qCAbsC,cC1Bd,ED0CV,CAChBM,WAAY,QACZC,gBAAiB,KACjBC,aAHgB,SAGHhI,EAAiCiI,GAC5C,IAAMT,EAAa,YAAcxH,EAAOwH,WAAWtI,KAAI,SAACuI,GAAD,gBAA6BA,EAAMC,MAAnC,OAA0CD,EAAMU,SAAW,GAAK,IAAhE,aAAwEd,EAAYY,EAAYR,EAAMvJ,UAASyJ,KAAK,MAAQ,IACnL,MAAM,yBAAN,OAAgC3H,EAAOM,MAAvC,YAAgDkH,EAAhD,sBAAwEH,EAAYY,EAAYjI,EAAO4H,aAAvG,oEAA+K5H,EAAOM,MAAtL,oCArBsC,cCzBlB,EDiDV,CACZwH,WAAY,aACZC,gBAAiB,KACjBC,aAHY,SAGChI,EAA6BiI,GACxC,IAAMT,EAAa,YAAcxH,EAAOkI,UAAUhJ,KAAI,SAACuI,GAAD,gBAA+BA,EAAMC,MAArC,OAA4CD,EAAMU,SAAW,GAAK,IAAlE,aAA0Ed,EAAYY,EAAYR,EAAMvJ,UAASyJ,KAAK,MAAQ,IACpL,MAAM,yBAAN,OAAgC3H,EAAOM,MAAvC,YAAgDkH,EAAhD,sBAAwEH,EAAYY,EAAYjI,EAAO4H,aAAvG,oEAA+K5H,EAAOM,MAAtL,oCA7BsC,cCxBjB,EDwDV,CACbwH,WAAY,cACZC,gBAAiB,KACjBC,aAHa,SAGAhI,EAA8BiI,GACzC,IAAMT,EAAa,YAAcxH,EAAOwH,WAAWtI,KAAI,SAACuI,GAAD,gBAA6BA,EAAMC,MAAnC,OAA0CD,EAAMU,SAAW,GAAK,IAAhE,aAAwEd,EAAYY,EAAYR,EAAMvJ,UAASyJ,KAAK,MAAQ,IACnL,MAAM,yBAAN,OAAgC3H,EAAOM,MAAvC,YAAgDkH,EAAhD,sBAAwEH,EAAYY,EAAYjI,EAAO4H,aAAvG,oEAA+K5H,EAAOM,MAAtL,oCArCsC,cCvBlB,ED+DV,CACZwH,WAAY,eACZC,gBAAiB,KACjBC,aAHY,SAGChI,EAA6BiI,GACxC,IAAMG,EAAapI,EAAOoI,WAAWlJ,KAAI,SAACuI,GAAD,kBAA+BA,EAAMC,MAArC,OAA4CD,EAAMU,SAAW,GAAK,IAAlE,aAA0Ed,EAAYY,EAAYR,EAAMvJ,UAASyJ,KAAK,MAC/J,MAAM,aAAN,OAAoB3H,EAAOM,MAA3B,eAAuC8H,EAAvC,2BAAoEpI,EAAOM,MAA3E,SA7CsC,GAuKtC+H,EAAY,SAAAzI,GAAW,6QAsG7B,SAA8BA,GAC5B,IAAM0I,EAAuB1I,EAAYQ,QAAO,SAACJ,GAAD,OCrSxB,IDqSoDA,EAAOuH,aAA0BrI,KAAI,SAAAb,GAAC,OAAIA,EAAE4B,MACxH,OAAOL,EACJQ,QAAO,SAACJ,GACP,OC5S0B,ID4SnBA,EAAOuH,aAEfrI,KAAI,SAACc,GACJ,IADgC,IAAD,WACtBV,GACP,OAAIgJ,EAAWC,SAASvI,EAAOH,aAAaP,IAC1C,WAEI,CAAN,EAAOM,EAAYb,MAAK,SAAAV,GAAC,OAAIA,EAAE4B,KAAOD,EAAOH,aAAaP,QAJnDA,EAAI,EAAGA,EAAIU,EAAOH,aAAaN,OAAQD,IAAK,CAAC,IAAD,IAA5CA,GAA4C,kDAMrD,OAAO,QAERc,QAAO,SAAA/B,GAAC,OAAU,OAANA,KACZa,KAAI,SAACsJ,GACJ,IAAMC,EAAoBZ,EAASW,EAAQjB,WAC3C,MAAM,YAAN,OAAmBiB,EAAQlI,MAA3B,sBAA8CmI,EAAkBX,WAAhE,YAA8EU,EAAQlI,MAAtF,QACCqH,KAAK,MAhHVe,CAAqB9I,GATM,kuBAkD7B,SAAsBA,GACpB,IAAM0I,EAAuB1I,EAAYQ,QAAO,SAACJ,GAAD,OCjPxB,IDiPoDA,EAAOuH,aAA0BrI,KAAI,SAAAb,GAAC,OAAIA,EAAE4B,MACxH,MAAM,6BAAN,OACAL,EAAYQ,QAAO,SAACJ,GAAD,OAAiD,IAArBA,EAAOuH,aAAiBrI,KAAI,SAACc,GAAD,2BAClEA,EAAO2I,OAD2D,mBAEtE3I,EAAO6B,IAF+D,uBAGpE7B,EAAOkI,UAAUhJ,KAAI,SAAC0J,GACzB,IAAMC,EAAU,CACd,IAAO,YACP,OAAU,aACV,OAAU,cACV,QAAS,YACT,WAAY,YACZ,WAAY,aAGd,MAAM,gBAAN,OAAuBD,EAAKlB,KAA5B,cAAsCkB,EAAKT,SAAW,GAAK,eAA3D,OAA2EU,EAAQxB,EAAYzH,EAAagJ,EAAK1K,OAAjH,QAEDyJ,KAAK,MAfmE,uHAqB3E3H,EAAOkI,UAAUhJ,KAAI,SAAC0J,GACtB,IAAMC,EAAU,CACd,EAAK,OACL,EAAK,QACL,EAAK,UAEP,MAAM,aAAN,OAAoBD,EAAKlB,KAAzB,qBAA0CmB,EAAQD,EAAKE,MAAvD,YAAgEF,EAAKlB,SACpEC,KAAK,OA5BqE,6DA+BlE,WACC,IADM,IAAD,WACIrI,GACP,OAAIgJ,EAAWC,SAASvI,EAAOH,aAAaP,IAC1C,WAEI,CAAN,EAAOM,EAAYb,MAAK,SAAAV,GAAC,OAAIA,EAAE4B,KAAOD,EAAOH,aAAaP,MAAIgB,QAJvDhB,EAAI,EAAGA,EAAIU,EAAOH,aAAaN,OAAQD,IAAK,CAAC,IAAD,IAA5CA,GAA4C,kDAMrD,MAAO,kCAPR,GA/BkE,wHA8C1EqI,KAAK,KA5DJoB,CAAanJ,GAvCY,kSA4H7B,SAASoJ,EAA2CC,EAAmBjJ,GACrE,IAAMkJ,EAAyBrB,EAAS7H,EAAOuH,WAC/C,IAAK2B,EACH,MAAM,IAAIC,MAAJ,+BAAkCnJ,EAAOM,MAAzC,qBAGR,IAAMV,EAAcqJ,EAAa7I,QAAO,SAACJ,GAAD,OAA4B6H,EAAS7H,EAAOuH,cAE9E6B,GAAgBF,EAAuBpB,WAAWuB,MAAM,QAAU,IAAI9J,OAAS,EAC/E+J,EAAiB1J,EAAYV,KAAI,SAACc,GAAD,OAAeA,EAAOC,MAE7D,OAAOD,EAAOH,aACXO,QAAO,SAACmJ,GAAD,OAA2BD,EAAef,SAASgB,MAC1DrK,KAAI,SAACqK,GAAD,OAA2B3J,EAAYb,MAAK,SAACyK,GAAD,OAAWA,EAAGvJ,KAAOsJ,QACrErK,KAAI,SAACsJ,GACJ,IAAMC,EAAoBZ,EAASW,EAAQjB,WAC3C,MAAM,YAAN,OAAmBiB,EAAQlI,MAA3B,oBAA4C,MAAMmJ,OAAOL,IAAzD,OAAyEX,EAAkBX,WAA3F,YAAyGU,EAAQlI,MAAjH,QACCqH,KAAK,MAGZ,SAAS+B,EAAqC1J,EAAWiI,GAEvD,OADaJ,EAAS7H,EAAOuH,WACjBS,aAAahI,EAAQiI,G,+BExUnC,SAASZ,EAAYzH,EAA+B0H,GAClD,GAAIA,EAAU7H,iBAAmBzB,EAC/B,MAA+B,aAAxBsJ,EAAU1I,UAA2B,uBAAyB0I,EAAU1I,UAEjF,IAAMoB,EAASJ,EAAYb,MAAK,SAAAV,GAAC,OAAIA,EAAE4B,KAAOqH,EAAU7H,kBACxD,ODZyB,ICYrBO,EAAOuH,UACH,IAAN,OAAYvH,EAAgCwH,WAAWtI,KAAI,SAACuI,GAC1D,MAAM,GAAN,OAAUA,EAAMC,KAAhB,aAAyBD,EAAMvJ,KAAKU,cACnC+I,KAAK,MAFR,gBAEsB3H,EAAgC4H,YAAYhJ,WAErC,WAAxB0I,EAAU1I,UAAyB,GAAK0I,EAAU1I,UAI3D,SAAS+K,EAAwCV,EAAmBjJ,GAElE,IAD+B6H,EAAS7H,EAAOuH,WAE7C,MAAM,IAAI4B,MAAJ,+BAAkCnJ,EAAOM,MAAzC,qBAGR,IAAMV,EAAcqJ,EAAa7I,QAAO,SAACJ,GAAD,OD5BhB,IC4B4CA,EAAOuH,aACrE+B,EAAiB1J,EAAYV,KAAI,SAACc,GAAD,OAAeA,EAAOC,MAE7D,OAAOD,EAAOH,aACXO,QAAO,SAACmJ,GAAD,OAA2BD,EAAef,SAASgB,MAC1DrK,KAAI,SAACqK,GAAD,OAA2B3J,EAAYb,MAAK,SAACyK,GAAD,OAAWA,EAAGvJ,KAAOsJ,QACrErK,KAAI,SAACsJ,GACsBX,EAASW,EAAQjB,WAC3C,MAAM,oBAAN,OAA2BiB,EAAQlI,MAAnC,QACCqH,KAAK,MAGZ,SAASiC,EAA2CX,EAAmBjJ,GACrE,IAAMkJ,EAAyBrB,EAAS7H,EAAOuH,WAC/C,IAAK2B,EACH,MAAM,IAAIC,MAAJ,+BAAkCnJ,EAAOM,MAAzC,qBAGR,IAAMV,EAAcqJ,EAAa7I,QAAO,SAACJ,GAAD,OD9ChB,IC8C4CA,EAAOuH,aAGrE+B,IADgBJ,EAAuBpB,WAAWuB,MAAM,QAAU,IAAI9J,OACrDK,EAAYV,KAAI,SAACc,GAAD,OAAeA,EAAOC,OAE7D,OAAOD,EAAOH,aACXO,QAAO,SAACmJ,GAAD,OAA2BD,EAAef,SAASgB,MAC1DrK,KAAI,SAACqK,GAAD,OAA2B3J,EAAYb,MAAK,SAACyK,GAAD,OAAWA,EAAGvJ,KAAOsJ,QACrErK,KAAI,SAACsJ,GACJ,IAAMC,EAAoBZ,EAASW,EAAQjB,WAC3C,MAAM,MAAN,OAAaiB,EAAQlI,MAArB,0BAA4CmI,EAAkBX,WAA9D,YAA4EU,EAAQlI,MAApF,cACCqH,KAAK,MAGZ,I,EAAME,GAAsC,mBDnEb,ECoEV,CACjBC,WAAY,gCACZC,gBAAiB,MACjBC,aAHiB,SAGJhI,EAAwBiI,GACnC,MAAM,YAAN,OAAmB0B,EAAc1B,EAAYjI,GAA7C,sCAAkF4J,EAAiB3B,EAAYjI,GAA/G,0EALsC,cDhEZ,ECwEV,CAClB8H,WAAY,8BACZC,gBAAiB,MACjBC,aAHkB,SAGLhI,EAAuBiI,GAClC,IAAMT,EAAaxH,EAAOkI,UAAUhJ,KAAI,SAACuI,GAAD,mBAAkCA,EAAMC,KAAxC,wBAA4DD,EAAMC,KAAlE,QAA2EC,KAAK,MAClHkC,EAAa7J,EAAOkI,UAAUhJ,KAAI,SAACuI,GAAD,uBAAsCA,EAAMC,KAA5C,iBAAyDD,EAAMU,SAAW,WAAa,GAAvF,QAA8FR,KAAK,OAC3I,MAAM,YAAN,OAAmBgC,EAAc1B,EAAYjI,GAA7C,6SAAyV4J,EAAiB3B,EAAYjI,GAAtX,eAAoYwH,EAApY,mDAAybqC,EAAzb,mFAA8gB7J,EAAOM,MAArhB,uIAdsC,cD/Dd,ECgFV,CAChBwH,WAAY,6BACZC,gBAAiB,MACjBC,aAHgB,SAGHhI,EAAiCiI,GAC5C,IAAMT,EAAaxH,EAAOwH,WAAWtI,KAAI,SAACuI,GAAD,gBAA6BJ,EAAYY,EAAYR,EAAMvJ,MAA3D,aAAqEuJ,EAAMC,MAA3E,OAAkFD,EAAMU,SAAW,GAAK,cAAaR,KAAK,MACnK,MAAM,YAAN,OAAmBgC,EAAc1B,EAAYjI,GAA7C,+BAA2EwH,EAA3E,gBAA6FoC,EAAiB3B,EAAYjI,GAA1H,iFAA0MA,EAAOM,MAAjN,uCAtBsC,cD9DlB,ECuFV,CACZwH,WAAY,kCACZC,gBAAiB,MACjBC,aAHY,SAGChI,EAA6BiI,GACxC,IAAMT,EAAaxH,EAAOkI,UAAUhJ,KAAI,SAACuI,GAAD,gBAA+BJ,EAAYY,EAAYR,EAAMvJ,MAA7D,aAAuEuJ,EAAMC,MAA7E,OAAoFD,EAAMU,SAAW,GAAK,cAAaR,KAAK,MACpK,MAAM,YAAN,OAAmBgC,EAAc1B,EAAYjI,GAA7C,+BAA2EwH,EAA3E,gBAA6FoC,EAAiB3B,EAAYjI,GAA1H,iFAA0MA,EAAOM,MAAjN,uCA9BsC,cD7DjB,EC8FV,CACbwH,WAAY,mCACZC,gBAAiB,MACjBC,aAHa,SAGAhI,EAA8BiI,GACzC,IAAMT,EAAaxH,EAAOwH,WAAWtI,KAAI,SAACuI,GAAD,gBAA6BJ,EAAYY,EAAYR,EAAMvJ,MAA3D,aAAqEuJ,EAAMC,MAA3E,OAAkFD,EAAMU,SAAW,GAAK,cAAaR,KAAK,MACnK,MAAM,YAAN,OAAmBgC,EAAc1B,EAAYjI,GAA7C,+BAA2EwH,EAA3E,gBAA6FoC,EAAiB3B,EAAYjI,GAA1H,iFAA0MA,EAAOM,MAAjN,uCAtCsC,cD5DlB,ECqGV,CACZwH,WAAY,aACZC,gBAAiB,MACjBC,aAHY,SAGChI,EAA6BiI,GACxC,MAAM,0FAAN,OAAiGjI,EAAOM,MAAxG,mDAAwJN,EAAOM,MAA/J,cA7CsC,GAkD5C,SAASwJ,EAAiB7B,GACxB,MAAM,0FAAN,OAEEA,EACC7H,QAAO,SAACJ,GAAD,ODtHoB,ICsHQA,EAAOuH,aAC1CrI,KAAI,SAACc,GACJ,IAAMyI,EAAoBZ,EDxHA,GCyH1B,MAAM,UAAN,OAAiB7H,EAAO2I,OAAxB,aAAmC3I,EAAO6B,IAA1C,gDAAqF7B,EAAOM,MAA5F,0BAAmHmI,EAAkBX,WAArI,YAAmJ9H,EAAOM,MAA1J,8BAAqLN,EAAOM,MAA5L,uBAEDqH,KAAK,MARR,MAYF,SAASoC,EAAqB9B,GAC5B,IAAM+B,EAAO,IAAIC,KACXC,EAAOF,EAAKG,cACZC,EAAQJ,EAAKK,WACbC,EAAMN,EAAKO,UAEXC,EAAc,CAClBC,IAAK,OACLC,OAAQ,SACRC,OAAQ,UACRC,QAAS,WAGX,OAAO3C,EACJ7H,QAAO,SAACJ,GAAD,ODzIc,ICyIcA,EAAOuH,aAC1CrI,KAAI,SAACc,GACJ,MAAO,CACLY,IAAI,uBAAD,OAAyBsJ,EAAzB,YAAiCE,EAAjC,YAA0CE,EAA1C,0BAA+DtK,EAAOM,MAAtE,cACHuK,MAAM,qKAAD,OAMC7K,EAAOM,MANR,yJAeSN,EAAOM,MAfhB,6CAgBXN,EAAOoI,WAAWlJ,KAAI,SAAC4L,GAAD,MAAuC,OAAdA,EAAKpD,KAAgB,sBAArB,wBAA8D8C,EAAYM,EAAK5M,KAAKU,WAApF,aAAmGkM,EAAKpD,KAAxG,aAAiHoD,EAAK3C,SAAW,GAAK,eAAtI,QAAyJR,KAAK,MAhBlM,wLA4Be3H,EAAOM,MA5BtB,qB,4CAoCE,WAAmCyK,EAAwBC,GAA3D,mCAAAtJ,EAAA,6DACPuJ,EAAQ,IAAIC,IACZjD,EAA+B8C,EAAWlK,QAAO,SAACsK,EAAuBxL,GAC7E,MAAM,GAAN,mBAAWwL,GAAX,YAAmBxL,EAAQC,gBAC1B,IAJU,SAMcwL,MAAM,cANpB,8BAMmCC,OANnC,cAMPC,EANO,gBAOMJ,IAAMK,UAAUD,GAPtB,OAOPnK,EAPO,cAAAO,EAAA,KASKP,EAAKqK,OATV,sDASJjL,EATI,WAULK,EAAMO,EAAKqK,MAAMjL,GAVZ,KAWX0K,EAXW,KAWArK,EAAI8G,KAXJ,UAWgB9G,EAAI6K,MAAM,QAX1B,yBAWLpK,KAXK,6CAcJ/B,EAAI,EAdA,aAcGA,EAAI2I,EAAW1I,QAdlB,oBAeLS,EAASiI,EAAW3I,GACrBuI,EAAS7H,EAAOuH,WAhBV,wDAoBLmE,EAAO7D,EAAS7H,EAAOuH,WAC7B0D,EAAM5J,KAAN,UAAcqK,EAAK5D,WAAnB,YAAiC9H,EAAOM,MAAxC,YAAiDoL,EAAK3D,iBAAmB2D,EAAK1D,aAAahI,EAAQiI,IArBxF,QAc0B3I,IAd1B,wBA0Bb,IAHA2L,EAAM5J,KAAK,iBAAkByI,EAAiB7B,IAExC0D,EAAa5B,EAAqB9B,GAC/B3I,EAAI,EAAGA,EAAIqM,EAAWpM,OAAQD,IACrC2L,EAAM5J,KAAKsK,EAAWrM,GAAGsB,IAAK+K,EAAWrM,GAAGuL,OAG9CI,EAAMW,cAAc,CAAE1N,KAAM,SAAU2N,KAAKb,GA9B9B,6C,sBCzKf,SAAS3D,EAAYzH,EAA+B0H,GAClD,GAAIA,EAAU7H,iBAAmBzB,EAC/B,MAA+B,aAAxBsJ,EAAU1I,UAA2B,uBAAyB0I,EAAU1I,UAEjF,IAAMoB,EAASJ,EAAYb,MAAK,SAAAV,GAAC,OAAIA,EAAE4B,KAAOqH,EAAU7H,kBACxD,OFZyB,IEYrBO,EAAOuH,UACH,IAAN,OAAYvH,EAAgCwH,WAAWtI,KAAI,SAACuI,GAC1D,MAAM,GAAN,OAAUA,EAAMC,KAAhB,aAAyBD,EAAMvJ,KAAKU,cACnC+I,KAAK,MAFR,gBAEsB3H,EAAgC4H,YAAYhJ,WAE7D0I,EAAU1I,UAGnB,IAAMiJ,GAAsC,mBF5Bb,EE6BV,CACjBC,WAAY,WACZC,gBAAiB,KACjBC,aAHiB,SAGJhI,EAAwBiI,GACnC,MAAM,yDAAN,OAAgEjI,EAAOM,MAAvE,eALsC,cF3Bb,EEmCV,CACjBwH,WAAY,QACZC,gBAAiB,MACjBC,aAHiB,SAGJhI,EAAsBiI,GACjC,IACMT,EAAa,WAAaxH,EAAO8L,kBAAkB5M,KAAI,SAACuI,GAAD,gBAA6BA,EAAMC,MAAnC,OAA0CD,EAAMU,SAAW,GAAK,IAAhE,aAAwEd,EAAYY,EAAYR,EAAMvJ,UAASyJ,KAAK,MAAQ,IACnLoE,EAAS/L,EAAOgM,cAAc9M,KAAI,SAAC+M,GAAD,yBAAgCA,EAAMvE,KAAtC,gBAAkDuE,EAAMvE,KAAxD,8BAAkFL,EAAYY,EAAYgE,EAAM/N,MAAhH,WAA6HyJ,KAAK,MAC1K,MAAM,GAAN,OAHkB,kCAGlB,6FAA2G3H,EAAOM,MAAlH,YAA2HkH,EAA3H,iDAA8KuE,EAA9K,0DAfsC,cF1BF,EE4CV,CAC5BjE,WAAY,aACZC,gBAAiB,MACjBC,aAH4B,SAGfhI,EAAsBiI,GACjC,IACMT,EAAa,WAAaxH,EAAO8L,kBAAkB5M,KAAI,SAACuI,GAAD,gBAA6BA,EAAMC,MAAnC,OAA0CD,EAAMU,SAAW,GAAK,IAAhE,aAAwEd,EAAYY,EAAYR,EAAMvJ,UAASyJ,KAAK,MAAQ,IACnLoE,EAAS/L,EAAOgM,cAAc9M,KAAI,SAAC+M,GAAD,yBAAgCA,EAAMvE,KAAtC,gBAAkDuE,EAAMvE,KAAxD,8BAAkFL,EAAYY,EAAYgE,EAAM/N,MAAhH,WAA6HyJ,KAAK,MAC1K,MAAM,GAAN,OAHkB,kCAGlB,+BAA6C3H,EAAOM,MAApD,YAA6DkH,EAA7D,gBAA+EuE,EAA/E,0DAzBsC,cFxBd,EEoDV,CAChBjE,WAAY,QACZC,gBAAiB,KACjBC,aAHgB,SAGHhI,EAAiCiI,GAC5C,IAAMT,EAAa,YAAcxH,EAAOwH,WAAWtI,KAAI,SAACuI,GAAD,gBAA6BA,EAAMC,MAAnC,OAA0CD,EAAMU,SAAW,GAAK,IAAhE,aAAwEd,EAAYY,EAAYR,EAAMvJ,UAASyJ,KAAK,MAAQ,IACnL,MAAM,yBAAN,OAAgC3H,EAAOM,MAAvC,YAAgDkH,EAAhD,sBAAwEH,EAAYY,EAAYjI,EAAO4H,aAAvG,oEAA+K5H,EAAOM,MAAtL,oCAjCsC,cFtBjB,EE0DV,CACbwH,WAAY,cACZC,gBAAiB,KACjBC,aAHa,SAGAhI,EAA8BiI,GACzC,IAAMT,EAAa,YAAcxH,EAAOwH,WAAWtI,KAAI,SAACuI,GAAD,gBAA6BA,EAAMC,MAAnC,OAA0CD,EAAMU,SAAW,GAAK,IAAhE,aAAwEd,EAAYY,EAAYR,EAAMvJ,UAASyJ,KAAK,MAAQ,IACnL,MAAM,yBAAN,OAAgC3H,EAAOM,MAAvC,YAAgDkH,EAAhD,sBAAwEH,EAAYY,EAAYjI,EAAO4H,aAAvG,oEAA+K5H,EAAOM,MAAtL,oCAzCsC,cFvBlB,EEmEV,CACZwH,WAAY,aACZC,gBAAiB,KACjBC,aAHY,SAGChI,EAA6BiI,GACxC,IAAMiE,EAAWlM,EAAOkI,UACrB9H,QAAO,SAAC+L,GAAD,MAAiD,MAAlBA,EAASrD,QAC/CjI,QAAO,SAACuL,EAAiBD,GACxB,OAAOC,EAAQvN,QAAR,WAAoBsN,EAASzE,MAA7B,mBAAmDyE,EAASzE,KAA5D,QACN1H,EAAO6B,KACN2F,EAAa,YAAcxH,EAAOkI,UAAUhJ,KAAI,SAACuI,GAAD,gBAA+BA,EAAMC,MAArC,OAA4CD,EAAMU,SAAW,GAAK,IAAlE,aAA0Ed,EAAYY,EAAYR,EAAMvJ,UAASyJ,KAAK,MAAQ,IAE9K0E,EAAS,qBADIrM,EAAOkI,UAAU9H,QAAO,SAAC+L,GAAD,MAAiD,MAAlBA,EAASrD,QAClC5J,KAAI,SAACuI,GAAD,oBAAmCA,EAAMC,KAAzC,oBAAyDD,EAAMC,SAAQC,KAAK,OAAS,QAC1I,MAAM,uEAAN,OAA8E3H,EAAOM,MAArF,YAA8FkH,EAA9F,sBAAsHH,EAAYY,EAAYjI,EAAO4H,aAArJ,kBAA2KyE,EAA3K,+CAAyNH,EAAzN,eAAyOlM,EAAO2I,OAAhP,qCAAmRtB,EAAYY,EAAYjI,EAAO4H,aAAlT,0DAxDsC,cFrBlB,EEgFV,CACZE,WAAY,aACZC,gBAAiB,KACjBC,aAHY,SAGChI,EAA6BiI,GACxC,IAAMG,EAAapI,EAAOoI,WAAWlJ,KAAI,SAACuI,GAAD,kBAA+BA,EAAMC,MAArC,OAA4CD,EAAMU,SAAW,GAAK,IAAlE,aAA0Ed,EAAYY,EAAYR,EAAMvJ,UAASyJ,KAAK,MAC/J,MAAM,aAAN,OAAoB3H,EAAOM,MAA3B,eAAuC8H,EAAvC,gCAAyEpI,EAAOM,MAAhF,SAhEsC,GA6f5C,SAAS0I,EAA2CC,EAAmBjJ,GACrE,IAAMkJ,EAAyBrB,EAAS7H,EAAOuH,WAC/C,IAAK2B,EACH,MAAM,IAAIC,MAAJ,+BAAkCnJ,EAAOM,MAAzC,qBAGR,IAAM8I,GAAgBF,EAAuBpB,WAAWuB,MAAM,QAAU,IAAI9J,OAAS,EAE/E+M,EAAwBrD,EAAa7I,QAAO,SAACJ,GAAD,OAA4B6H,EAAS7H,EAAOuH,cACxFgF,EAA4BD,EAAsBpN,KAAI,SAAAb,GAAC,OAAIA,EAAE4B,MAC7DuM,EAAqBvD,EAAa7I,QAAO,SAACJ,GAAD,OF3hBtB,IE2hBkDA,EAAOuH,aAA2BrI,KAAI,SAACc,GAAD,OAA4BA,EAAOC,MAGpJ,OAFAwM,QAAQC,IAAIF,GAEN,GAAN,OACExM,EAAOH,aACNO,QAAO,SAACuM,GAAD,OAAoBJ,EAA0BhE,SAASoE,MAC9DzN,KAAI,SAACqK,GACJ,IAAMlL,EAAIiO,EAAsBvN,MAAK,SAACyK,GAAD,OAAWA,EAAGvJ,KAAOsJ,KAI1D,OAHKlL,GACHoO,QAAQC,IAAI,UAAWnD,GAElBlL,KAERa,KAAI,SAACsJ,GACJ,IAAMC,EAAoBZ,EAASW,EAAQjB,WAC3C,MAAM,YAAN,OAAmBiB,EAAQlI,MAA3B,oBAA4C,MAAMmJ,OAAOL,IAAzD,OAAyEX,EAAkBX,WAA3F,YAAyGU,EAAQlI,MAAjH,QACCqH,KAAK,MAbV,aAeE3H,EAAOH,aACNO,QAAO,SAACuM,GAAD,OAAoBH,EAAmBjE,SAASoE,MACvDzN,KAAI,SAACyN,GAAD,OAAoB1D,EAAalK,MAAK,SAACyK,GAAD,OAAWA,EAAGvJ,KAAO0M,QAC/D9L,QAAO,SAACsK,EAAKyB,GAEZ,IAEMC,EAFiBD,EAAK/M,aAAaO,QAAO,SAAC0M,GAAD,OAAoBN,EAAmBjE,SAASuE,MAEtC1M,QAAO,SAAC0M,GAAD,OAAoB3B,EAAI5C,SAASuE,KAAW9M,EAAOH,aAAa0I,SAASuE,MAE1I,MAAM,GAAN,mBAAW3B,GAAX,YAAmB0B,MAClB,IACF3N,KAAI,SAACqK,GAAD,OAA2B+C,EAAsBvN,MAAK,SAACyK,GAAD,OAAWA,EAAGvJ,KAAOsJ,QAC/ErK,KAAI,SAACsJ,GACJ,IAAMC,EAAoBZ,EAASW,EAAQjB,WAC3C,MAAM,YAAN,OAAmBiB,EAAQlI,MAA3B,oBAA4C,MAAMmJ,OAAOL,IAAzD,OAAyEX,EAAkBX,WAA3F,YAAyGU,EAAQlI,MAAjH,QACCqH,KAAK,OAIZ,SAAS+B,EAAqC1J,EAAWiI,GAEvD,OADaJ,EAAS7H,EAAOuH,WACjBS,aAAahI,EAAQiI,G,qBCtjBpB,SAAS8E,GAAUC,GAEhC,IAAMC,EAAQ1K,IAFyC,EAGnB2K,YAAwB,GAHL,mBAGhDC,EAHgD,KAGlCC,EAHkC,KAiBvD,OAZAF,aAAgB,WACd,IAAMG,EAAsB,WACtBF,GACFC,GAAY,IAIhB,OADA7L,OAAO+L,iBAAiB,QAASD,GAC1B,WACL9L,OAAOgM,oBAAoB,QAASF,OAKtC,sBACEG,UAAWP,EAAMzH,qBACjBiI,cAAe,SAAAC,GAAOA,EAAEC,iBAAkBD,EAAEE,mBAF9C,UAGE,sBAAKX,MAAO,CACVjJ,QAAS,OACTC,cAAe,OAFjB,UAKI+I,EAAMa,UAAU3O,KAAI,SAACwM,GAAD,OAClB,sBACE8B,UAAWP,EAAMtH,gBAEjBmI,QAAS,SAAAJ,GACPA,EAAEE,kBACFZ,EAAMe,qBAAqBrC,EAAKsC,WAElCf,MAAO,CACLgB,UAAU,cAAD,OAAgBvC,EAAKwC,UAAY,EAAI,EAArC,QARb,UAUE,cAAC,IAAD,CACEjB,MAAO,CACLlK,QAAS,QAEX+K,QAAS,SAAAJ,GAAC,OAAIN,GAAY,IAC1BK,cAAe,SAAAC,GACbA,EAAEC,iBACFD,EAAEE,mBAEJO,WAAY,SAAAT,GAAC,MAAc,UAAVA,EAAE9M,KAAmBwM,GAAY,IAClDgB,KAAM1C,EAAKpL,MACX+N,UAAWlB,EACXmB,SAAU,SAAAZ,GAAC,OAAIV,EAAMuB,kBAAkB7C,EAAKsC,SAAUN,EAAEc,OAAO3D,UAEjE,qBACEoC,MAAO,CACLlI,WAAY,GAEd+I,QAAS,SAAAJ,GACPA,EAAEC,iBACFD,EAAEE,kBACFZ,EAAMyB,qBAAqB/C,EAAKsC,WAPpC,SASE,qBAAKf,MAAO,CAACnK,OAAQ,EAAGD,MAAO,GAAI6L,IAAK,kBA/BrChD,EAAKsC,aAoChB,qBACER,UAAWP,EAAMtH,gBACjBsH,MAAO,CACLgB,UAAU,mBAEZH,QAAS,SAAAa,GAAC,OAAI3B,EAAM4B,qBALtB,kBASF,qBAAK3B,MAAO,CACVtJ,QAAS,UACTsC,cAAe,GAFjB,SAIE,wBACEuH,UAAWP,EAAMtH,gBACjBsH,MAAO,CAAExJ,OAAQ,OAAQV,QAAS,QAClC0K,cAAe,SAAAC,GAAOA,EAAEC,iBAAkBD,EAAEE,mBAC5CE,QAAS,SAAAa,GAAC,OAAI3B,EAAM6B,eAJtB,SAKI7B,EAAM8B,WAAa,YAAc,mB,iCCzF9B,SAASC,GAAa/B,GACnC,IAAMC,EAAQ1K,IACd,OACE,gCACE,sBAAKiL,UAAWP,EAAMlJ,8BAAtB,UACE,cAAC,KAAD,CACEiL,YAAY,EACZC,KAAM,EACNC,YAAY,uBACZ1B,UAAWP,EAAM/I,oBACjBmK,SAAUrB,EAAM8B,WAChBjE,MAAOmC,EAAM1M,MACbgO,SAAU,SAAAZ,GAAC,OAAIV,EAAMmC,SAASzB,EAAEc,OAAO3D,WACtCmC,EAAM8B,YAAc,wBAAQ7B,MAAO,CACpCxJ,OAAQ,OACRT,WAAY,0BACZD,QAAS,OACTY,QAAS,WACRmK,QAAS,kBAAMd,EAAMoC,mBALD,SAMrB,qBAAKnC,MAAO,CAACnK,OAAQ,EAAGD,MAAO,GAAI6L,IAAK,mBAG5C,qBAAKlB,UAAWP,EAAM1I,oCAAtB,SACE,cAAC,KAAD,CACEyK,YAAY,EACZC,KAAM,EACNC,YAAY,kBACZb,SAAUrB,EAAM8B,WAChBtB,UAAWP,EAAMzI,0BACjBqG,MAAOmC,EAAMqC,YACbf,SAAU,SAAAZ,GAAC,OAAIV,EAAMsC,eAAe5B,EAAEc,OAAO3D,eC3BxC,SAAS0E,GAAevC,GAErC,IAAMC,EAAQ1K,IAERiN,EAAsD9O,EAD3BsM,EAAMnN,aAAaX,KAAI,SAACe,GAAD,OAAgB+M,EAAMyC,WAAW1Q,MAAK,SAACiB,GAAD,OAA4BA,EAAOC,KAAOA,QAAKG,QAAO,SAAA/B,GAAC,QAAMA,KAC7D,aACxFqR,EAA4D,GAKlE,OAJAC,OAAOC,KAAKJ,GAAkBK,OAAOC,SAAQ,SAASlP,GACpD8O,EAAyB9O,GAAO4O,EAAiB5O,MAIjD,qBAAK4M,UAAWP,EAAMzG,0BAAtB,SAEImJ,OAAOC,KAAKF,GAA0BxQ,KAAI,SAAA0B,GAAG,eAC3C,sBAAe4M,UAAWP,EAAMxG,0BAAhC,UACE,qBAAK+G,UAAWP,EAAMvG,gCAAtB,6BAEIqJ,GAAkBhR,MAAK,SAAAV,GAAC,OAAIA,EAAE4B,KAAO+P,SAASpP,aAFlD,aAEI,EAAqDqP,aAFzD,QAEkE,MAGlE,qBAAKzC,UAAWP,EAAMtG,+BAAtB,SAEI+I,EAAyB9O,GAAK1B,KAAI,SAACc,GAAD,OAChC,sBACEkQ,IAAK,SAAAC,GACCA,GACFnD,EAAMoD,2BAA2BrP,EAAMiM,EAAMqD,SAAUrQ,EAAOC,IAAKkQ,EAAIG,UAAaH,EAAII,aAAe,IAG3G/C,UAAWP,EAAMrG,oCACjBkH,QAAS,SAAAa,GAAC,OAAI3B,EAAMwD,kBAAkBxQ,IAPxC,UASE,qBAAKiN,MAAO,CACVvJ,SAAU,EACV+M,UAAW,YACX9M,QAAS,YAHX,SAKI3D,EAAOM,MAAQN,EAAOM,MAAQ,eAE/B0M,EAAM8B,YAAc,qBACrB7B,MAAO,CACLjJ,QAAS,OACTb,SAAU,WACVI,IAAK,EACLmC,WAAY,SACZgL,OAAQ,UACRxL,qBAAsB,IACtByL,wBAAyB,KAE3B7C,QAAS,SAAAJ,GACPA,EAAEE,kBACFZ,EAAM4D,0BAA0B5Q,EAAOC,GAAI+M,EAAMqD,WAZ9B,SAcrB,qBAAKpD,MAAO,CAACnK,OAAQ,EAAGD,MAAO,GAAI6L,IAAK,kBAtBrC1O,EAAOC,WAjBZW,QCApB,IAAIiQ,IAAU,EAEC,SAASC,GAAW9D,GAAyC,IAAD,EAEnEC,EAAQ1K,IACPwO,EAAmB,CAAC7D,SAAa,OAHiC,GAqCzEA,aAAgB,WAAO,IAAD,IACd8D,EAAC,UAAID,EAAgBpR,eAApB,aAAG,EAAkCsR,wBAAwBpO,MAC9DqO,EAAC,UAAIH,EAAgBpR,eAApB,aAAG,EAAkCsR,wBAAwBnO,OACpEkK,EAAMmE,cAAc,CAAEH,IAAGE,QACxB,WACAH,EAAgBpR,eADhB,aACD,EAAkCsR,wBAAwBnO,SAG5DoK,aAAgB,WAAO,IAAD,IACd8D,EAAC,UAAID,EAAgBpR,eAApB,aAAG,EAAkCsR,wBAAwBpO,MAC9DqO,EAAC,UAAIH,EAAgBpR,eAApB,aAAG,EAAkCsR,wBAAwBnO,OACpEkK,EAAMmE,cAAc,CAAEH,IAAGE,QACxB,IAEH,IAAM9K,EAAoB2J,GAAkBhR,MAAK,SAACqS,GAAD,OAAyBA,EAAGnR,KAAO+M,EAAM7L,KAAKoG,aAE/F,OACE,cAAC,KAAD,CACEpE,SAAU,CACR9E,EAAG2O,EAAM7L,KAAK9C,EACdC,EAAG0O,EAAM7L,KAAK7C,GAEhB+P,SAAUrB,EAAMqB,UAAYrB,EAAM8B,WAClCuC,YAvDJ,SAAyB3D,GACvBV,EAAMqE,eAuDJC,QApDJ,SAAqB5D,EAAmBvK,GACtC,GAAI6J,EAAM8B,WAER,OADApB,EAAEC,kBACK,EAGTkD,IAAU,GA+CRU,OA5CJ,SAAoB7D,EAAmBvK,GACrC,GAAI6J,EAAM8B,YAAc9B,EAAMqB,SAC5B,OAAO,EAETrB,EAAMmE,cAAc,CAClB9S,EAAG8E,EAAS9E,EACZC,EAAG6E,EAAS7E,KAuCZkT,OAnCJ,SAAoB9D,EAAmBvK,GACrC,GAAI6J,EAAM8B,WAER,OADApB,EAAEC,kBACK,EAGTkD,IAAU,GAoBV,SAUE,qBAAK5D,MAAO,CACV9J,SAAU,WACVkC,WAAYwL,IAAW7D,EAAMyE,eAAiB,GAAK,kBACnD5O,MAAOmK,EAAM7L,KAAK6P,EAClBlO,OAAQkK,EAAM7L,KAAK+P,EACnB9N,OAAQ4J,EAAM7L,KAAKuQ,QACnBC,QAAS3E,EAAM4E,iBAAmB5E,EAAM6E,gBAAkB,EAAI,IANhE,SAQE,sBACEpE,cAAe,SAAAC,GAAOA,EAAEC,iBAAkBD,EAAEE,mBAC5CsC,IAAKa,EACLvD,UAAWP,EAAMvI,eACjBuI,MAAO,CACLjK,WAAYoD,EAAkB0L,YAC9B3T,MAAO,QACPkH,WAAYwL,IAAW7D,EAAMyE,eAAiB,GAAK,kBACnDxD,UAAU,SAAD,OAAWjB,EAAM7L,KAAK5C,MAAtB,KACTsG,UAAWmI,EAAM+E,QAAU,kCAAoC,GAC/DC,YAAahF,EAAM+E,QAAU,QAAU3L,EAAkB0L,aAV7D,UAYI,cAAC/C,GAAD,CACED,WAAY9B,EAAM8B,WAClBxO,MAAO0M,EAAM7L,KAAKb,MAClB+O,YAAarC,EAAM7L,KAAKkO,YACxBF,SAAU,SAAC7O,GAAD,OAAmB0M,EAAMmE,cAAc,CAAE7Q,WACnDgP,eAAgB,SAACD,GAAD,OAAyBrC,EAAMmE,cAAc,CAAE9B,iBAC/DD,gBAAiB,kBAAMpC,EAAMoC,qBAC/B,cAACG,GAAD,CACET,WAAY9B,EAAM8B,WAClBuB,SAAUrD,EAAM7L,KAAKlB,GACrBJ,aAAcmN,EAAM7L,KAAKtB,aACzB4P,WAAYzC,EAAMyC,WAClBW,2BAA4BpD,EAAMoD,2BAClCQ,0BAA2B5D,EAAM4D,0BACjCJ,kBAAmBxD,EAAMwD,oBACzBxD,EAAMiF,SACR,qBAAKhF,MAAO,CACV7I,SAAU,EACVT,QAAS,WACTK,QAAS,OACTC,cAAe,MACfyB,WAAY,mBAgCnB,SAASwM,GAA2CC,EAAyCC,GAElG,OACED,EAAUhR,KAAKb,QAAU8R,EAAUjR,KAAKb,OACrC6R,EAAUhR,KAAKkO,cAAgB+C,EAAUjR,KAAKkO,aAC9C8C,EAAUhR,KAAKuQ,UAAYU,EAAUjR,KAAKuQ,SAC1CS,EAAUhR,KAAK5C,QAAU6T,EAAUjR,KAAK5C,OACxC4T,EAAUhR,KAAK9C,IAAM+T,EAAUjR,KAAK9C,GACpC8T,EAAUhR,KAAK7C,IAAM8T,EAAUjR,KAAK7C,GACpC6T,EAAUhR,KAAK+P,IAAMkB,EAAUjR,KAAK+P,GACpCiB,EAAUhR,KAAK6P,IAAMoB,EAAUjR,KAAK6P,GACpCmB,EAAUhR,KAAKtB,aAAaN,SAAW6S,EAAUjR,KAAKtB,aAAaN,QACnE4S,EAAUJ,UAAYK,EAAUL,SAChCI,EAAU9D,WAAa+D,EAAU/D,UACjC8D,EAAUP,kBAAoBQ,EAAUR,iBACxCO,EAAU1C,WAAWlQ,SAAW6S,EAAU3C,WAAWlQ,QACrD4S,EAAUV,iBAAmBW,EAAUX,gBACvCU,EAAUrD,aAAesD,EAAUtD,YACnCqD,EAAUN,kBAAoBO,EAAUP,iBACxCM,EAAU5T,QAAU6T,EAAU7T,MCtKtB,SAAS8T,GAAYrF,GAClC,IAAMC,EAAQ1K,IACd,OACE,sBACEkL,cAAe,SAAAC,GAAOA,EAAEC,iBAAkBD,EAAEE,mBAC5CX,MAAO,CAAEyD,OAAQ,WAAY1M,QAAS,OAAQC,cAAe,MAAOjB,WAAY,0BAA2B7E,MAAO,QAASuH,WAAY,SAAUd,aAAc,EAAGhC,SAAU,UAF9K,UAGE,qBAAKqK,MAAO,CAAEtJ,QAAS,UAAWZ,QAAS,OAAQ5E,MAAO,QAAS4G,WAAY,GAA/E,SACIiI,EAAM7L,KAAK2H,OAEf,uBACE0E,UAAWP,EAAMzJ,cACjByJ,MAAO,CAAEvJ,SAAU,EAAGb,MAAO,OAAQE,QAAS,QAC9CmM,YAAY,OACZhR,KAAK,OACLmQ,SAAUrB,EAAM8B,WAChBjE,MAAOmC,EAAM7L,KAAKuG,KAClB4G,SAAW,SAACZ,GACVV,EAAMsF,QAAS5E,EAAEc,OAAO3D,UAG5B,qBACEoC,MAAO,CACLtJ,QAAS,UACTZ,QAAS,OACTC,WAAY,0BACZ7E,MAAOO,EAAoBsO,EAAM7L,KAAKjD,OAExCqU,SAAU,EACVC,eAAWC,EACXC,KAAK,WACL5E,QAAS,SAACJ,GAAqD,IAAD,QACxDV,EAAM8B,YAGV9B,EAAM2F,QACJjF,EAAEkF,SACAnS,EAAYuM,EAAM7L,KAAKjD,KAAZ,UAAkB8O,EAAMyC,kBAAxB,QAAsC,GAAtC,UAA0CzC,EAAMnN,oBAAhD,QAAgE,IAC3EH,EAAYsN,EAAM7L,KAAKjD,KAAZ,UAAkB8O,EAAMyC,kBAAxB,QAAsC,GAAtC,UAA0CzC,EAAMnN,oBAAhD,QAAgE,MAjBnF,SAoBImN,EAAM7L,KAAKjD,KAAKU,YAEpB,qBACE2T,SAAU,EACVC,eAAWC,EACXC,KAAK,WACL5E,QAAS,SAACJ,GACJV,EAAM8B,YAGV9B,EAAM6F,aAAc7F,EAAM7L,KAAKgH,WAEjC8E,MAAO,CAAEtJ,QAAS,UAAWX,WAAYgK,EAAM7L,KAAKgH,SAAW,OAAS,OAAQpF,QAAS,QAV3F,SAWIiK,EAAM7L,KAAKgH,SAAW,IAAM,OAE7B6E,EAAM8B,YAAc,qBACrB7B,MAAO,CAAEtJ,QAAS,UAAWX,WAAY,0BAA2B7E,MAAO,QAAS4E,QAAS,QAC7FwP,SAAU,EACVC,eAAWC,EACXC,KAAK,WACL5E,QAAS,SAACJ,GACRV,EAAM8F,YANa,kBC7D7B,SAASC,GAAU/F,GACjB,OACE,eAAC8D,GAAD,2BAAgB9D,GAAhB,cACE,qBAAKC,MAAO,CAAEtJ,QAAS,WAAYC,WAAY,GAAIQ,SAAU,IAA7D,SACE,yBACE6I,MAAO,CACLpK,MAAO,OACPG,WAAY,2BACZ4B,aAAc,EACdnB,OAAQ,OACRV,QAAS,OACT5E,MAAO,QACPwF,QAAS,WAEXkH,MAAOmC,EAAM7L,KAAKwH,OAClB0F,SAAUrB,EAAM8B,WAChBR,SAAU,SAACZ,GAA6C,IAC9C7C,EAAU6C,EAAEc,OAAZ3D,MACRmC,EAAMmE,cAAc,CAClBxI,OAAQkC,KAfd,UAkBE,wBAAQA,MAAM,MAAd,iBACA,wBAAQA,MAAM,OAAd,kBACA,wBAAQA,MAAM,MAAd,iBACA,wBAAQA,MAAM,SAAd,yBAGJ,qBAAKoC,MAAO,CAAEtJ,QAAS,YAAvB,SACI,cAAC,KAAD,CACIsL,KAAM,EACNC,YAAY,WACZrE,MAAOmC,EAAM7L,KAAKU,IAClBwM,SAAUrB,EAAM8B,WAChB7B,MAAO,CACHlK,QAAS,OACTU,OAAQ,OACRmB,aAAc,EACdjB,QAAS,WACTV,WAAY,UACZkB,UAAW,aACXC,SAAU,GACVvB,MAAO,OACP1E,MAAO,QACP6E,WAAY,WAEhBsL,SAAU,SAACZ,GAA+C,IAC9C7C,EAAU6C,EAAEc,OAAZ3D,MAERmC,EAAMmE,cAAc,CAClBtP,IAAKgJ,SAKnB,8BAEImC,EAAM7L,KAAK+G,UAAUhJ,KAAI,SAACiN,GAAD,aACvB,cAACkG,GAAD,CACEvD,WAAY9B,EAAM8B,WAElB3N,KAAMgL,EACNsD,WAAU,UAAEzC,EAAMyC,kBAAR,QAAsB,GAChC5P,aAAcmN,EAAM7L,KAAKtB,aACzByS,QAAS,SAAC5K,GACRsF,EAAMmE,cAAc,CAClBjJ,UAAW8E,EAAM7L,KAAK+G,UAAUhJ,KAAI,SAAA0J,GAClC,OAAIA,EAAK3I,KAAOkM,EAASlM,GAChB,2BAAKkM,GAAZ,IAAsBzE,SAEjBkB,QAIb+J,QAAS,SAACzU,GACR8O,EAAMmE,cAAc,CAClBjJ,UAAW8E,EAAM7L,KAAK+G,UAAUhJ,KAAI,SAAA0J,GAClC,OAAIA,EAAK3I,KAAOkM,EAASlM,GAChB,2BAAKkM,GAAZ,IAAsBjO,SAEjB0K,QAIbiK,YAAa,SAAC1K,GACZ6E,EAAMmE,cAAc,CAClBjJ,UAAW8E,EAAM7L,KAAK+G,UAAUhJ,KAAI,SAAA0J,GAClC,OAAIA,EAAK3I,KAAOkM,EAASlM,GAChB,2BAAKkM,GAAZ,IAAsBhE,aAEjBS,QAIbkK,SAAU,WACR9F,EAAMmE,cAAc,CAClBjJ,UAAU,YAAK8E,EAAM7L,KAAK+G,UAAU9H,QAAO,SAAA4S,GAAE,OAAIA,EAAG/S,KAAOkM,EAASlM,WApCnEkM,EAASlM,UA2CnB+M,EAAM8B,YAAc,sBAAK7B,MAAO,CAAEjJ,QAAS,OAAQC,cAAe,MAAOwB,eAAgB,GAAIiL,OAAQ,WAAY9L,aAAc,EAAG5B,WAAY,2BAA1H,UACrB,qBACEiK,MAAO,CAAEpK,MAAO,MAAOsB,UAAW,aAAcR,QAAS,EAAGsP,UAAW,SAAUlQ,QAAS,QAC1FwP,SAAU,EACVC,eAAWC,EACXC,KAAK,WACL5E,QAAS,SAACJ,GACRV,EAAMmE,cAAc,CAClBjJ,UAAU,GAAD,mBAAM8E,EAAM7L,KAAK+G,WAAjB,CAA4B,CACnCjI,IAAI,IAAIgK,MAAOiJ,UACfpK,KAAM,IACNpB,KAAM,GACNxJ,KAAM,CACJU,UAAW,MACXa,eAAgBzB,GAElBmK,UAAU,QAflB,qBAqBA,qBACE8E,MAAO,CAAEpK,MAAO,MAAOsB,UAAW,aAAcR,QAAS,EAAGsP,UAAW,SAAUlQ,QAAS,OAAQoQ,YAAa,oCAAqCC,WAAY,qCAChKb,SAAU,EACVC,eAAWC,EACXC,KAAK,WACL5E,QAAS,SAACJ,GACRV,EAAMmE,cAAc,CAClBjJ,UAAU,GAAD,mBAAM8E,EAAM7L,KAAK+G,WAAjB,CAA4B,CACnCjI,IAAI,IAAIgK,MAAOiJ,UACfpK,KAAM,IACNpB,KAAM,GACNxJ,KAAM,CACJU,UAAW,MACXa,eAAgBzB,GAElBmK,UAAU,QAflB,oBAqBA,qBACE8E,MAAO,CAAEpK,MAAO,MAAOsB,UAAW,aAAcR,QAAS,EAAGsP,UAAW,SAAUlQ,QAAS,OAAQoQ,YAAa,qCAC/GZ,SAAU,EACVC,eAAWC,EACXC,KAAK,WACL5E,QAAS,SAACJ,GACRV,EAAMmE,cAAc,CAClBjJ,UAAU,GAAD,mBAAM8E,EAAM7L,KAAK+G,WAAjB,CAA4B,CACnCjI,IAAI,IAAIgK,MAAOiJ,UACfpK,KAAM,IACNpB,KAAM,GACNxJ,KAAM,CACJU,UAAW,MACXa,eAAgBzB,GAElBmK,UAAU,QAflB,mBAqBA,qBACE8E,MAAO,CAAEpK,MAAO,MAAOsB,UAAW,aAAcR,QAAS,EAAGsP,UAAW,SAAUlQ,QAAS,QAC1FwP,SAAU,EACVC,eAAWC,EACXC,KAAK,WACL5E,QAAS,SAACJ,GACRV,EAAMmE,cAAc,CAClBjJ,UAAU,GAAD,mBAAM8E,EAAM7L,KAAK+G,WAAjB,CAA4B,CACnCjI,IAAI,IAAIgK,MAAOiJ,UACfpK,KAAM,IACNpB,KAAM,GACNxJ,KAAM,CACJU,UAAW,MACXa,eAAgBzB,GAElBmK,UAAU,QAflB,uBAsBF,sBAAK8E,MAAO,CAAEjJ,QAAS,OAAQC,cAAe,MAAOyB,WAAY,SAAUgL,OAAQ,WAAY1L,UAAW,GAA1G,UACE,qBAAKiI,MAAO,CAAEnG,YAAa,GAA3B,oBAGA,qBACE2G,cAAe,SAAAC,GAAOA,EAAEC,iBAAkBD,EAAEE,mBAC5CX,MAAO,CACLlK,QAAS,OACToB,UAAW,aACXnB,WAAY,QACZqB,WAAY,OACZ4O,UAAW,SACXvP,SAAU,EACVC,QAAS,WACTiB,aAAc,EACdzG,MAAOO,EAAoBsO,EAAM7L,KAAKyG,cAExC2K,SAAU,EACVC,eAAWC,EACXC,KAAK,WACL5E,QAAS,SAACJ,GACJV,EAAM8B,YAGV9B,EAAMmE,cAAc,CAClBvJ,YACE8F,EAAEkF,SACAnS,EAAYuM,EAAM7L,KAAKyG,YAAaoF,EAAMyC,WAAYzC,EAAM7L,KAAKtB,cACjEH,EAAYsN,EAAM7L,KAAKyG,YAAaoF,EAAMyC,WAAYzC,EAAM7L,KAAKtB,iBAxB3E,SA4BImN,EAAM7L,KAAKyG,YAAYhJ,mBAOpBsO,cACb6F,IACA,SAAUZ,EAAqCC,GAC3C,IAAIiB,EAASnB,GAAgCC,EAAWC,GACxD,GAAID,EAAUhR,KAAKwH,SAAWyJ,EAAUjR,KAAKwH,OACzC,OAAO,EAEX,GAAIwJ,EAAUhR,KAAKU,MAAQuQ,EAAUjR,KAAKU,IACtC,OAAO,EAEX,GAAIsQ,EAAUhR,KAAKyG,cAAgBwK,EAAUjR,KAAKyG,YAC9C,OAAO,EAEX,GAAIuK,EAAUhR,KAAK+G,UAAU3I,SAAW6S,EAAUjR,KAAK+G,UAAU3I,OAC7D,OAAO,EAEX,IAAK,IAAID,EAAI,EAAGA,EAAI6S,EAAUhR,KAAK+G,UAAU3I,OAAQD,GAAK,EAAG,CACzD,IAAMgU,EAAKnB,EAAUhR,KAAK+G,UAAU5I,GAC9BiU,EAAKnB,EAAUjR,KAAK+G,UAAU5I,GACpC,GAAIgU,EAAG5L,OAAS6L,EAAG7L,KACf,OAAO,EAEX,GAAI4L,EAAGpV,OAASqV,EAAGrV,KACf,OAAO,EAEX,GAAIoV,EAAGnL,WAAaoL,EAAGpL,SACnB,OAAO,EAIf,OAAOkL,KC/PN,SAASG,GAASxG,GACrB,IAAMC,EAAQ1K,IAEd,OACI,sBACIkL,cAAe,SAAAC,GAAOA,EAAEC,iBAAkBD,EAAEE,mBAC5CX,MAAO,CAAEyD,OAAQ,WAAY1M,QAAS,OAAQC,cAAe,MAAO9F,MAAO,QAASuH,WAAY,SAAUd,aAAc,EAAGhC,SAAU,UAFzI,UAGI,uBACI4K,UAAWP,EAAMzJ,cACjBtF,KAAK,OACLmQ,SAAUrB,EAAM8B,WAChBjE,MAAOmC,EAAMtF,KACb4G,SAAW,SAACZ,GACRV,EAAMsF,QAAS5E,EAAEc,OAAO3D,UAGhC,qBACIoC,MAAO,CACHtJ,QAAS,UACTZ,QAAS,OACTC,WAAY,0BACZ7E,MAAOO,EAAoBsO,EAAM9O,OAErCqU,SAAU,EACVC,eAAWC,EACXC,KAAK,WACL5E,QAAS,SAACJ,GAAqD,IAAD,IACtDV,EAAM8B,YAGV9B,EAAM2F,QACFjF,EAAEkF,SACAnS,EAAYuM,EAAM9O,KAAM8O,EAAMyC,WAAnB,gCAAmCzC,EAAMnN,oBAAzC,QAAyD,IAAzD,CAA6DmN,EAAMqD,YAC9E3Q,EAAYsN,EAAM9O,KAAM8O,EAAMyC,WAAnB,gCAAmCzC,EAAMnN,oBAAzC,QAAyD,IAAzD,CAA6DmN,EAAMqD,cAjB5F,SAoBMrD,EAAM9O,KAAKU,YAEjB,qBACI2T,SAAU,EACVC,eAAWC,EACXC,KAAK,WACL5E,QAAS,SAACJ,GACFV,EAAM8B,YAGV9B,EAAM6F,aAAc7F,EAAM7E,WAE9B8E,MAAO,CAAEtJ,QAAS,UAAWX,WAAYgK,EAAM7E,SAAW,OAAS,OAAQpF,QAAS,QAVxF,SAWMiK,EAAM7E,SAAW,IAAM,OAE1B6E,EAAM8B,YAAc,qBACnB7B,MAAO,CAAEtJ,QAAS,UAAWX,WAAY,0BAA2B7E,MAAO,QAAS4E,QAAS,QAC7FwP,SAAU,EACVC,eAAWC,EACXC,KAAK,WACL5E,QAAS,SAACJ,GACNV,EAAM8F,YANS,kBC1DnC,SAASW,GAAoBzG,GAC3B,OACE,eAAC8D,GAAD,2BAAgB9D,GAAhB,cACE,8BAEEA,EAAM7L,KAAKqG,WAAWtI,KAAI,SAACb,GAAD,aACxB,wBAACmV,GAAD,2BACMnV,GADN,IAEEuC,IAAKvC,EAAE4B,GACP6O,WAAY9B,EAAM8B,WAClBW,WAAU,UAAEzC,EAAMyC,kBAAR,QAAsB,GAChC5P,aAAcmN,EAAM7L,KAAKtB,aACzByS,QAAS,SAAC5K,GACRsF,EAAMmE,cAAc,CAClB3J,WAAYwF,EAAM7L,KAAKqG,WAAWtI,KAAI,SAAA0J,GACpC,OAAIA,EAAK3I,KAAO5B,EAAE4B,GACT,2BAAK5B,GAAZ,IAAeqJ,SAEVkB,QAIb+J,QAAS,SAACzU,GACR8O,EAAMmE,cAAc,CAClB3J,WAAYwF,EAAM7L,KAAKqG,WAAWtI,KAAI,SAAA0J,GACpC,OAAIA,EAAK3I,KAAO5B,EAAE4B,GACT,2BAAK5B,GAAZ,IAAeH,SAEV0K,QAIbiK,YAAa,SAAC1K,GACZ6E,EAAMmE,cAAc,CAClB3J,WAAYwF,EAAM7L,KAAKqG,WAAWtI,KAAI,SAAA0J,GACpC,OAAIA,EAAK3I,KAAO5B,EAAE4B,GACT,2BAAK5B,GAAZ,IAAe8J,aAEVS,QAIbkK,SAAU,WACR9F,EAAMmE,cAAc,CAClB3J,WAAW,YAAKwF,EAAM7L,KAAKqG,WAAWpH,QAAO,SAAA4S,GAAE,OAAIA,EAAG/S,KAAO5B,EAAE4B,mBAOxE+M,EAAM8B,YAAc,qBAAK7B,MAAO,CAAEjJ,QAAS,OAAQC,cAAe,MAAOwB,eAAgB,GAAIiL,OAAQ,WAAYjN,OAAQ,oCAAqCmB,aAAc,EAAG5B,WAAY,0BAA2B7E,MAAO,QAAzM,SACrB,qBACE8O,MAAO,CAAEpK,MAAO,OAAQsB,UAAW,aAAcR,QAAS,EAAGsP,UAAW,SAAUlQ,QAAS,QAC3FwP,SAAU,EACVC,eAAWC,EACXC,KAAK,WACL5E,QAAS,SAACJ,GACRV,EAAMmE,cAAc,CAClB3J,WAAW,GAAD,mBAAMwF,EAAM7L,KAAKqG,YAAjB,CAA6B,CACrCvH,IAAI,IAAIgK,MAAOiJ,UACfxL,KAAM,GACNxJ,KAAM,CACJU,UAAW,MACXa,eAAgBzB,GAElBmK,UAAU,QAdlB,2BAqBF,sBAAK8E,MAAO,CAAEjJ,QAAS,OAAQC,cAAe,MAAOyB,WAAY,SAAUgL,OAAQ,WAAY1L,UAAW,GAA1G,UACE,qBAAKiI,MAAO,CAAEnG,YAAa,GAA3B,oBAGA,qBACE2G,cAAe,SAAAC,GAAOA,EAAEC,iBAAkBD,EAAEE,mBAC5CX,MAAO,CACLlK,QAAS,OACToB,UAAW,aACXE,WAAY,OACZ4O,UAAW,SACXvP,SAAU,EACVC,QAAS,WACTX,WAAY,QACZ4B,aAAc,EACdzG,MAAOO,EAAoBsO,EAAM7L,KAAKyG,cAExC2K,SAAU,EACVC,eAAWC,EACXC,KAAK,WACL5E,QAAS,SAACJ,GACJV,EAAM8B,YAGV9B,EAAMmE,cAAc,CAClBvJ,YACE8F,EAAEkF,SACAnS,EAAYuM,EAAM7L,KAAKyG,YAAaoF,EAAMyC,WAAYzC,EAAM7L,KAAKtB,cACjEH,EAAYsN,EAAM7L,KAAKyG,YAAaoF,EAAMyC,WAAYzC,EAAM7L,KAAKtB,iBAxB3E,SA4BImN,EAAM7L,KAAKyG,YAAYhJ,mBAOlBsO,cACbuG,IACA,SAAUtB,EAA+CC,GACrD,IAAIiB,EAASnB,GAA0CC,EAAWC,GAClE,GAAID,EAAUhR,KAAKyG,cAAgBwK,EAAUjR,KAAKyG,YAC9C,OAAO,EAEX,GAAIuK,EAAUhR,KAAKqG,WAAWjI,SAAW6S,EAAUjR,KAAKqG,WAAWjI,OAC/D,OAAO,EAEX,IAAK,IAAID,EAAI,EAAGA,EAAI6S,EAAUhR,KAAKqG,WAAWjI,OAAQD,GAAK,EAAG,CAC1D,IAAMgU,EAAKnB,EAAUhR,KAAKqG,WAAWlI,GAC/BiU,EAAKnB,EAAUjR,KAAKqG,WAAWlI,GACrC,GAAIgU,EAAG5L,OAAS6L,EAAG7L,KACf,OAAO,EAEX,GAAI4L,EAAGpV,OAASqV,EAAGrV,KACf,OAAO,EAEX,GAAIoV,EAAGnL,WAAaoL,EAAGpL,SACnB,OAAO,EAIf,OAAOkL,KCxIb,SAASK,GAAiB1G,GACxB,OACE,eAAC8D,GAAD,2BAAgB9D,GAAhB,cACE,8BAEEA,EAAM7L,KAAKqG,WAAWtI,KAAI,SAACb,GAAD,aACxB,wBAACmV,GAAD,2BACMnV,GADN,IAEEuC,IAAKvC,EAAE4B,GACP6O,WAAY9B,EAAM8B,WAClBW,WAAU,UAAEzC,EAAMyC,kBAAR,QAAsB,GAChC5P,aAAcmN,EAAM7L,KAAKtB,aACzByS,QAAS,SAAC5K,GACRsF,EAAMmE,cAAc,CAClB3J,WAAYwF,EAAM7L,KAAKqG,WAAWtI,KAAI,SAAA0J,GACpC,OAAIA,EAAK3I,KAAO5B,EAAE4B,GACT,2BAAK5B,GAAZ,IAAeqJ,SAEVkB,QAIb+J,QAAS,SAACzU,GACR8O,EAAMmE,cAAc,CAClB3J,WAAYwF,EAAM7L,KAAKqG,WAAWtI,KAAI,SAAA0J,GACpC,OAAIA,EAAK3I,KAAO5B,EAAE4B,GACT,2BAAK5B,GAAZ,IAAeH,SAEV0K,QAIbiK,YAAa,SAAC1K,GACZ6E,EAAMmE,cAAc,CAClB3J,WAAYwF,EAAM7L,KAAKqG,WAAWtI,KAAI,SAAA0J,GACpC,OAAIA,EAAK3I,KAAO5B,EAAE4B,GACT,2BAAK5B,GAAZ,IAAe8J,aAEVS,QAIbkK,SAAU,WACR9F,EAAMmE,cAAc,CAClB3J,WAAW,YAAKwF,EAAM7L,KAAKqG,WAAWpH,QAAO,SAAA4S,GAAE,OAAIA,EAAG/S,KAAO5B,EAAE4B,mBAOxE+M,EAAM8B,YAAc,qBAAK7B,MAAO,CAAEjJ,QAAS,OAAQC,cAAe,MAAOwB,eAAgB,GAAIiL,OAAQ,WAAYjN,OAAQ,oCAAqCmB,aAAc,EAAG5B,WAAY,0BAA2B7E,MAAO,QAAzM,SACrB,qBACE8O,MAAO,CAAEpK,MAAO,OAAQsB,UAAW,aAAcR,QAAS,EAAGsP,UAAW,SAAUlQ,QAAS,QAC3FwP,SAAU,EACVC,eAAWC,EACXC,KAAK,WACL5E,QAAS,SAACJ,GACRV,EAAMmE,cAAc,CAClB3J,WAAW,GAAD,mBAAMwF,EAAM7L,KAAKqG,YAAjB,CAA6B,CACrCvH,IAAI,IAAIgK,MAAOiJ,UACfxL,KAAM,GACNxJ,KAAM,CACJU,UAAW,MACXa,eAAgBzB,GAElBmK,UAAU,QAdlB,2BAqBF,sBAAK8E,MAAO,CAAEjJ,QAAS,OAAQC,cAAe,MAAOyB,WAAY,SAAUgL,OAAQ,WAAY1L,UAAW,GAA1G,UACE,qBAAKiI,MAAO,CAAEnG,YAAa,GAA3B,oBAGA,qBACE2G,cAAe,SAAAC,GAAOA,EAAEC,iBAAkBD,EAAEE,mBAC5CX,MAAO,CACLlK,QAAS,OACToB,UAAW,aACXE,WAAY,OACZ4O,UAAW,SACXvP,SAAU,EACVC,QAAS,WACTX,WAAY,QACZ4B,aAAc,EACdzG,MAAOO,EAAoBsO,EAAM7L,KAAKyG,cAExC2K,SAAU,EACVC,eAAWC,EACXC,KAAK,WACL5E,QAAS,SAACJ,GACJV,EAAM8B,YAGV9B,EAAMmE,cAAc,CAClBvJ,YACE8F,EAAEkF,SACAnS,EAAYuM,EAAM7L,KAAKyG,YAAaoF,EAAMyC,WAAYzC,EAAM7L,KAAKtB,cACjEH,EAAYsN,EAAM7L,KAAKyG,YAAaoF,EAAMyC,WAAYzC,EAAM7L,KAAKtB,iBAxB3E,SA4BImN,EAAM7L,KAAKyG,YAAYhJ,mBAOlBsO,cACbwG,IACA,SAAUvB,EAA4CC,GACpD,IAAIiB,EAASnB,GAAuCC,EAAWC,GAC/D,GAAID,EAAUhR,KAAKyG,cAAgBwK,EAAUjR,KAAKyG,YAChD,OAAO,EAET,GAAIuK,EAAUhR,KAAKqG,WAAWjI,SAAW6S,EAAUjR,KAAKqG,WAAWjI,OACjE,OAAO,EAET,IAAK,IAAID,EAAI,EAAGA,EAAI6S,EAAUhR,KAAKqG,WAAWjI,OAAQD,GAAK,EAAG,CAC5D,IAAMgU,EAAKnB,EAAUhR,KAAKqG,WAAWlI,GAC/BiU,EAAKnB,EAAUjR,KAAKqG,WAAWlI,GACrC,GAAIgU,EAAG5L,OAAS6L,EAAG7L,KACjB,OAAO,EAET,GAAI4L,EAAGpV,OAASqV,EAAGrV,KACjB,OAAO,EAET,GAAIoV,EAAGnL,WAAaoL,EAAGpL,SACrB,OAAO,EAIX,OAAOkL,KCzIX,SAASM,GAAgB3G,GACvB,OACE,eAAC8D,GAAD,2BAAgB9D,GAAhB,cACE,8BAEIA,EAAM7L,KAAKiH,WAAWlJ,KAAI,SAACb,GAAD,aACxB,wBAACmV,GAAD,2BACMnV,GADN,IAEEuC,IAAKvC,EAAE4B,GACP6O,WAAY9B,EAAM8B,WAClBW,WAAU,UAAEzC,EAAMyC,kBAAR,QAAsB,GAChCY,SAAUrD,EAAM7L,KAAKlB,GACrBJ,aAAcmN,EAAM7L,KAAKtB,aACzByS,QAAS,SAAC5K,GACRsF,EAAMmE,cAAc,CAClB/I,WAAY4E,EAAM7L,KAAKiH,WAAWlJ,KAAI,SAAA0J,GACpC,OAAIA,EAAK3I,KAAO5B,EAAE4B,GACT,2BAAK5B,GAAZ,IAAeqJ,SAEVkB,QAIb+J,QAAS,SAACzU,GACR8O,EAAMmE,cAAc,CAClB/I,WAAY4E,EAAM7L,KAAKiH,WAAWlJ,KAAI,SAAA0J,GACpC,OAAIA,EAAK3I,KAAO5B,EAAE4B,GACT,2BAAK5B,GAAZ,IAAeH,SAEV0K,QAIbiK,YAAa,SAAC1K,GACZ6E,EAAMmE,cAAc,CAClB/I,WAAY4E,EAAM7L,KAAKiH,WAAWlJ,KAAI,SAAA0J,GACpC,OAAIA,EAAK3I,KAAO5B,EAAE4B,GACT,2BAAK5B,GAAZ,IAAe8J,aAEVS,QAIbkK,SAAU,WACR9F,EAAMmE,cAAc,CAClB/I,WAAW,YAAK4E,EAAM7L,KAAKiH,WAAWhI,QAAO,SAAA4S,GAAE,OAAIA,EAAG/S,KAAO5B,EAAE4B,mBAOxE+M,EAAM8B,YAAc,qBAAK7B,MAAO,CAAEjJ,QAAS,eAAgBC,cAAe,MAAOwB,eAAgB,GAAIiL,OAAQ,WAAYjN,OAAQ,oCAAqCmB,aAAc,EAAG5B,WAAY,0BAA2B7E,MAAO,QAAjN,SACrB,qBACE8O,MAAO,CAAE9I,UAAW,aAAcR,QAAS,UAAWsP,UAAW,SAAUlQ,QAAS,QACpFwP,SAAU,EACVC,eAAWC,EACXC,KAAK,WACL5E,QAAS,SAACJ,GACRV,EAAMmE,cAAc,CAClB/I,WAAW,GAAD,mBAAM4E,EAAM7L,KAAKiH,YAAjB,CAA6B,CACrCnI,IAAI,IAAIgK,MAAOiJ,UACfxL,KAAM,GACNxJ,KAAM,CACJU,UAAW,MACXa,eAAgBzB,GAElBmK,UAAU,QAdlB,qBAyBO+E,cACbyG,IACA,SAAUxB,EAA2CC,GACjD,IAAIiB,EAASnB,GAAsCC,EAAWC,GAC9D,GAAID,EAAUhR,KAAKiH,WAAW7I,SAAW6S,EAAUjR,KAAKiH,WAAW7I,OAC/D,OAAO,EAEX,IAAK,IAAID,EAAI,EAAGA,EAAI6S,EAAUhR,KAAKiH,WAAW7I,OAAQD,GAAK,EAAG,CAC1D,IAAMgU,EAAKnB,EAAUhR,KAAKiH,WAAW9I,GAC/BiU,EAAKnB,EAAUjR,KAAKiH,WAAW9I,GACrC,GAAIgU,EAAG5L,OAAS6L,EAAG7L,KACf,OAAO,EAEX,GAAI4L,EAAGpV,OAASqV,EAAGrV,KACf,OAAO,EAEX,GAAIoV,EAAGnL,WAAaoL,EAAGpL,SACnB,OAAO,EAIf,OAAOkL,KCzGb,SAASO,GAAqB5G,GAC1B,OACI,cAAC8D,GAAD,eAAgB9D,IAKTE,cACb0G,IACA,SAAUzB,EAAgDC,GAEtD,OADaF,GAAiCC,EAAWC,MCFxD,SAASyB,GAAY7G,GAC1B,IAAMC,EAAQ1K,IACd,OACE,sBAAK0K,MAAO,CAAEyD,OAAQ,WAAY1M,QAAS,OAAQC,cAAe,MAAO9F,MAAO,QAASuH,WAAY,SAAUd,aAAc,EAAGhC,SAAU,UAA1I,UACE,uBACE4K,UAAWP,EAAMzJ,cACjBtF,KAAK,OACL2M,MAAOmC,EAAMtF,KACb2G,SAAUrB,EAAM8B,WAChBR,SAAW,SAACZ,GACVV,EAAMsF,QAAS5E,EAAEc,OAAO3D,UAG5B,qBACEoC,MAAO,CACLtJ,QAAS,UACTZ,QAAS,OACTC,WAAY,0BACZ7E,MAAOO,EAAoBsO,EAAM9O,OAEnCqU,SAAU,EACVC,eAAWC,EACXC,KAAK,WACL5E,QAAS,SAACJ,GAAqD,IAAD,QACxDV,EAAM8B,YAGV9B,EAAM2F,QACJjF,EAAEkF,SACAnS,EAAYuM,EAAM9O,KAAP,UAAa8O,EAAMyC,kBAAnB,QAAiC,GAAjC,UAAqCzC,EAAMnN,oBAA3C,QAA2D,IACtEH,EAAYsN,EAAM9O,KAAP,UAAa8O,EAAMyC,kBAAnB,QAAiC,GAAjC,UAAqCzC,EAAMnN,oBAA3C,QAA2D,MAjB9E,SAoBImN,EAAM9O,KAAKU,aAEZoO,EAAM8B,YAAc,qBACrB7B,MAAO,CAAEtJ,QAAS,UAAWX,WAAY,0BAA2B7E,MAAO,QAAS4E,QAAS,QAC7FwP,SAAU,EACVC,eAAWC,EACXC,KAAK,WACL5E,QAAS,SAACJ,GACRV,EAAM8F,YANa,kBAgB7B,SAASgB,GAAS9G,GAChB,SAAS+G,IACP,IAAMnU,EAAgCoN,EAAMyC,WACtCuE,EAA4BpU,EAAYV,KAAI,SAACc,GAAD,OAA4BA,EAAOC,MAC/EgU,EAAmCrU,EAAYQ,QAAO,SAACJ,GAAD,Od7DrC,Ic6DiEA,EAAOuH,aAA2BrI,KAAI,SAACc,GAAD,OAA4BA,EAAOC,MACjK,MAAM,GAAN,mBACK+M,EAAM7L,KAAKtB,aACbO,QAAO,SAAC8T,GAAD,OAAuBF,EAAgBzL,SAAS2L,MACvDhV,KAAI,SAACgV,GAAD,OAAuBtU,EAAYb,MAAK,SAACiB,GAAD,OAA4BA,EAAOC,KAAOiU,QACtFhV,KAAI,SAACc,GAAD,MAA6B,CAAEY,IAAKZ,EAAOC,GAAI4K,MAAO7K,EAAOM,WAJpE,YAKK0M,EAAM7L,KAAK2K,kBACb1L,QAAO,SAACqH,GAAD,MAAoD,aAAzBA,EAAMvJ,KAAKU,WAA4BqV,EAAuB1L,SAASd,EAAMvJ,KAAKuB,mBACpHP,KAAI,SAACuI,GAAD,MAA2B,CAAE7G,IAAK6G,EAAMxH,GAAI4K,MAAM,YAAD,OAAcpD,EAAMC,YAI9E,OACE,cAACoJ,GAAD,2BAAgB9D,GAAhB,aACE,sBAAKC,MAAO,CACRrJ,WAAY,EACZgC,cAAe,GAFnB,UAIE,gCACKoH,EAAM8B,YAAc9B,EAAM7L,KAAK2K,kBAAkBvM,OAAS,GAAM,qBAAK0N,MAAO,CAAEtJ,QAAS,YAAvB,sBAIjEqJ,EAAM7L,KAAK2K,kBAAkB5M,KAAI,SAACb,GAAD,OAC/B,wBAACmV,GAAD,2BACMnV,GADN,IAEEuC,IAAKvC,EAAE4B,GACP6O,WAAY9B,EAAM8B,WAClBW,WAAYzC,EAAMyC,WAClB5P,aAAcmN,EAAM7L,KAAKtB,aACzByS,QAAS,SAAC5K,GACRsF,EAAMmE,cAAc,CAClBrF,kBAAmBkB,EAAM7L,KAAK2K,kBAAkB5M,KAAI,SAAA0J,GAClD,OAAIA,EAAK3I,KAAO5B,EAAE4B,GACT,2BAAK5B,GAAZ,IAAeqJ,SAEVkB,QAIb+J,QAAS,SAACzU,GACR8O,EAAMmE,cAAc,CAClBrF,kBAAmBkB,EAAM7L,KAAK2K,kBAAkB5M,KAAI,SAAA0J,GAClD,OAAIA,EAAK3I,KAAO5B,EAAE4B,GACT,2BAAK5B,GAAZ,IAAeH,SAEV0K,QAIbiK,YAAa,SAAC1K,GACZ6E,EAAMmE,cAAc,CAClBrF,kBAAmBkB,EAAM7L,KAAK2K,kBAAkB5M,KAAI,SAAA0J,GAClD,OAAIA,EAAK3I,KAAO5B,EAAE4B,GACT,2BAAK5B,GAAZ,IAAe8J,aAEVS,QAIbkK,SAAU,WACR9F,EAAMmE,cAAc,CAClBrF,kBAAkB,YAAKkB,EAAM7L,KAAK2K,kBAAkB1L,QAAO,SAAA4S,GAAE,OAAIA,EAAG/S,KAAO5B,EAAE4B,iBAMpF+M,EAAM8B,YAAc,qBAAK7B,MAAO,CAAEjJ,QAAS,OAAQC,cAAe,MAAOwB,eAAgB,GAAIiL,OAAQ,WAAYjN,OAAQ,oCAAqCmB,aAAc,EAAG5B,WAAY,0BAA2B7E,MAAO,QAAzM,SACrB,qBACE8O,MAAO,CAAEpK,MAAO,OAAQsB,UAAW,aAAcR,QAAS,EAAGsP,UAAW,SAAUlQ,QAAS,QAC3FwP,SAAU,EACVC,eAAWC,EACXC,KAAK,WACL5E,QAAS,SAACJ,GACRV,EAAMmE,cAAc,CAClBrF,kBAAkB,GAAD,mBAAMkB,EAAM7L,KAAK2K,mBAAjB,CAAoC,CACnD7L,IAAI,IAAIgK,MAAOiJ,UACfxL,KAAM,GACNxJ,KAAM,CACJuB,eAAgBzB,EAChBY,UAAW,OAEbuJ,UAAU,QAdlB,0BAqBF,qBAAK8E,MAAO,CACVyD,OAAQ,WACR5N,OAAQ,EACRE,WAAY,wBAEXgK,EAAM8B,YAAc9B,EAAM7L,KAAK6K,cAAczM,OAAS,GAAM,qBAAK0N,MAAO,CAAEtJ,QAAS,YAAvB,mBAI3DqJ,EAAM7L,KAAK6K,cAAc9M,KAAI,SAACb,GAAD,aAC3B,wBAACwV,GAAD,2BACMxV,GADN,IAEEuC,IAAKvC,EAAE4B,GACP6O,WAAY9B,EAAM8B,WAClBW,WAAU,UAAEzC,EAAMyC,kBAAR,QAAsB,GAChC5P,aAAcmN,EAAM7L,KAAKtB,aACzByS,QAAS,SAAC5K,GACRsF,EAAMmE,cAAc,CAClBnF,cAAegB,EAAM7L,KAAK6K,cAAc9M,KAAI,SAAA0J,GAC1C,OAAIA,EAAK3I,KAAO5B,EAAE4B,GACT,2BAAK5B,GAAZ,IAAeqJ,SAEVkB,QAIb+J,QAAS,SAACzU,GACR8O,EAAMmE,cAAc,CAClBnF,cAAegB,EAAM7L,KAAK6K,cAAc9M,KAAI,SAAA0J,GAC1C,OAAIA,EAAK3I,KAAO5B,EAAE4B,GACT,2BAAK5B,GAAZ,IAAeH,SAEV0K,QAIbkK,SAAU,WACR9F,EAAMmE,cAAc,CAClBnF,cAAc,YAAKgB,EAAM7L,KAAK6K,cAAc5L,QAAO,SAAA4S,GAAE,OAAIA,EAAG/S,KAAO5B,EAAE4B,iBAM5E+M,EAAM8B,YAAc,qBAAK7B,MAAO,CAAEjJ,QAAS,OAAQC,cAAe,MAAOwB,eAAgB,GAAIiL,OAAQ,WAAYjN,OAAQ,oCAAqCmB,aAAc,EAAG5B,WAAY,0BAA2B7E,MAAO,QAAzM,SACrB,qBACE8O,MAAO,CAAEpK,MAAO,OAAQsB,UAAW,aAAcR,QAAS,EAAGsP,UAAW,SAAUlQ,QAAS,QAC3FwP,SAAU,EACVC,eAAWC,EACXC,KAAK,WACL5E,QAAS,SAACJ,GACRV,EAAMmE,cAAc,CAClBnF,cAAc,GAAD,mBAAMgB,EAAM7L,KAAK6K,eAAjB,CAAgC,CAC3C/L,IAAI,IAAIgK,MAAOiJ,UACfxL,KAAM,GACNxJ,KAAM,CACJuB,eAAgBzB,EAChBY,UAAW,OAEbuJ,UAAU,QAdlB,uBAqBF,qBAAK8E,MAAO,CACVyD,OAAQ,WACR5N,OAAQ,EACRE,WAAY,wBAEXgK,EAAM8B,YAAc9B,EAAM7L,KAAKgT,cAAc5U,OAAS,GAAM,qBAAK0N,MAAO,CAAEtJ,QAAS,YAAvB,mBAK7DqJ,EAAM8B,YAAc9B,EAAM7L,KAAKgT,cAAcjV,KAAI,SAACkV,EAAmB7T,GAApB,eAC/C,sBAAiB0M,MAAO,CACtByD,OAAQ,WACR1M,QAAS,OACTC,cAAe,UAHjB,UAKE,qBAAKgJ,MAAO,CACV5I,WAAY,QADd,SAGI+P,EAASC,cAEb,gCACID,EAASlW,KADb,+BACwB6V,IAAyBhV,MAAK,SAACuV,GAAD,OAAQA,EAAG1T,KAAOwT,EAASG,2BADjF,aACwB,EAA4E1J,aADpG,QAC6G,eAXrGtK,OAiBXyM,EAAM8B,YAAc9B,EAAM7L,KAAKgT,cAAcjV,KAAI,SAACkV,EAAmB7T,GAApB,OAChD,sBAAiB0M,MAAO,CACtByD,OAAQ,WACR1M,QAAS,QAFX,UAIE,qBAAKiJ,MAAO,CACV7I,SAAU,GACVQ,aAAc,EACdM,qBAAsB,GAHxB,SAKE,sBAAK+H,MAAO,CACVtJ,QAAS,UACTC,WAAY,GAFd,UAIE,uBACEqJ,MAAO,CACL9I,UAAW,aACXT,SAAU,EACVb,MAAO,OACPE,QAAS,OACTY,QAAS,UACTX,WAAY,0BACZS,OAAQ,OACRmB,aAAc,EACdd,uBAAwB,EACxB6M,wBAAyB,EACzBzL,qBAAsB,EACtBd,SAAU,IAEZiK,SAAUrB,EAAM8B,WAChBI,YAAY,cACZhR,KAAK,OACL2M,MAAOuJ,EAASC,YAChB/F,SAAW,SAACZ,GAA4C,IAC9C7C,EAAU6C,EAAEc,OAAZ3D,MACJ2J,EAAYxH,EAAM7L,KAAKgT,cAAcjV,KAAI,SAAAb,GAAC,sBAASA,MACvDmW,EAAUjU,GAAO8T,YAAcxJ,EAC/BmC,EAAMmE,cAAc,CAClBgD,cAAeK,OAIrB,uBACEvH,MAAO,CACL9I,UAAW,aACXT,SAAU,EACVb,MAAO,OACPG,WAAY,0BACZS,OAAQ,OACRV,QAAS,OACTqB,SAAU,GACVT,QAAS,WAEXuL,YAAY,aACZhR,KAAK,OACLmQ,SAAUrB,EAAM8B,WAChBjE,MAAOuJ,EAASlW,KAChBoQ,SAAW,SAACZ,GAA4C,IAC9C7C,EAAU6C,EAAEc,OAAZ3D,MACJ2J,EAAYxH,EAAM7L,KAAKgT,cAAcjV,KAAI,SAAAb,GAAC,sBAASA,MACvDmW,EAAUjU,GAAOrC,KAAO2M,EACxBmC,EAAMmE,cAAc,CAClBgD,cAAeK,OAIrB,yBACEvH,MAAO,CACLpK,MAAO,OACPG,WAAY,2BACZ4B,aAAc,EACdf,oBAAqB,EACrBqB,qBAAsB,EACtBd,SAAU,GACVX,OAAQ,OACRV,QAAS,OACTY,QAAS,WAEXkH,MAAOuJ,EAASG,iBAChBlG,SAAUrB,EAAM8B,WAChBR,SAAU,SAACZ,GAA6C,IAC9C7C,EAAU6C,EAAEc,OAAZ3D,MACJ2J,EAAYxH,EAAM7L,KAAKgT,cAAcjV,KAAI,SAAAb,GAAC,sBAASA,MACvDmW,EAAUjU,GAAOgU,iBAAmBvE,SAASnF,GAC7CmC,EAAMmE,cAAc,CAClBgD,cAAeK,KAnBrB,UAsBE,wBAAQ3J,MAAO,KAAM4J,UAAQ,EAA7B,2BAEEV,IAAyB7U,KAAI,SAACoV,EAAII,GAAL,OAC3B,wBAAsB7J,MAAOyJ,EAAG1T,IAAhC,SAAuC0T,EAAGzJ,OAA7B6J,eAMpB1H,EAAM8B,YAAc,qBAAK7B,MAAO,CACjClK,QAAS,QADY,SAGrB,qBACEkK,MAAO,CACLtJ,QAAS,UACTX,WAAY,0BACZ7E,MAAO,QACP4E,QAAS,OACTmC,qBAAsB,EACtByL,wBAAyB,GAE3B4B,SAAU,EACVC,eAAWC,EACXC,KAAK,WACL5E,QAAS,SAACJ,GACRV,EAAMmE,cAAc,CAClBgD,cAAc,YAAKnH,EAAM7L,KAAKgT,cAAc/T,QAAO,SAAA4S,GAAE,OAAIA,EAAG/S,KAAOmU,EAASnU,UAdlF,mBAnGMM,UA2HfyM,EAAM8B,YAAc,qBAAK7B,MAAO,CAAEjJ,QAAS,OAAQC,cAAe,MAAOwB,eAAgB,GAAIiL,OAAQ,WAAYjN,OAAQ,oCAAqCmB,aAAc,EAAG5B,WAAY,0BAA2B7E,MAAO,QAAzM,SACrB,qBACE8O,MAAO,CAAEpK,MAAO,OAAQsB,UAAW,aAAcR,QAAS,EAAGsP,UAAW,SAAUlQ,QAAS,QAC3FwP,SAAU,EACVC,eAAWC,EACXC,KAAK,WACL5E,QAAS,SAACJ,GACRV,EAAMmE,cAAe,CACnBgD,cAAc,GAAD,mBAAMnH,EAAM7L,KAAKgT,eAAjB,CAAgC,CAC3ClU,IAAK,IAAIgK,MAAQiJ,UACjBmB,YAAa,GACbnW,KAAM,GACNqW,iBAAkB,SAX1B,6BAuBKrH,cACb4G,IACA,SAAU3B,EAAoCC,GAC5C,IAAIiB,EAASnB,GAA+BC,EAAWC,GACvD,GAAID,EAAUhR,KAAKgT,cAAc5U,SAAW6S,EAAUjR,KAAKgT,cAAc5U,OACvE,OAAO,EAGT,IAAK,IAAID,EAAI,EAAGA,EAAI6S,EAAUhR,KAAKgT,cAAc5U,OAAQD,GAAK,EAAG,CAC/D,IAAMoC,EAAIyQ,EAAUhR,KAAKgT,cAAc7U,GACjCqV,EAAIvC,EAAUjR,KAAKgT,cAAc7U,GACvC,GAAIoC,EAAE6S,mBAAqBI,EAAEJ,iBAC3B,OAAO,EAET,GAAI7S,EAAE2S,cAAgBM,EAAEN,YACtB,OAAO,EAET,GAAI3S,EAAExD,OAASyW,EAAEzW,KACf,OAAO,EAIX,GAAIiU,EAAUhR,KAAK6K,cAAczM,SAAW6S,EAAUjR,KAAK6K,cAAczM,OACvE,OAAO,EAGT,IAAK,IAAID,EAAI,EAAGA,EAAI6S,EAAUhR,KAAK6K,cAAczM,OAAQD,GAAK,EAAG,CAC/D,IAAMgU,EAAKnB,EAAUhR,KAAK6K,cAAc1M,GAClCiU,EAAKnB,EAAUjR,KAAK6K,cAAc1M,GACxC,GAAIgU,EAAG5L,OAAS6L,EAAG7L,KAAM,CACvB2L,GAAS,EACT,MAEF,GAAIC,EAAGpV,OAASqV,EAAGrV,KAAM,CACvBmV,GAAS,EACT,OAIJ,GAAIlB,EAAUhR,KAAK2K,kBAAkBvM,SAAW6S,EAAUjR,KAAK2K,kBAAkBvM,OAC/E,OAAO,EAGT,IAAK,IAAID,EAAI,EAAGA,EAAI6S,EAAUhR,KAAK2K,kBAAkBvM,OAAQD,GAAK,EAAG,CACnE,IAAMgU,EAAKnB,EAAUhR,KAAK2K,kBAAkBxM,GACtCiU,EAAKnB,EAAUjR,KAAK2K,kBAAkBxM,GAC5C,GAAIgU,EAAG5L,OAAS6L,EAAG7L,KAAM,CACvB2L,GAAS,EACT,MAEF,GAAIC,EAAGpV,OAASqV,EAAGrV,KAAM,CACvBmV,GAAS,EACT,MAEF,GAAIC,EAAGnL,WAAaoL,EAAGpL,SAAU,CAC/BkL,GAAS,EACT,OAIJ,OAAOA,KC5bX,SAASuB,GAAgB5H,GACvB,OACE,eAAC8D,GAAD,2BAAgB9D,GAAhB,cACE,qBAAKC,MAAO,CAAEtJ,QAAS,WAAYC,WAAY,GAAIQ,SAAU,IAA7D,SACE,yBACE6I,MAAO,CACLpK,MAAO,OACPG,WAAY,2BACZ4B,aAAc,EACdnB,OAAQ,OACRV,QAAS,OACT5E,MAAO,QACPwF,QAAS,WAEXkH,MAAOmC,EAAM7L,KAAKwH,OAClB0F,SAAUrB,EAAM8B,WAChBR,SAAU,SAACZ,GAA6C,IAC9C7C,EAAU6C,EAAEc,OAAZ3D,MACRmC,EAAMmE,cAAc,CAClBxI,OAAQkC,KAfd,UAkBE,wBAAQA,MAAM,MAAd,iBACA,wBAAQA,MAAM,OAAd,kBACA,wBAAQA,MAAM,MAAd,iBACA,wBAAQA,MAAM,SAAd,yBAGJ,qBAAKoC,MAAO,CAAEtJ,QAAS,YAAvB,SACI,cAAC,KAAD,CACIsL,KAAM,EACNC,YAAY,WACZrE,MAAOmC,EAAM7L,KAAKU,IAClBwM,SAAUrB,EAAM8B,WAChB7B,MAAO,CACLlK,QAAS,OACTU,OAAQ,OACRmB,aAAc,EACdjB,QAAS,WACTV,WAAY,UACZkB,UAAW,aACXC,SAAU,GACVvB,MAAO,OACP1E,MAAO,QACP6E,WAAY,2BAEdsL,SAAU,SAACZ,GAA+C,IAC9C7C,EAAU6C,EAAEc,OAAZ3D,MAERmC,EAAMmE,cAAc,CAClBtP,IAAKgJ,SAKnB,8BAEImC,EAAM7L,KAAK+G,UAAUhJ,KAAI,SAACiN,GAAD,aACvB,cAACkG,GAAD,CACEvD,WAAY9B,EAAM8B,WAElB3N,KAAMgL,EACNsD,WAAU,UAAEzC,EAAMyC,kBAAR,QAAsB,GAChC5P,aAAcmN,EAAM7L,KAAKtB,aACzByS,QAAS,SAAC5K,GACRsF,EAAMmE,cAAc,CAClBjJ,UAAW8E,EAAM7L,KAAK+G,UAAUhJ,KAAI,SAAA0J,GAClC,OAAIA,EAAK3I,KAAOkM,EAASlM,GAChB,2BAAKkM,GAAZ,IAAsBzE,SAEjBkB,QAIb+J,QAAS,SAACzU,GACR8O,EAAMmE,cAAc,CAClBjJ,UAAW8E,EAAM7L,KAAK+G,UAAUhJ,KAAI,SAAA0J,GAClC,OAAIA,EAAK3I,KAAOkM,EAASlM,GAChB,2BAAKkM,GAAZ,IAAsBjO,SAEjB0K,QAIbiK,YAAa,SAAC1K,GACZ6E,EAAMmE,cAAc,CAClBjJ,UAAW8E,EAAM7L,KAAK+G,UAAUhJ,KAAI,SAAA0J,GAClC,OAAIA,EAAK3I,KAAOkM,EAASlM,GAChB,2BAAKkM,GAAZ,IAAsBhE,aAEjBS,QAIbkK,SAAU,WACR9F,EAAMmE,cAAc,CAClBjJ,UAAU,YAAK8E,EAAM7L,KAAK+G,UAAU9H,QAAO,SAAA4S,GAAE,OAAIA,EAAG/S,KAAOkM,EAASlM,WApCnEkM,EAASlM,UA2CnB+M,EAAM8B,YAAc,sBAAK7B,MAAO,CAAEjJ,QAAS,OAAQC,cAAe,MAAOwB,eAAgB,GAAIiL,OAAQ,WAAY9L,aAAc,EAAG5B,WAAY,2BAA1H,UACrB,qBACEiK,MAAO,CAAEpK,MAAO,MAAOsB,UAAW,aAAcR,QAAS,EAAGsP,UAAW,SAAUlQ,QAAS,QAC1FwP,SAAU,EACVC,eAAWC,EACXC,KAAK,WACL5E,QAAS,SAACJ,GACRV,EAAMmE,cAAc,CAClBjJ,UAAU,GAAD,mBAAM8E,EAAM7L,KAAK+G,WAAjB,CAA4B,CACnCjI,IAAI,IAAIgK,MAAOiJ,UACfpK,KAAM,IACNpB,KAAM,GACNxJ,KAAM,CACJU,UAAW,MACXa,eAAgBzB,GAElBmK,UAAU,QAflB,qBAqBA,qBACE8E,MAAO,CAAEpK,MAAO,MAAOsB,UAAW,aAAcR,QAAS,EAAGsP,UAAW,SAAUlQ,QAAS,OAAQoQ,YAAa,oCAAqCC,WAAY,qCAChKb,SAAU,EACVC,eAAWC,EACXC,KAAK,WACL5E,QAAS,SAACJ,GACRV,EAAMmE,cAAc,CAClBjJ,UAAU,GAAD,mBAAM8E,EAAM7L,KAAK+G,WAAjB,CAA4B,CACnCjI,IAAI,IAAIgK,MAAOiJ,UACfpK,KAAM,IACNpB,KAAM,GACNxJ,KAAM,CACJU,UAAW,MACXa,eAAgBzB,GAElBmK,UAAU,QAflB,oBAqBA,qBACE8E,MAAO,CAAEpK,MAAO,MAAOsB,UAAW,aAAcR,QAAS,EAAGsP,UAAW,SAAUlQ,QAAS,OAAQoQ,YAAa,qCAC/GZ,SAAU,EACVC,eAAWC,EACXC,KAAK,WACL5E,QAAS,SAACJ,GACRV,EAAMmE,cAAc,CAClBjJ,UAAU,GAAD,mBAAM8E,EAAM7L,KAAK+G,WAAjB,CAA4B,CACnCjI,IAAI,IAAIgK,MAAOiJ,UACfpK,KAAM,IACNpB,KAAM,GACNxJ,KAAM,CACJU,UAAW,MACXa,eAAgBzB,GAElBmK,UAAU,QAflB,mBAqBA,qBACE8E,MAAO,CAAEpK,MAAO,MAAOsB,UAAW,aAAcR,QAAS,EAAGsP,UAAW,SAAUlQ,QAAS,QAC1FwP,SAAU,EACVC,eAAWC,EACXC,KAAK,WACL5E,QAAS,SAACJ,GACRV,EAAMmE,cAAc,CAClBjJ,UAAU,GAAD,mBAAM8E,EAAM7L,KAAK+G,WAAjB,CAA4B,CACnCjI,IAAI,IAAIgK,MAAOiJ,UACfpK,KAAM,IACNpB,KAAM,GACNxJ,KAAM,CACJU,UAAW,MACXa,eAAgBzB,GAElBmK,UAAU,QAflB,uBAsBF,sBAAK8E,MAAO,CAAEjJ,QAAS,OAAQC,cAAe,MAAOyB,WAAY,SAAUgL,OAAQ,WAAY1L,UAAW,GAA1G,UACE,qBAAKiI,MAAO,CAAEnG,YAAa,GAA3B,oBAGA,qBACE2G,cAAe,SAAAC,GAAOA,EAAEC,iBAAkBD,EAAEE,mBAC5CX,MAAO,CACLlK,QAAS,OACToB,UAAW,aACXE,WAAY,OACZ4O,UAAW,SACXvP,SAAU,EACVC,QAAS,WACTX,WAAY,QACZ4B,aAAc,EACdzG,MAAOO,EAAoBsO,EAAM7L,KAAKyG,cAExC2K,SAAU,EACVC,eAAWC,EACXC,KAAK,WACL5E,QAAS,SAACJ,GACJV,EAAM8B,YAGV9B,EAAMmE,cAAc,CAClBvJ,YACE8F,EAAEkF,SACAnS,EAAYuM,EAAM7L,KAAKyG,YAAaoF,EAAMyC,WAAYzC,EAAM7L,KAAKtB,cACjEH,EAAYsN,EAAM7L,KAAKyG,YAAaoF,EAAMyC,WAAYzC,EAAM7L,KAAKtB,iBAxB3E,SA4BImN,EAAM7L,KAAKyG,YAAYhJ,mBAOpBsO,cACb0H,IACA,SAAUzC,EAA2CC,GACjD,IAAIiB,EAASnB,GAAsCC,EAAWC,GAC9D,GAAID,EAAUhR,KAAKwH,SAAWyJ,EAAUjR,KAAKwH,OACzC,OAAO,EAEX,GAAIwJ,EAAUhR,KAAKU,MAAQuQ,EAAUjR,KAAKU,IACtC,OAAO,EAEX,GAAIsQ,EAAUhR,KAAKyG,cAAgBwK,EAAUjR,KAAKyG,YAC9C,OAAO,EAEX,GAAIuK,EAAUhR,KAAK+G,UAAU3I,SAAW6S,EAAUjR,KAAK+G,UAAU3I,OAC7D,OAAO,EAEX,IAAK,IAAID,EAAI,EAAGA,EAAI6S,EAAUhR,KAAK+G,UAAU3I,OAAQD,GAAK,EAAG,CACzD,IAAMgU,EAAKnB,EAAUhR,KAAK+G,UAAU5I,GAC9BiU,EAAKnB,EAAUjR,KAAK+G,UAAU5I,GACpC,GAAIgU,EAAG5L,OAAS6L,EAAG7L,KACf,OAAO,EAEX,GAAI4L,EAAGpV,OAASqV,EAAGrV,KACf,OAAO,EAEX,GAAIoV,EAAGnL,WAAaoL,EAAGpL,SACnB,OAAO,EAIf,OAAOkL,KCtQb,SAASwB,GAAiB7H,GACxB,OACE,eAAC8D,GAAD,2BAAgB9D,GAAhB,cACE,8BAEEA,EAAM7L,KAAKqG,WAAWtI,KAAI,SAACb,GAAD,aACxB,wBAACmV,GAAD,2BACMnV,GADN,IAEEuC,IAAKvC,EAAE4B,GACP6O,WAAY9B,EAAM8B,WAClBW,WAAU,UAAEzC,EAAMyC,kBAAR,QAAsB,GAChC5P,aAAcmN,EAAM7L,KAAKtB,aACzByS,QAAS,SAAC5K,GACRsF,EAAMmE,cAAc,CAClB3J,WAAYwF,EAAM7L,KAAKqG,WAAWtI,KAAI,SAAA0J,GACpC,OAAIA,EAAK3I,KAAO5B,EAAE4B,GACT,2BAAK5B,GAAZ,IAAeqJ,SAEVkB,QAIb+J,QAAS,SAACzU,GACR8O,EAAMmE,cAAc,CAClB3J,WAAYwF,EAAM7L,KAAKqG,WAAWtI,KAAI,SAAA0J,GACpC,OAAIA,EAAK3I,KAAO5B,EAAE4B,GACT,2BAAK5B,GAAZ,IAAeH,SAEV0K,QAIbiK,YAAa,SAAC1K,GACZ6E,EAAMmE,cAAc,CAClB3J,WAAYwF,EAAM7L,KAAKqG,WAAWtI,KAAI,SAAA0J,GACpC,OAAIA,EAAK3I,KAAO5B,EAAE4B,GACT,2BAAK5B,GAAZ,IAAe8J,aAEVS,QAIbkK,SAAU,WACR9F,EAAMmE,cAAc,CAClB3J,WAAW,YAAKwF,EAAM7L,KAAKqG,WAAWpH,QAAO,SAAA4S,GAAE,OAAIA,EAAG/S,KAAO5B,EAAE4B,mBAOxE+M,EAAM8B,YAAc,qBAAK7B,MAAO,CAAEjJ,QAAS,OAAQC,cAAe,MAAOwB,eAAgB,GAAIiL,OAAQ,WAAYjN,OAAQ,oCAAqCmB,aAAc,EAAG5B,WAAY,0BAA2B7E,MAAO,QAAzM,SACrB,qBACE8O,MAAO,CAAEpK,MAAO,OAAQsB,UAAW,aAAcR,QAAS,EAAGsP,UAAW,SAAUlQ,QAAS,QAC3FwP,SAAU,EACVC,eAAWC,EACXC,KAAK,WACL5E,QAAS,SAACJ,GACRV,EAAMmE,cAAc,CAClB3J,WAAW,GAAD,mBAAMwF,EAAM7L,KAAKqG,YAAjB,CAA6B,CACrCvH,IAAI,IAAIgK,MAAOiJ,UACfxL,KAAM,GACNxJ,KAAM,CACJU,UAAW,MACXa,eAAgBzB,GAElBmK,UAAU,QAdlB,2BAqBF,sBAAK8E,MAAO,CAAEjJ,QAAS,OAAQC,cAAe,MAAOyB,WAAY,SAAUgL,OAAQ,WAAY1L,UAAW,GAA1G,UACE,qBAAKiI,MAAO,CAAEnG,YAAa,GAA3B,oBAGA,qBACE2G,cAAe,SAAAC,GAAOA,EAAEC,iBAAkBD,EAAEE,mBAC5CX,MAAO,CACLlK,QAAS,OACToB,UAAW,aACXE,WAAY,OACZ4O,UAAW,SACXvP,SAAU,EACVC,QAAS,WACTX,WAAY,QACZ4B,aAAc,EACdzG,MAAOO,EAAoBsO,EAAM7L,KAAKyG,cAExC2K,SAAU,EACVC,eAAWC,EACXC,KAAK,WACL5E,QAAS,SAACJ,GACJV,EAAM8B,YAGV9B,EAAMmE,cAAc,CAClBvJ,YACE8F,EAAEkF,SACAnS,EAAYuM,EAAM7L,KAAKyG,YAAaoF,EAAMyC,WAAYzC,EAAM7L,KAAKtB,cACjEH,EAAYsN,EAAM7L,KAAKyG,YAAaoF,EAAMyC,WAAYzC,EAAM7L,KAAKtB,iBAxB3E,SA4BImN,EAAM7L,KAAKyG,YAAYhJ,mBAOlBsO,cACb2H,IACA,SAAU1C,EAA4CC,GAClD,IAAIiB,EAASnB,GAAuCC,EAAWC,GAC/D,GAAID,EAAUhR,KAAKyG,cAAgBwK,EAAUjR,KAAKyG,YAC9C,OAAO,EAEX,GAAIuK,EAAUhR,KAAKqG,WAAWjI,SAAW6S,EAAUjR,KAAKqG,WAAWjI,OAC/D,OAAO,EAEX,IAAK,IAAID,EAAI,EAAGA,EAAI6S,EAAUhR,KAAKqG,WAAWjI,OAAQD,GAAK,EAAG,CAC1D,IAAMgU,EAAKnB,EAAUhR,KAAKqG,WAAWlI,GAC/BiU,EAAKnB,EAAUjR,KAAKqG,WAAWlI,GACrC,GAAIgU,EAAG5L,OAAS6L,EAAG7L,KACf,OAAO,EAEX,GAAI4L,EAAGpV,OAASqV,EAAGrV,KACf,OAAO,EAEX,GAAIoV,EAAGnL,WAAaoL,EAAGpL,SACnB,OAAO,EAIf,OAAOkL,KCtIAtD,GAAuC,CAAC,CACnD9P,GjBhB6B,EiBiB7BgQ,MAAO,kBACP6E,MAAO,SAAC9H,GACN,OAAO,cAAC,GAAD,eAA0BA,KAEnC+H,cAAe,SAAC/H,GACd,OAAOA,GAET8E,YAAa,WACZ,CACD7R,GjBzB6B,EiB0B7BgQ,MAAO,yBACP6E,MAAO,SAAC9H,GACN,OAAO,cAAC,GAAD,eAAcA,KAEvB+H,cAAe,SAAC/H,GAId,OAHAA,EAAMmH,cAAgB,GACtBnH,EAAMlB,kBAAoB,GAC1BkB,EAAMhB,cAAgB,GACfgB,GAET8E,YAAa,WACZ,CACD7R,GjBrCwC,EiBsCxCgQ,MAAO,+BACP6E,MAAO,SAAC9H,GACN,OAAO,cAAC,GAAD,eAAcA,KAEvB+H,cAAe,SAAC/H,GAId,OAHAA,EAAMmH,cAAgB,GACtBnH,EAAMlB,kBAAoB,GAC1BkB,EAAMhB,cAAgB,GACfgB,GAET8E,YAAa,WACZ,CACD7R,GjBjD8B,EiBkD9BgQ,MAAO,mBACP6E,MAAO,SAAC9H,GACN,OAAO,cAAC,GAAD,eAAeA,KAExB+H,cAAe,SAAC/H,GAQd,OAPAA,EAAM9E,UAAY,GAClB8E,EAAMrE,OAAS,MACfqE,EAAMnL,IAAM,GACZmL,EAAMpF,YAAc,CAClBhJ,UAAW,MACXa,eAAgBzB,GAEXgP,GAET8E,YAAa,WACZ,CACD7R,GjBjE4B,EiBkE5BgQ,MAAO,WACP6E,MAAO,SAAC9H,GACN,OAAO,cAAC,GAAD,eAAyBA,KAElC+H,cAAe,SAAC/H,GAMd,OALAA,EAAMxF,WAAa,GACnBwF,EAAMpF,YAAc,CAClBhJ,UAAW,MACXa,eAAgBzB,GAEXgP,GAET8E,YAAa,WACZ,CACD7R,GjB/EwB,EiBgFxBgQ,MAAO,aACP6E,MAAO,SAAC9H,GACN,OAAO,cAAC,GAAD,eAAqBA,KAE9B+H,cAAe,SAAC/H,GAQd,OAPAA,EAAM9E,UAAY,GAClB8E,EAAMrE,OAAS,MACfqE,EAAMnL,IAAM,GACZmL,EAAMpF,YAAc,CAClBhJ,UAAW,MACXa,eAAgBzB,GAEXgP,GAET8E,YAAa,QACZ,CACD7R,GjB/FyB,EiBgGzBgQ,MAAO,cACP6E,MAAO,SAAC9H,GACN,OAAO,cAAC,GAAD,eAAsBA,KAE/B+H,cAAe,SAAC/H,GAMd,OALAA,EAAMxF,WAAa,GACnBwF,EAAMpF,YAAc,CAClBhJ,UAAW,MACXa,eAAgBzB,GAEXgP,GAET8E,YAAa,WACZ,CACD7R,GjB7GwB,EiB8GxBgQ,MAAO,aACP6E,MAAO,SAAC9H,GACN,OAAO,cAAC,GAAD,eAAqBA,KAE9B+H,cAAe,SAAC/H,GAEd,OADAA,EAAM5E,WAAa,GACZ4E,GAET8E,YAAa,WACZ,CACD7R,GjBvHyB,EiBwHzBgQ,MAAO,kBACP6E,MAAO,SAAC9H,GACN,OAAO,cAAC,GAAD,eAAsBA,KAE/B+H,cAAe,SAAC/H,GAMd,OALAA,EAAMxF,WAAa,GACnBwF,EAAMpF,YAAc,CAClBhJ,UAAW,MACXa,eAAgBzB,GAEXgP,GAET8E,YAAa,YC/HA,SAASkD,GAAehI,GACrC,IAAMC,EAAQ1K,IACR0S,EAA6CvU,EAAQsM,EAAMyC,WAAY,aACvEyF,EAAelI,EAAMyC,WAAW1Q,MAAK,SAACiB,GAAD,OAA4BA,EAAOC,KAAO+M,EAAMmI,kBACrFC,EAAmB,ClBhBI,EACW,EACV,EACF,EACJ,EACC,EACD,EACC,EARI,GkBkBvBC,EAA6DD,EAAiBvU,QAAO,SAACsK,EAAuCyB,GAAxC,mBAAC,eACvFzB,GADsF,kBAExFyB,EAAOmD,GAAkBhR,MAAK,SAAAV,GAAC,OAAIA,EAAE4B,KAAO2M,SAC3C,IAEJ,OACE,qBACEY,UAAWP,EAAMlG,0BACjBuO,QAAS,SAAA5H,GAAC,OAAIA,EAAEE,mBAChByD,YAAa,SAAA3D,GAAC,OAAIA,EAAEE,mBACpB2H,YAAa,SAAA7H,GAAC,OAAIA,EAAEE,mBACpB4H,UAAW,SAAA9H,GAAC,OAAIA,EAAEE,mBAClBH,cAAe,SAAAC,GAAC,OAAIA,EAAEE,mBANxB,SAQIwH,EAAiBhV,QAAO,SAAAQ,GAAG,OAAIqU,EAAQQ,eAAe7U,MAAM1B,KAAI,SAAA0B,GAAG,mBACjE,sBAAe4M,UAAWP,EAAMhG,0BAAhC,UACE,qBAAKuG,UAAWP,EAAM/F,gCAAtB,6BAEImO,EAAyBzU,UAF7B,aAEI,EAA+BqP,aAFnC,QAE4C,MAG5C,qBACEzC,UAAWP,EAAM9F,mCADnB,6BAGI8N,EAAQrU,UAHZ,aAGI,EAAc1B,KAAI,SAACc,GAAD,iBAChB,qBACEiN,MAAO,CACL+E,YAAahF,EAAMmI,iBAAmBnV,EAAOC,GAAK,QAAU,cAC5D0R,SpBZU,IoBYD3E,EAAMmI,eAAsC,GAAOnI,EAAMmI,iBAAmBnV,EAAOC,IAAhC,iBAAuCiV,QAAvC,IAAuCA,OAAvC,EAAuCA,EAAcrV,aAAa0I,SAASvI,EAAOC,WAAlF,SAAmG,EAAI,GACnK+C,WAAU,oBAAEqS,EAAyBzU,UAA3B,aAAE,EAA+BkR,mBAAjC,QAAgD,IAE5DhE,QAAS,SAAAa,GAAC,OAAI3B,EAAM0I,cAAc1V,IAClCwN,UAAWP,EAAM7F,wCAPnB,SASE,qBAAK6F,MAAO,CACVvJ,SAAU,EACV+M,UAAW,YACX9M,QAAS,YAHX,SAKI3D,EAAOM,MAAQN,EAAOM,MAAQ,eAN7BN,EAAOC,cAZpB,QAqBU,4BA3BFW,QCnBL,SAAS+U,GAAQ3I,GAE9B,IAAMC,EAAQ1K,IAEd,OACE,qBACEuL,QAAS,SAAAJ,GAAOA,EAAEE,mBAClBH,cAAe,SAAAC,GAAOA,EAAEC,iBAAkBD,EAAEE,mBAC5CJ,UAAWP,EAAMnH,kBAHnB,SAKIkH,EAAM4I,MAAM1W,KAAI,SAACwM,GAAD,OACd,qBACE8B,UAAWP,EAAMlH,aACjB+H,QAAS,SAAAa,GAAC,OAAIjD,EAAKmK,UAFrB,SAGE,qBAAKrI,UAAWP,EAAM/G,mBAAoBwI,IAAKhD,EAAKoK,kBCTjD,SAASC,GAAQ/I,GAE9B,IAAMC,EAAQ1K,IAFqC,EAGlB2K,YtBeF,GsBlBoB,mBAG5C8I,EAH4C,KAGjCC,EAHiC,KAiBnD,OAZA/I,aAAgB,WACd,IAAMG,EAAsB,YtBYC,IsBXvB2I,GACFC,GtBUyB,IsBN7B,OADA1U,OAAO+L,iBAAiB,YAAaD,GAC9B,WACL9L,OAAOgM,oBAAoB,YAAaF,OAK1C,qBACEG,UAAWP,EAAMnI,kBACjByQ,YAAa,SAAA7H,GACXA,EAAEC,iBACFD,EAAEE,mBAJN,SAOIZ,EAAM4I,MAAM1W,KAAI,SAACwM,GAAD,OACd,sBAAmB8B,UAAWP,EAAMhI,uBAAwBgI,MAAO,CAAE9J,SAAU,YAA/E,UACE,qBACEqK,UAAWP,EAAM9H,aACjBoQ,YAAa,SAAA7H,GACXA,EAAEC,iBACFD,EAAEE,kBACFqI,EAAYvK,EAAKzL,KALrB,SAOIyL,EAAKuE,QAEP+F,IAActK,EAAKzL,IAAM,qBAAKuN,UAAWP,EAAM7H,0BAAtB,SAEvBsG,EAAKwK,SAAShX,KAAI,SAACiX,GAAD,OAChB,qBAEErI,QAAS,SAAAa,GAAC,OAAIwH,EAAQN,UACtBrI,UAAWP,EAAM3H,gBAHnB,SAII6Q,EAAQlG,OAHLkG,EAAQlW,WAdbyL,EAAKzL,SC5BV,SAASmW,GAAYpJ,GAElC,IAAMC,EAAQ1K,IAEd,OACE,qBAAKiL,UAAWP,EAAM9G,uBAAtB,SAEI6G,EAAM4I,MAAM1W,KAAI,SAACwM,GAAD,OACd,sBACE8B,UAAWP,EAAM7G,kBACjBsM,KAAK,WACLF,eAAWC,EACXF,SAAU,EACVzE,QAAS,SAAAJ,GAAC,OAAIV,EAAMqJ,YAAY3K,IALlC,UAOE,qBAAKuB,MAAO,CACVpK,MAAO,EACPC,OAAQ,EACR8B,aAAc,EACdI,WAAY,EACZhC,WAAY0I,EAAKoG,YACjBhL,YAAa,KAEb4E,EAAKuE,QATFvE,EAAKzL,SCjBP,SAASqW,GAAetJ,GAA6B,IAAD,MAEjE,SAASuJ,EAAqBC,EAAeC,EAAeC,EAAsBC,GAChF,OAAIH,EAAQE,EACHD,EAAQE,EAAe,EAAI,EAE3BF,EAAQE,EAAe,EAAI,EAItC,IAAMC,EAAoB5J,EAAM7L,KAAKF,YAAc+L,EAAM6J,4BAA8B7J,EAAM7L,KAAK5C,MAAQ,EAEpGuY,EAAoBP,EACxBvJ,EAAM7L,KAAK4V,WACX/J,EAAM7L,KAAK6V,WACXhK,EAAM7L,KAAK8V,WACXjK,EAAM7L,KAAK+V,YAGPC,EAA2B,IAAtBL,GAAiD,IAAtBA,EAA0B9J,EAAM7L,KAAK4V,WAAa/J,EAAM7L,KAAK8V,WAC7FG,EAAKD,IAAOnK,EAAM7L,KAAK4V,WAAa/J,EAAM7L,KAAK6V,WAAahK,EAAM7L,KAAK+V,WAAaN,EACpFS,EAAKF,IAAOnK,EAAM7L,KAAK4V,WAAa/J,EAAM7L,KAAKmW,WAAatK,EAAM7L,KAAKoW,WAEvEC,EAA2B,IAAtBV,GAAiD,IAAtBA,EAA0B9J,EAAM7L,KAAK8V,WAAajK,EAAM7L,KAAK4V,WAC7FU,EAAKD,IAAOxK,EAAM7L,KAAK4V,WAAa/J,EAAM7L,KAAK6V,WAAahK,EAAM7L,KAAK+V,WAAaN,EAEpFc,EAAgBP,EAAKE,EAAMG,EAAK,EAAIH,EAGpCrG,EAAI2G,KAAKC,IAAIJ,EAAKL,GAAMO,EACxBxG,EAAIyG,KAAKC,IAAIH,EAAKL,GAHH,EAKfS,EAAuBtB,EAAqBY,EAAIC,EAAII,EAAIC,GAExDK,EAAkBX,EAAKO,EACvBK,EAAiBJ,KAAKK,IAAIZ,EAAIK,GAkBpC,OAhBA,WAAmC,IAAD,IAChC,OAAIK,GAAe,OAAI9G,QAAJ,IAAIA,IAAK,GAAK,IAG7B+G,GAAc,OAAI7G,QAAJ,IAAIA,IAAK,GAAK,IAG5B4G,GAAe,UAAI9K,EAAMiL,wBAAV,QAA8B,IAG7CF,GAAc,UAAI/K,EAAMkL,yBAAV,QAA+B,KAM/CC,GACK,KAIP,sBACErV,OAAQoO,EACRrO,MAAOmO,EACP/D,MAAO,CACL9J,SAAU,WACVC,OAAM,UAAG4J,EAAMoL,SAAW,IAAQ,SAA5B,QAAkC,EACxCnK,UAAU,aAAD,OAAe6J,EAAf,cAAoCC,EAApC,QANb,UAQ6B,IAAzBF,GAA8B,sBAC9BQ,EAAC,WAAM,EAAN,IAAW,EAAX,KAAiBrH,EAAI,EAArB,IAA0B,EAA1B,YAA+BA,EAAI,EAAnC,YAAyCE,EAAzC,YAA+CF,EAA/C,YAAqDE,GACtDjE,MAAO,CAAEqL,OAAQtL,EAAM7L,KAAKhD,MAAOwT,QAAO,UAAG3E,EAAMoL,SAAW,GAAK,WAAzB,QAAiC,IAAKG,YAAa,EAAGnV,OAAQ,EAAGoV,KAAM,UACxF,IAAzBX,GAA8B,sBAC9BQ,EAAC,WAAM,EAAN,IAAWnH,EAAX,aAAiBF,EAAI,EAArB,YAA0BE,EAA1B,YAA+BF,EAAI,EAAnC,IAAyC,EAAzC,YAA+CA,EAA/C,IAAqD,GACtD/D,MAAO,CAAEqL,OAAQtL,EAAM7L,KAAKhD,MAAOwT,QAAO,UAAG3E,EAAMoL,SAAW,GAAK,WAAzB,QAAiC,IAAKG,YAAa,EAAGnV,OAAQ,EAAGoV,KAAM,aC9DzH,IAAIC,GAAgB,EAGhBC,IAAsB,EAGtBC,IAAyB,EAGzBC,GAA4B9a,EAG5B+a,GAA2B,CAC7Bxa,EAAGN,EACHO,EAAGP,GAID+a,GAAwB,CAC1Bza,EAAG,EACHC,EAAG,GAGU,SAASya,KAEtB,IAAM9L,EAAQ1K,IAFsB,EAQD2K,WAA2B,IAR1B,mBAQ7BnC,EAR6B,KAQjBiO,EARiB,OASM9L,YzBvBb,GyBcO,mBAS7B+L,EAT6B,KASZC,EATY,OAgBGhM,WAA4B9O,GAhB/B,mBAgB7B+a,EAhB6B,KAgBfC,EAhBe,OAiBQlM,YzB7Bd,GyBYM,mBAiB7BmM,EAjB6B,KAiBZC,EAjBY,OAkBmBpM,YAAwB,GAlB3C,mBAkB7BqM,EAlB6B,KAkBLC,EAlBK,OAmB2BtM,YzB7B7B,GyBUE,mBAmB7BuM,EAnB6B,KAmBFC,EAnBE,OAoBAxM,YAAwB,GApBxB,mBAoB7ByM,EApB6B,KAoBf9K,EApBe,OAsBC3B,WAAiC,IAtBlC,mBAsB7BtN,EAtB6B,KAsBhBga,EAtBgB,QAuBK1M,WAAqC,IAvB1C,qBAuB7B2M,GAvB6B,MAuBZC,GAvBY,SAwByB5M,WAAwC,IAxBjE,qBAwB7B6M,GAxB6B,MAwBDC,GAxBC,MA8QpC,SAAS5J,GAA2BxP,EAAaqZ,GAC/C,IAAIF,GAA2BnZ,IAAQmZ,GAA2BnZ,KAASqZ,EAA3E,CAGA,IAAMC,EAAQ,2BACTH,IADS,kBAEXnZ,EAAMqZ,IAETD,GAAuBE,IAIzB,SAASC,GAAqBnZ,EAAqBC,GACjD2Y,EAAcha,EAAYV,KAAI,SAACc,GAC7B,OAAIA,EAAOC,KAAOgB,EACT,2BACFjB,GADL,IAEEH,aAAa,YAAKG,EAAOH,aAAaO,QAAO,SAACga,GAAD,OAAoCA,IAA2BpZ,QAGzGhB,MAET8Z,GAAc,YAAID,GAAgBzZ,QAAO,SAACia,GAAD,OAA8BA,EAAKpZ,cAAgBA,GAAeoZ,EAAKrZ,cAAgBA,OAgClI,SAASsZ,GAA0BC,EAAqBC,EAAgBC,EAAgBC,EAAeC,GAErG,IAAMnc,EAAY2a,EAAa1a,UACzBA,EAAYD,EAAwC,KAA3B+b,EAAaE,EAAS,GAE/CG,EAAmB,CACvBvc,EAAGqc,EACHpc,EAAGqc,GAGCE,EAAc,EAATL,EACLM,EAAc,EAATL,EACLM,EAAStc,EAAYD,EACrBwc,EAAgB7B,EAAa5a,MAAQ4a,EAAa5a,OAASE,EAAYD,GAKvEyc,EAAsBrb,EAAYV,KAAI,SAACc,GAC3C,IAAMkb,GAAYlb,EAAO3B,EAAIuc,EAAiBvc,GAAK0c,EAC7CI,GAAYnb,EAAO1B,EAAIsc,EAAiBtc,GAAKyc,EAC7CK,EAAUpb,EAAOgR,EAAI+J,EACrBM,EAAWrb,EAAOkR,EAAI6J,EAI5B,OAAO,2BACF/a,GADL,IAEE3B,EAAG2B,EAAO3B,EAAI6c,GAAuB,IAAXH,EAAeF,EAAK,GAC9Cvc,EAAG0B,EAAO1B,EAAI6c,GAAuB,IAAXJ,EAAeD,EAAK,GAC9C9J,EAAGhR,EAAOgR,EAAIoK,EACdlK,EAAGlR,EAAOkR,EAAImK,EACd9c,MAAOyc,OAILM,EAA0BzB,GAAgB3a,KAAI,SAACmb,GAA8B,IAAD,gBAC1EkB,EAAkBN,EAAoBlc,MAAK,SAAC2O,GAAD,OAAuBA,EAAEzN,KAAOoa,EAAKrZ,eAChFwa,EAAkBP,EAAoBlc,MAAK,SAAC2O,GAAD,OAAuBA,EAAEzN,KAAOoa,EAAKpZ,eAEtF,OAAO,2BACFoZ,GADL,IAEEtD,WAAU,iBAAEwE,QAAF,IAAEA,OAAF,EAAEA,EAAiBld,SAAnB,QAAwB,EAClC2Y,WAAU,iBAAEuE,QAAF,IAAEA,OAAF,EAAEA,EAAiBjd,SAAnB,QAAwB,EAClC2Y,WAAU,iBAAEuE,QAAF,IAAEA,OAAF,EAAEA,EAAiBnd,SAAnB,QAAwB,EAClC6Y,WAAU,iBAAEsE,QAAF,IAAEA,OAAF,EAAEA,EAAiBld,SAAnB,QAAwB,EAClCgZ,WAAU,iBAAEiE,QAAF,IAAEA,OAAF,EAAEA,EAAiBvK,SAAnB,QAAwB,EAClCyK,WAAU,iBAAEF,QAAF,IAAEA,OAAF,EAAEA,EAAiBrK,SAAnB,QAAwB,EAClCqG,WAAU,iBAAEiE,QAAF,IAAEA,OAAF,EAAEA,EAAiBxK,SAAnB,QAAwB,EAClC0K,WAAU,iBAAEF,QAAF,IAAEA,OAAF,EAAEA,EAAiBtK,SAAnB,QAAwB,EAClC3S,MAAO4a,EAAa5a,WAIxB6a,EAAe,2BACVD,GADS,IAEZ1a,YACAD,YACAD,MAAOyc,EACP3c,EAAGuc,EAAiBvc,EACpBC,EAAGsc,EAAiBtc,KAEtBsb,EAAcqB,GACdnB,GAAcwB,GAchB,SAASK,KACP,IAAMC,EAXC,CACL3b,IAAI,IAAIgK,MAAOiJ,UACfxL,KAAK,SAAD,OAAW+Q,MACfU,aAAc/a,EACdwB,YAAa,GACbia,gBAAiB,GACjBE,2BAA4B,IAO9B8B,GADwB,sBAAO9Q,GAAP,CAAmB6Q,IACXA,EAAU3b,IAe5C,SAAS4b,GAAYC,EAAyB9N,GAC5C,IAAM+N,EAAQD,EAAY/c,MAAK,SAACgd,GAAD,OAAqBA,EAAM9b,KAAO+N,KACjE,GAAK+N,EAAL,CAIA,IAAMC,EAAqBF,EAAY5c,KAAI,SAAC+c,GAC1C,OAAIA,EAAOhc,KAAOgZ,EACT,2BACFgD,GADL,IAEE9C,aAAa,eAAKA,GAClBvZ,YAAY,YAAKA,GACjBia,gBAAgB,YAAKA,IACrBE,2BAA2B,eAAKA,MAI7BkC,KAETjD,EAAagD,IzBpcc,IyBscvB/C,IACFa,GAAciC,EAAMlC,iBACpBD,EAAcmC,EAAMnc,aACpBoa,GAAuB+B,EAAMhC,4BAC7BX,EAAe2C,EAAM5C,eAEvBD,EAAelL,IA6DjB,SAASkO,GAAalc,GACpB,IAAMmc,EAAYnc,EAAO3B,EAAIkD,OAAO6a,WAAa,EAAIpc,EAAOgR,EAAI,EAAI,IAC9DqL,EAAYrc,EAAO1B,EAAIiD,OAAO+a,YAAc,EAAItc,EAAOgR,EAAI,EACjE2H,IAAyB,EAEzB,IAAMsC,EAAsBrb,EAAYV,KAAI,SAAAsJ,GAAO,kCAC9CA,GAD8C,IAEjDnK,EAAGmK,EAAQnK,EAAI8d,EACf7d,EAAGkK,EAAQlK,EAAI+d,OAGXf,EAA0BzB,GAAgB3a,KAAI,SAACmb,GAA8B,IAAD,gBAC1EkB,EAAkBN,EAAoBlc,MAAK,SAAC2O,GAAD,OAAuBA,EAAEzN,KAAOoa,EAAKrZ,eAChFwa,EAAkBP,EAAoBlc,MAAK,SAAC2O,GAAD,OAAuBA,EAAEzN,KAAOoa,EAAKpZ,eAEtF,OAAO,2BACFoZ,GADL,IAEEtD,WAAU,iBAAEwE,QAAF,IAAEA,OAAF,EAAEA,EAAiBld,SAAnB,QAAwB,EAClC2Y,WAAU,iBAAEuE,QAAF,IAAEA,OAAF,EAAEA,EAAiBjd,SAAnB,QAAwB,EAClC2Y,WAAU,iBAAEuE,QAAF,IAAEA,OAAF,EAAEA,EAAiBnd,SAAnB,QAAwB,EAClC6Y,WAAU,iBAAEsE,QAAF,IAAEA,OAAF,EAAEA,EAAiBld,SAAnB,QAAwB,EAClCgZ,WAAU,iBAAEiE,QAAF,IAAEA,OAAF,EAAEA,EAAiBvK,SAAnB,QAAwB,EAClCyK,WAAU,iBAAEF,QAAF,IAAEA,OAAF,EAAEA,EAAiBrK,SAAnB,QAAwB,EAClCqG,WAAU,iBAAEiE,QAAF,IAAEA,OAAF,EAAEA,EAAiBxK,SAAnB,QAAwB,EAClC0K,WAAU,iBAAEF,QAAF,IAAEA,OAAF,EAAEA,EAAiBtK,SAAnB,QAAwB,OAItC0I,EAAcqB,GACdnB,GAAcwB,GAEdhC,EAAiBtZ,EAAOC,IAmB1BiN,aAAgB,WACdyO,OACC,IAEH,IAAMY,GAA+C3c,EAClDQ,QAAO,SAACJ,GAAD,OvBzlBc,IuBylBcA,EAAOuH,WvBxlBpB,IuBwlBgDvH,EAAOuH,aAC7ErI,KAAI,SAACc,GAAD,OAA4BA,EAAOC,MAEpCiV,GAAetV,EAAYb,MAAK,SAACiB,GAAD,OAA4BA,EAAOC,KAAOoZ,KAIhF,OACE,sBACEvL,QAzhBJ,SAAiB0O,GACfhD,GAAqB,IAyhBnBiD,cArhBJ,SAAuBD,GACrB/P,QAAQC,IAAI,qBACZ8P,EAAM7O,iBACNmL,GAAwB,CACtBza,EAAGme,EAAM9B,MACTpc,EAAGke,EAAM7B,OAEXnB,GAAqB,IA+gBnBhM,UAAWP,EAAMtK,sBACjB2S,QA5gBJ,SAAiBkH,GAEfA,EAAM5O,kBACN+K,IAAyB,EAEzB2B,IAA0B,EAAOkC,EAAMhC,OAAQgC,EAAM/B,OAAQ+B,EAAM9B,MAAO8B,EAAM7B,QAwgB9EtJ,YApgBJ,SAAsBmL,GAKpB,IAJA9D,IAAuBA,KAErBY,GzB1E0B,GyB4ExBkD,EAAM5J,UAAYgG,KAA8B9a,EAAW,CAAC,IAAD,IACvDkC,EAASJ,EAAYb,MAAK,SAACiB,GAAD,OAA4BA,EAAOC,IAAM2Y,MACnE8D,EAA+B,CACnCzc,IAAI,IAAIgK,MAAOiJ,UACflS,YAAa4X,GACb3X,YAAanD,EACbiZ,WAAYyF,EAAM9B,MAClB1D,WAAYwF,EAAM7B,MAClB1D,WAAYuF,EAAM9B,MAClBxD,WAAYsF,EAAM7B,MAClBrD,WAAU,iBAAEtX,QAAF,IAAEA,OAAF,EAAEA,EAAQgR,SAAV,QAAe,EACzByK,WAAU,iBAAEzb,QAAF,IAAEA,OAAF,EAAEA,EAAQkR,SAAV,QAAe,EACzBqG,WAAY,EACZmE,WAAY,EACZnd,MAAO4a,EAAa5a,MACpBJ,MzBmCC,QyBjCHub,EAA0BgD,EAASzc,IACnC6Z,GAAc,GAAD,mBAAKD,IAAL,CAAsB6C,OA8enCnH,YAzeJ,SAAmCiH,GACjC,GAAI9D,GAAqB,CACvB,IAAMmC,EAAKhC,GAAyBxa,IAAMN,EAAuB,EAAI8a,GAAyBxa,EAAIme,EAAM9B,MAClGI,EAAKjC,GAAyBva,IAAMP,EAAuB,EAAI8a,GAAyBva,EAAIke,EAAM7B,MACxG9B,GAA2B,CACzBxa,EAAGme,EAAM9B,MACTpc,EAAGke,EAAM7B,OAGX,IAAMM,EAAsBrb,EAAYV,KAAI,SAACc,GAC3C,OAAO,2BACFA,GADL,IAEE3B,EAAG2B,EAAO3B,EAAIwc,EACdvc,EAAG0B,EAAO1B,EAAIwc,OAIZQ,EAA0BzB,GAAgB3a,KAAI,SAACmb,GAA8B,IAAD,QAC1EkB,EAAkBN,EAAoBlc,MAAK,SAAC2O,GAAD,OAAuBA,EAAEzN,KAAOoa,EAAKrZ,eAChFwa,EAAkBP,EAAoBlc,MAAK,SAAC2O,GAAD,OAAuBA,EAAEzN,KAAOoa,EAAKpZ,eAEtF,OAAO,2BACFoZ,GADL,IAEEtD,WAAU,iBAAEwE,QAAF,IAAEA,OAAF,EAAEA,EAAiBld,SAAnB,QAAwB,EAClC2Y,WAAU,iBAAEuE,QAAF,IAAEA,OAAF,EAAEA,EAAiBjd,SAAnB,QAAwB,EAClC2Y,WAAU,iBAAEuE,QAAF,IAAEA,OAAF,EAAEA,EAAiBnd,SAAnB,QAAwB,EAClC6Y,WAAU,iBAAEsE,QAAF,IAAEA,OAAF,EAAEA,EAAiBld,SAAnB,QAAwB,OAItCsb,EAAcqB,GACdnB,GAAcwB,GAGhB,GAAIkB,EAAM5J,SAAU,CAClB,IAAM0I,EAA0BzB,GAAgB3a,KAAI,SAACmb,GACnD,GAAIA,EAAKpa,KAAOwZ,EAA2B,CAAC,IAAD,IACnC8B,EAAkB3b,EAAYb,MAAK,SAAC2O,GAAD,OAAuBA,EAAEzN,KAAOoa,EAAKrZ,eAC9E,OAAO,2BACFqZ,GADL,IAEEtD,WAAU,iBAAEwE,QAAF,IAAEA,OAAF,EAAEA,EAAiBld,SAAnB,QAAwB,EAClC2Y,WAAU,iBAAEuE,QAAF,IAAEA,OAAF,EAAEA,EAAiBjd,SAAnB,QAAwB,EAClC2Y,WAAYuF,EAAM9B,MAClBxD,WAAYsF,EAAM7B,QAItB,OAAON,KAETP,GAAcwB,KAybd9F,UApbJ,SAAkCgH,GAOhC,GANA9D,IAAsB,EACtBG,GAA2B,CACzBxa,EAAGN,EACHO,EAAGP,IzB3J2B,IyB8J5B0b,EAAoD,CACtD,IAAIkD,EAAgD9C,GACpD,IAAK,IAAD,EACI2B,EzBpHP,SAAiCoB,EAA0Cre,EAAeF,EAAWC,GAC1G,IAAMiC,EAAQqc,EAAuBpc,WAAU,SAACR,GAC5C,OAAO3B,EAAI2B,EAAO3B,GAAKC,EAAI0B,EAAO1B,GAAKD,EAAK2B,EAAO3B,EAAI2B,EAAOgR,GAAM1S,EAAK0B,EAAO1B,EAAI0B,EAAOkR,KAG/F,GAAI3Q,GAAS,EACT,OAAOqc,EAAuBrc,GAGlC,MAAM,IAAI4I,MAAJ,oByB2GwB0T,CAAwBjd,EAAauZ,EAAa5a,MAAOie,EAAM9B,MAAO8B,EAAM7B,OACpG,aAAIa,EAAgBsB,0BAApB,SACE,MAAM,IAAI3T,MAAM,yCAElB,GAAIqS,GAAmB5C,KAA8B4C,EAAgBvb,GAAI,CACvE,GAAIub,EAAgB3b,aAAa0I,SAASqQ,IACxC,MAAM,IAAIzP,MAAM,oBAElBwT,EAA0B9C,GAAgB3a,KAAI,SAACmb,GACD,IAAD,UAA3C,OAAIA,EAAKpa,KAAOwZ,EACP,2BACFY,GADL,IAEEpZ,YAAW,iBAAEua,QAAF,IAAEA,OAAF,EAAEA,EAAiBvb,UAAnB,QAAyBnC,EACpCmZ,WAAU,iBAAEuE,QAAF,IAAEA,OAAF,EAAEA,EAAiBnd,SAAnB,QAAwBN,EAClCmZ,WAAU,iBAAEsE,QAAF,IAAEA,OAAF,EAAEA,EAAiBld,SAAnB,QAAwBP,EAClCwZ,WAAU,iBAAEiE,QAAF,IAAEA,OAAF,EAAEA,EAAiBxK,SAAnB,QAAwB,EAClC0K,WAAU,iBAAEF,QAAF,IAAEA,OAAF,EAAEA,EAAiBtK,SAAnB,QAAwB,IAG/BmJ,KAETT,EAAcha,EAAYV,KAAI,SAACc,GAC7B,OAAIA,EAAOC,KAAOub,EAAgBvb,GACzB,2BACFD,GADL,IAEEH,aAAa,GAAD,mBAAMG,EAAOH,cAAb,CAA2B+Y,OAGpC5Y,OAGX,MAAO+c,IAhCT,QAmCEjD,GAAc,YAAI6C,EAAwBvc,QAAO,SAACia,GAAD,OAA8BA,EAAKpZ,cAAgBnD,OACpG4b,GzBpM4B,GyBqM5Bd,GAA4B9a,KAuY9B2P,cAjYJ,SAAuB+O,GACrB7D,IAAyB,EAIzB2B,IAA0B,EAAM,EAHfkC,EAAM5J,SAGwB,IAAM,IAFvC4J,EAAM9B,MACN8B,EAAM7B,QAqXpB,UASE,sBAAK1N,MAAO,CACVrK,SAAU,UADZ,UAIIiX,GAAgBzZ,QAAO,SAACia,GACtB,OAAIA,EAAKpZ,cAAgBnD,IAGCye,GAA6ChU,SAAS8R,EAAKrZ,gBAEpF9B,KAAI,SAACmb,GAAD,aACL,cAAC/D,GAAD,CAEEnV,KAAMkZ,EACNjC,SAAUiC,EAAKrZ,cAAgBqY,GAAmBgB,EAAKpZ,cAAgBoY,EACvExC,4BAA2B,UAAEkD,GAA2BhZ,EAAMsZ,EAAKpZ,YAAaoZ,EAAKrZ,qBAA1D,QAA2E,EACtGiX,iBAAkB1W,OAAO6a,WACzBlE,kBAAmB3W,OAAO+a,aALrBjC,EAAKpa,OAMXG,QAAO,SAACia,GAAD,QAAYA,KAGtBza,EACCQ,QAAO,SAACJ,GAAD,OA5DhB,SAAuDA,GAAqB,IAAD,IACzE,OAAIA,EAAO3B,EAAI2B,EAAOgR,EAAI,GAGtBhR,EAAO1B,EAAI0B,EAAOkR,EAAI,GAGtBlR,EAAO3B,GAAP,UAAYkD,OAAO6a,kBAAnB,QAAiC,IAGjCpc,EAAO1B,GAAP,UAAYiD,OAAO+a,mBAAnB,QAAkC,GAkDKU,CAAoBhd,MACxDd,KAAI,SAACc,GAA4B,IAAD,EAEzBid,EADOlN,GAAkBhR,MAAK,SAACme,GAAD,OAAmCA,EAAajd,KAAOD,EAAOuH,aAClFuN,MAAM,CACpB3T,KAAMnB,EACN+R,QAAS/R,EAAOC,KAAOoZ,EACvBxH,gBAAe,iBAAEqD,SAAF,IAAEA,QAAF,EAAEA,GAAcrV,aAAa0I,SAASvI,EAAOC,WAA7C,SACf2R,gBAAiB5R,EAAOC,KAAOoZ,IzB5mBb,IyB4mBgCA,EAClDhL,UzB3mBsB,IyB2mBZoL,EACVlb,MAAO4a,EAAa5a,MACpBkT,eAAgBiH,IAAuBC,GACvClJ,WAAY7P,EACZqY,iBAAkB1W,OAAO6a,WACzBlE,kBAAmB3W,OAAO+a,YAC1BxN,WAAY6K,EACZxI,cAAe,SAACgM,GAAD,OzBlnBO,IyBknBwB1D,GAvZ1D,SAA2BvF,EAAmBiJ,GAC5C,IAAMlC,EAAsBrb,EAAYV,KAAI,SAACc,GAC3C,OAAIA,EAAOC,KAAOiU,EACT,2BAAKlU,GAAWmd,GAGlBnd,KAGHsb,EAA0BzB,GAAgB3a,KAAI,SAACmb,GAA8B,IAAD,gBAC1EkB,EAAkBN,EAAoBlc,MAAK,SAAC2O,GAAD,OAAuBA,EAAEzN,KAAOoa,EAAKrZ,eAChFwa,EAAkBP,EAAoBlc,MAAK,SAAC2O,GAAD,OAAuBA,EAAEzN,KAAOoa,EAAKpZ,eAEtF,OAAO,2BACFoZ,GADL,IAEEtD,WAAU,iBAAEwE,QAAF,IAAEA,OAAF,EAAEA,EAAiBld,SAAnB,QAAwB,EAClC2Y,WAAU,iBAAEuE,QAAF,IAAEA,OAAF,EAAEA,EAAiBjd,SAAnB,QAAwB,EAClC2Y,WAAU,iBAAEuE,QAAF,IAAEA,OAAF,EAAEA,EAAiBnd,SAAnB,QAAwB,EAClC6Y,WAAU,iBAAEsE,QAAF,IAAEA,OAAF,EAAEA,EAAiBld,SAAnB,QAAwB,EAClCgZ,WAAU,iBAAEiE,QAAF,IAAEA,OAAF,EAAEA,EAAiBvK,SAAnB,QAAwB,EAClCyK,WAAU,iBAAEF,QAAF,IAAEA,OAAF,EAAEA,EAAiBrK,SAAnB,QAAwB,EAClCqG,WAAU,iBAAEiE,QAAF,IAAEA,OAAF,EAAEA,EAAiBxK,SAAnB,QAAwB,EAClC0K,WAAU,iBAAEF,QAAF,IAAEA,OAAF,EAAEA,EAAiBtK,SAAnB,QAAwB,EAClC3S,MAAO4a,EAAa5a,WAIxBqb,EAAcqB,GACdnB,GAAcwB,GA2XgG8B,CAAkBpd,EAAOC,GAAIkd,IACjI9L,YAAa,kBAxXA6C,EAwXsBlU,EAAOC,GAvXpDyY,IAAuBA,GACvBE,GAA4B1E,EACRyD,KAAK0F,IAAL,MAAA1F,KAAI,YAAQ/X,EAAYV,KAAI,SAACc,GAAD,OAAoCA,EAAO0R,kBAa3F4H,EAAiBpF,GAhBnB,IAAyBA,GAyXbsB,UAAW,aACXpG,gBAAiB,kBAnWH8E,EAmW0BlU,EAAOC,GAlWzD2Z,EAAcha,EAAYQ,QAAO,SAACJ,GAAD,OAA4BA,EAAOC,KAAOiU,WAC3E4F,GAAcD,GAAgBzZ,QAAO,SAACia,GAAD,OAA8BA,EAAKpZ,cAAgBiT,GAAamG,EAAKrZ,cAAgBkT,MAF5H,IAA0BA,GAoWd9D,2BAA4BA,GAC5BQ,0BAA2BuJ,GAC3B3J,kBAAmB0L,KAErB,OAAOe,EAAK,8BAAuBA,GAAbjd,EAAOC,IAAmB,WAKnDsZ,IAA2BI,GAC5B,qBACE7L,QAAS,SAAAJ,GAAC,OAAIA,EAAEE,mBAChB4E,eAAWC,EACXC,KAAK,OACLH,SAAU,EACV/E,UAAWP,EAAM/J,yBACjB+J,MAAO,CACL3J,KAAMwV,GAAsBza,EAC5BkF,IAAKuV,GAAsBxa,GAR/B,SAUE,cAAC8X,GAAD,CACER,MAAO7F,GACPsG,YAnVV,SAA2B3K,GACzB8N,GAAqB,GACrB,IAAM8D,EAAc3F,KAAK0F,IAAL,MAAA1F,KAAI,YAAQ/X,EAAYV,KAAI,SAACc,GAAD,OAAoCA,EAAO0R,YAAnE,QAA6E,KAC/FvQ,EAAuBuK,EAAKqJ,cAAc,CAC5CxN,UAAWmE,EAAKzL,GAChBA,IAAI,IAAIgK,MAAOiJ,UACf7U,EAAGya,GAAsBza,EACzBC,EAAGwa,GAAsBxa,EACzB0S,EzBtUoB,IyBuUpBE,EAAG,IACH3S,MAAO4a,EAAa5a,MACpBmT,QAAS4L,EAAc,EACvBhd,MAAO,GACP+O,YAAa,GACbxP,aAAc,KAEZwT,EAAM,sBAAOzT,GAAP,CAAoBuB,IAChCyY,EAAcvG,QAsUZ,qBAAK7F,UAAWP,EAAM5J,oBAAtB,SACE,cAAC0S,GAAD,CAASH,MAAO,CAAC,CACf3V,GAAI,EACJgQ,MAAO,OACPiG,SAAU,CAAC,CACTjW,GAAI,EACJgQ,MAAO,UACP4F,OA/LV,WACE,KzBpUG,SAAkB7K,GAQxB,IAaMuS,EAAY5b,SAASC,cAAc,SACzC2b,EAAUrf,KAAK,OACfqf,EAAUtQ,MAAMjJ,QAAQ,OACxBuZ,EAAUC,SAhBO,SAAS9P,GACzB,IAAIrM,EAAOqM,EAAEc,OAAOhD,MAAM,GAC1B,IAAKnK,EACJ,MAAM,IAAI8H,MAAM,cAEjB,IAAIsU,EAAS,IAAIC,WACjBD,EAAOE,OAAS,SAASjQ,GACxB,IAAIkQ,EAAWlQ,EAAEc,OAAO6E,OACxBrI,EAAS4S,GACTjc,SAASM,KAAKI,YAAYkb,IAE3BE,EAAOI,WAAWxc,IAMnBM,SAASM,KAAKC,YAAYqb,GAxBzB,SAAmBO,GAEjB,IAAIC,EAAapc,SAASqc,YAAY,eACtCD,EAAWE,eAAe,SAAS,GAAM,EAAO1c,OAAQ,EAAG,EAAG,EAAG,EAAG,GAAG,GAAO,GAAO,GAAO,EAAO,EAAG,MACtGuc,EAAKI,cAAcH,GAqBtBI,CAAUZ,GyB2SLa,EAAS,SAACC,GACR,IACE,IAAMC,EAAoBC,KAAKC,MAAMH,GACjCC,EAASnd,KAAK5B,OAAS,EACzBsc,GAAYyC,EAASnd,KAAMmd,EAASnd,KAAK,GAAGlB,IAE5C0b,KAEF,MAAOoB,GACP0B,MAAM1B,OAGV,MAAOA,GACP0B,MAAM1B,MAiLC,CACD9c,GAAI,EACJgQ,MAAO,WACP4F,OAhLV,WACE,IAAMyI,EAAoB,CACxBI,WAAW,IAAIzU,MAAOiJ,UACtB/R,KAAM4J,EAAW7L,KAAI,SAAC+c,GACpB,OAAIA,EAAOhc,KAAOgZ,EACT,2BACFgD,GADL,IAEE9C,aAAa,eAAKA,GAClBvZ,YAAY,YAAKA,GACjBia,gBAAgB,YAAKA,IACrBE,2BAA2B,eAAKA,MAI7BkC,MAKX/a,EAFsBqd,KAAKI,UAAUL,GACvB,eAAU,IAAIrU,MAAOiJ,UAArB,SACoB,YA+J3B,CACDjT,GAAI,EACJgQ,MAAO,SACPiG,SAAU,CAAC,CACTjW,GAAI,EACJgQ,MAAO,oBACP4F,OAAQ,YrB1HL,SAAiC9K,EAAwBC,GACtE,IAAMC,EAAQ,IAAIC,IACZjD,EAA+B8C,EAAWlK,QAAO,SAACsK,EAAuBxL,GAC7E,MAAM,GAAN,mBAAWwL,GAAX,YAAmBxL,EAAQC,gBAC1B,IAEHqL,EAAM5J,KAAK,OAlZD,4DAmZV4J,EAAM5J,KAAK,aA5bE,wnBA6bb4J,EAAM5J,KAAK,gBApfC,iFAqfZ4J,EAAM5J,KAAK,iBAjfG,kOAkfd4J,EAAM5J,KAAK,aAzWK,wFA0WhB4J,EAAM5J,KAAK,WApWI,0vDAqWf4J,EAAM5J,KAAK,gBAvQC,ykBAwQZ4J,EAAM5J,KAAK,eAnZI,q4BAoZf4J,EAAM5J,KAAK,SAzeJ,ynCA0eP4J,EAAM5J,KAAK,iBA3OD,wEA4OV4J,EAAM5J,KAAK,iBAtOD,2iDAuOV4J,EAAM5J,KAAK,sBAvLI,45EAwLf4J,EAAM5J,KAAK,gBAnGI,2QAoGf4J,EAAM5J,KAAK,qBAtFE,8PAwFb,IAAK,IAAI/B,EAAI,EAAGA,EAAI2I,EAAW1I,OAAQD,IAAK,CAC1C,IAAMU,EAASiI,EAAW3I,GAC1B,GAAKuI,EAAS7H,EAAOuH,WAArB,CAIA,IAAMkB,EAAoBZ,EAAS7H,EAAOuH,WACpCqX,EAAmB5V,EAAiBf,EAAYjI,GAEhD6e,EAAY,UAAMD,EAAgB,UAAMA,EAAN,QAA+B,IAArD,OAA0DlV,EAAW1J,EAAQiI,GAA7E,MAClBgD,EAAM5J,KAAN,UAAcoH,EAAkBX,WAAhC,YAA8C9H,EAAOM,MAArD,YAA8DmI,EAAkBV,iBAAmB8W,IAErG5T,EAAMW,cAAc,CAAC1N,KAAK,SAAS2N,KAAKb,GqB0F5B8T,CAAwB/T,EAAW7L,KAAI,SAAC+c,GACtC,OAAIA,EAAOhc,KAAOgZ,EACT,2BACFgD,GADL,IAEE9C,aAAa,eAAKA,GAClBvZ,YAAY,YAAKA,GACjBia,gBAAgB,YAAKA,IACrBE,2BAA2B,eAAKA,MAI7BkC,MACL,SAAA5a,GACFH,EAASG,EAAM,sBAAuB,YAGzC,CACDpB,GAAI,EACJgQ,MAAO,sBACP4F,OAAQ,YxBjYL,SAAmC9K,EAAwBC,GACxE,IAAMC,EAAQ,IAAIC,IACZjD,EAA+B8C,EAAWlK,QAAO,SAACsK,EAAuBxL,GAC7E,MAAM,GAAN,mBAAWwL,GAAX,YAAmBxL,EAAQC,gBAC1B,IAEHqL,EAAM5J,KAAK,OAAQ,aACnB4J,EAAM5J,KAAK,aAjRE,wPAkRb4J,EAAM5J,KAAK,gBAnLC,2bAoLZ4J,EAAM5J,KAAK,eApPI,s7CAqPf4J,EAAM5J,KAAK,eAAgBgH,EAAUJ,IACrC,IAAK,IAAI3I,EAAI,EAAGA,EAAI2I,EAAW1I,OAAQD,IAAK,CAC1C,IAAMU,EAASiI,EAAW3I,GAC1B,GCpW4B,IDoWxBU,EAAOuH,WAAmCM,EAAS7H,EAAOuH,WAA9D,CAGA,IAAMkB,EAAoBZ,EAAS7H,EAAOuH,WACpCqX,EAAmB5V,EAAiBf,EAAYjI,GAEhD6e,EAAY,UAAMD,EAAgB,UAAMA,EAAN,QAA+B,IAArD,OAA0DlV,EAAW1J,EAAQiI,GAA7E,MAClBgD,EAAM5J,KAAN,cAAkBoH,EAAkBX,WAApC,YAAkD9H,EAAOM,MAAzD,YAAkEmI,EAAkBV,iBAAmB8W,IAEzG5T,EAAMW,cAAc,CAAC1N,KAAK,SAAS2N,KAAKb,GwB4W5B+T,CAA0BhU,EAAW7L,KAAI,SAAC+c,GACxC,OAAIA,EAAOhc,KAAOgZ,EACT,2BACFgD,GADL,IAEE9C,aAAa,eAAKA,GAClBvZ,YAAY,YAAKA,GACjBia,gBAAgB,YAAKA,IACrBE,2BAA2B,eAAKA,MAI7BkC,MACL,SAAA5a,GACFH,EAASG,EAAM,yBAA0B,YAG5C,CACDpB,GAAI,EACJgQ,MAAO,uBACP4F,OAAQ,YtBvjBL,SAAf,6BsBwjBcmJ,CAAoBjU,EAAW7L,KAAI,SAAC+c,GAClC,OAAIA,EAAOhc,KAAOgZ,EACT,2BACFgD,GADL,IAEE9C,aAAa,eAAKA,GAClBvZ,YAAY,YAAKA,GACjBia,gBAAgB,YAAKA,IACrBE,2BAA2B,eAAKA,MAI7BkC,MACL,SAAA5a,GACFH,EAASG,EAAM,0BAA2B,cAI/C,CACDpB,GAAI,EACJgQ,MAAO,OACPiG,SAAU,CAAC,CACTjW,GAAI,EACJgQ,MAAO,gBACP4F,OAlOV,WACE4I,MAAM,qBAsOJ,qBAAKxR,MAAO,CACV9J,SAAU,WACVG,KAAM,EACN2b,OAAQ,EACR7b,OAAQ,QAJV,SAME,cAAC2J,GAAD,CACEc,UAAW9C,EAAW7L,KAAI,SAAC6c,GAAD,MAAsB,CAC9C/N,SAAU+N,EAAM9b,GAChBK,MAAOyb,EAAMrU,KACbwG,UAAW6N,EAAM9b,KAAOgZ,MAE1B1K,kBAzSR,SAAyBP,EAAkBtG,GACzC,IAAMsU,EAAqBjR,EAAW7L,KAAI,SAAC6c,GACzC,OAAIA,EAAM9b,KAAO+N,EACR,2BACF+N,GADL,IAEErU,SAGGqU,KAET/C,EAAagD,IAgSPvN,qBAAsB,SAAAxO,GACpBwM,QAAQC,IAAR,iBAAsBzM,IArVhC,SAAqB+N,GACnB,GAA0B,IAAtBjD,EAAWxL,OAAf,CAGA,IAAMyc,EAAqBjR,EAAW3K,QAAO,SAAC2b,GAAD,OAAqBA,EAAM9b,KAAO+N,KAC3EiL,IAAoBjL,EACtB6N,GAAYG,EAAoBA,GAAoBA,EAAmBzc,OAAS,GAAKyc,EAAmBzc,QAAQU,IAEhH+Y,EAAagD,IA8UPkD,CAAYjf,IAEd8N,qBAAsB,SAACC,GACjBA,IAAaiL,GAGjB4C,GAAY9Q,EAAYiD,IAE1BY,kBAAmB,kBAAM+M,MACzB9M,YAAa,WACXA,GAAa8K,IAEf7K,WAAY6K,MAGhB,qBAAK1M,MAAO,CACV9J,SAAU,WACVG,KAAM,GACN2b,OAAQ,EACRnc,OAAQ,OACRM,OAAQ,KACRY,QAAS,OACT0B,WAAY,UAPd,SASE,cAACiQ,GAAD,CACEC,MAAO,CAAC,CACN3V,GAAI,EACJ6V,SAAU,cACV7F,MAAO,UACP4F,OAJM,WAKJ8C,IAAyB,EACzB2B,IAA0B,EAAM,GAAI,GAAI/Y,OAAO6a,WAAa,EAAG7a,OAAO+a,YAAc,KAErF,CACDrc,GAAI,EACJ6V,SAAU,eACV7F,MAAO,WACP4F,OAJC,WAKC8C,IAAyB,EACzB2B,IAA0B,EAAM,EAAG,GAAI/Y,OAAO6a,WAAa,EAAG7a,OAAO+a,YAAc,UAK3F,qBAAKrP,MAAO,CACV9J,SAAU,WACVgc,MAAO,EACP5b,IAAK,EACLT,OAAQ,OACRM,OAAQ,OALV,SAOE,cAAC4R,GAAD,CACEvF,WAAY7P,EACZuV,eAAgBkE,EAChB3D,cAAewG,U,aC/0BVkD,gBAAe,CAC5BC,QAAS,CACPC,QAAS,CACPC,KAAM,UACNC,MAAO,UACPC,KAAM,QAERC,UAAW,CACTH,KAAM,WAERI,KAAM,CACJL,QAAS,WAEXtc,WAAY,CAGV4c,QAAS,SAGbC,WAAY,CACV5c,WAAY,CACV,SACA,gBACA,qBACA,aACA,SACA,mBACA,QACA,aACA,sBACA,mBACA,qBACA0E,KAAK,KACPmY,GAAI,CACF7c,WAAY,CACV,UACA0E,KAAK,KACP1B,aAAc,EAEdD,WAAY,KAEd+Z,GAAI,CACF9c,WAAY,CACV,UACA0E,KAAK,KACPvD,SAAU,GACV6B,aAAc,GACd5B,WAAY,QAEd2b,GAAI,CACF/c,WAAY,CACV,UACA0E,KAAK,KACPvD,SAAU,GACV6B,aAAc,GAGhBga,GAAI,CACFhd,WAAY,CACV,UACA0E,KAAK,KACPvD,SAAU,GACV6B,aAAc,EACd5B,WAAY,QAEd6b,MAAO,CACLjd,WAAY,CACV,UACA0E,KAAK,KACP3B,WAAY,IACZ7H,MAAO,OACPiG,SAAU,IAEZ+b,UAAW,CACTld,WAAY,CACV,UACA0E,KAAK,KACPxJ,MAAO,UACP6H,WAAY,IACZ5B,SAAU,IAEZgc,UAAW,CACTnd,WAAY,CACV,UACA0E,KAAK,KACPxJ,MAAO,UACP6H,WAAY,IACZ5B,SAAU,O,SC1EDic,OARf,WACE,OACE,cAACC,GAAA,EAAD,CAAe7d,MAAOA,GAAtB,SACE,cAACsW,GAAD,OCISwH,GAZS,SAACC,GACnBA,GAAeA,aAAuBC,UACxC,6BAAqB5U,MAAK,YAAkD,IAA/C6U,EAA8C,EAA9CA,OAAQC,EAAsC,EAAtCA,OAAQC,EAA8B,EAA9BA,OAAQC,EAAsB,EAAtBA,OAAQC,EAAc,EAAdA,QAC3DJ,EAAOF,GACPG,EAAOH,GACPI,EAAOJ,GACPK,EAAOL,GACPM,EAAQN,OCHdO,IAASC,OACP,cAAC,IAAMC,WAAP,UACE,cAAC,GAAD,MAEFtf,SAASuf,eAAe,SAM1BX,O","file":"static/js/main.06fc449f.chunk.js","sourcesContent":["import { createStyles, makeStyles, Theme } from \"@material-ui/core\";\nimport BaseEditorData from \"./base-editor/BaseEditorData\";\nimport { DependencyLineData } from \"./dependency-line/DependencyLineData\";\n\nexport interface CanvasProps {\n  x: number\n  y: number\n  scale: number\n  old_scale: number\n  new_scale: number\n}\n\nexport interface IDESheet {\n  id: number\n  name: string\n  canvas_props: CanvasProps\n  list_editor: BaseEditorData[]\n  list_dependency: DependencyLineData[]\n  list_top_offset_dependency: {[key: number]: number}\n}\n\nexport interface IDEFile {\n  timestamp: number\n  data: IDESheet[]\n}\n\nexport interface VariableType {\n  type_parent_id: number\n  type_name: string\n}\n\nexport const EDITOR_WIDTH = 250;\nexport const NO_ACTIVE_SHEET = -1;\nexport const NO_EDITOR = -1;\nexport const NO_ACTIVE_EDITOR = -1;\nexport const NO_MOVE_POSITION_YET = -1;\nexport const NO_DEPENDENCY_ACTIVE = -1;\nexport const NO_ACTIVE_TOOLBAR = -1;\nexport const NO_VARIABLE_TYPE_PARENT = -3;\n\nexport const BuiltinType = [{\n  type: 'function',\n  color: '#4AA'\n}, {\n  type: 'void',\n  color: '#CCC'\n}, {\n  type: 'any',\n  color: '#F71'\n}, {\n  type: 'string',\n  color: '#17F'\n}, {\n  type: 'int',\n  color: '#F1A'\n}, {\n  type: 'float',\n  color: '#F17'\n}, {\n  type: 'boolean',\n  color: 'rgb(33, 189, 33)'\n}];\n\nexport const DEFAULT_CANVAS_STATE: CanvasProps = {\n  x: 0, y: 0, scale: 1, old_scale: 1, new_scale: 1\n};\n\nexport function getBuiltinTypeColor(type: VariableType): string {\n  const normalized_type = type.type_name.replace(/\\[\\]/, '');\n  const object_type = BuiltinType.find(t => t.type === normalized_type);\n  if (!object_type) {\n      return '#000';\n  }\n\n  return object_type.color;\n}\n\nexport function getBuiltinTypes(): string[] {\n  return BuiltinType.map(t => t.type);\n}\n\nexport function getEditorInRangeByPoint(mock_list_editor_props: BaseEditorData[], scale: number, x: number, y: number): BaseEditorData {\n  const index = mock_list_editor_props.findIndex((editor: BaseEditorData) => {\n      return x > editor.x && y > editor.y && x < (editor.x + editor.w) && y < (editor.y + editor.h);\n  });\n\n  if (index >= 0) {\n      return mock_list_editor_props[index];\n  }\n\n  throw new Error(`not in any range`);\n}\n\nexport function addArrayToEachType(types: VariableType[]): VariableType[] {\n  const out = [];\n  for (let i = 0; i < types.length; i += 1) {\n    out.push(types[i]);\n    if (types[i].type_name !== 'void') {\n      out.push({\n        type_name: `${types[i].type_name}[]`,\n        type_parent_id: types[i].type_parent_id\n      });\n    }\n  }\n\n  return out;\n}\n\nexport function getNextType(current: VariableType, list_editor: BaseEditorData[], dependencies: number[]): VariableType {\n  const all_dependencies = dependencies.map((id_dep: number) => list_editor!.find(editor => editor.id === id_dep));\n  const builtin_type = getBuiltinTypes();\n  const all_type: VariableType[] = addArrayToEachType([...builtin_type.map(x => ({\n    type_parent_id: NO_VARIABLE_TYPE_PARENT,\n    type_name: x,\n  })), ...all_dependencies!.filter(dep => typeof dep !== 'undefined').map(dep => ({\n    type_parent_id: dep!.id,\n    type_name: dep!.title,\n  }))]);\n  const index = all_type.findIndex(t => t.type_name === current.type_name);\n  if (index === -1) {\n    return all_type[0];\n  }\n  return all_type[(index + 1) % all_type.length];\n}\n\nexport function getPrevType(current: VariableType, list_editor: BaseEditorData[], dependencies: number[]): VariableType {\n  const all_dependencies = dependencies.map((id_dep: number) => list_editor!.find(editor => editor.id === id_dep));\n  const builtin_type = getBuiltinTypes();\n  const all_type: VariableType[] = addArrayToEachType([...builtin_type.map(x => ({\n    type_parent_id: NO_VARIABLE_TYPE_PARENT,\n    type_name: x,\n  })), ...all_dependencies!.filter(dep => typeof dep !== 'undefined').map(dep => ({\n    type_parent_id: dep!.id,\n    type_name: dep!.title,\n  }))]);\n  const index = all_type.findIndex(t => t.type_name === current.type_name);\n  if (index === -1) {\n    return all_type[0];\n  }\n  return all_type[(index - 1 + all_type.length) % all_type.length];\n}\n\nexport function groupBy(xs: any[], key: string) {\n  return xs.reduce(function(rv, x) {\n    (rv[x[key]] = rv[x[key]] || []).push(x);\n    return rv;\n  }, {});\n};\n\nexport function keyOf(id_provider: number, id_consumer: number): string {\n  return `${id_provider}-${id_consumer}`;\n}\n\n\nfunction getSubColor() {\n  const s = Math.floor(Math.random() * 150).toString(16);\n  return `${s.length === 1 ? '0' : ''}${s}`;\n}\n\nexport function getControllerRandomColor(): string {\n  return '#FFF';\n  // return `#${getSubColor()}${getSubColor()}${getSubColor()}`\n}\n\n// https://stackoverflow.com/questions/13405129/javascript-create-and-save-file\n// Function to download data to a file\nexport function download(data, filename, type) {\n  var file = new Blob([data], {type: type});\n  if (window.navigator.msSaveOrOpenBlob) {\n    window.navigator.msSaveOrOpenBlob(file, filename);\n  } else {\n    var a = document.createElement(\"a\");\n    var url = URL.createObjectURL(file);\n    a.href = url;\n    a.download = filename;\n    document.body.appendChild(a);\n    a.click();\n    setTimeout(function() {\n      document.body.removeChild(a);\n      window.URL.revokeObjectURL(url);  \n    }, 0); \n  }\n}\n\n// https://stackoverflow.com/questions/3582671/how-to-open-a-local-disk-file-with-javascript\nexport function openFile(callback) {\n  function clickElem(elem) {\n    // Thx user1601638 on Stack Overflow (6/6/2018 - https://stackoverflow.com/questions/13405129/javascript-create-and-save-file )\n    var eventMouse = document.createEvent(\"MouseEvents\")\n    eventMouse.initMouseEvent(\"click\", true, false, window, 0, 0, 0, 0, 0, false, false, false, false, 0, null)\n    elem.dispatchEvent(eventMouse)\n  }\n\n\tconst readFile = function(e) {\n\t\tvar file = e.target.files[0];\n\t\tif (!file) {\n\t\t\tthrow new Error('File Error');\n\t\t}\n\t\tvar reader = new FileReader();\n\t\treader.onload = function(e) {\n\t\t\tvar contents = e.target.result;\n\t\t\tcallback(contents);\n\t\t\tdocument.body.removeChild(fileInput)\n\t\t}\n\t\treader.readAsText(file)\n\t}\n\tconst fileInput = document.createElement(\"input\")\n\tfileInput.type='file'\n\tfileInput.style.display='none'\n\tfileInput.onchange=readFile\n\tdocument.body.appendChild(fileInput)\n\tclickElem(fileInput)\n}\n\nexport const useThisStyles = makeStyles((theme: Theme) =>\n  createStyles({\n\n    // Application\n    application_container: {\n      overflow: 'hidden',\n      width: '100%',\n      height: '100%',\n      outline: 'none', \n      background: '#222',\n      fontFamily: 'Menlo, Monaco, \"Courier New\", monospace',\n    },\n    application_context_menu: {\n      outline: 'none',\n      position: 'absolute',\n      zIndex: 9999\n    },\n    application_toolbar: {\n      position: 'absolute',\n      left: 0,\n      top: 0,\n      // width: '100%',\n      zIndex: 99999\n    },\n\n    // General Input\n    general_input: {\n      background: 'rgba(255, 255, 255, .8)',\n      border: 'none',\n      flexGrow: 1, \n      width: '100%', \n      outline: 'none', \n      padding: '4px 7px', \n      paddingTop: 3,\n      borderTopLeftRadius: 4, \n      borderBottomLeftRadius: 4\n    },\n\n\n    // Header Editor\n    header_editor_title_container: {\n      display: 'flex',\n      flexDirection: 'row',\n    },\n    header_editor_title: {\n      border: 'none',\n      outline: 'none',\n      padding: '6px 12px',\n      boxSizing: 'border-box',\n      fontSize: 12, \n      fontWeight: 'bold',\n      width: '100%', \n      color: 'white',\n      maxWidth: '100%', \n      background: 'transparent',\n      fontFamily: 'Arial',\n      '&::placeholder': {\n        color: 'rgba(255, 255, 255, .5)'\n      }\n    },\n    header_editor_description_container: {\n      display: 'flex',\n      flexDirection: 'row',\n    },\n    header_editor_description: {\n      border: 'none',\n      borderTop: 'solid 1px rgba(0, 0, 0, .1)',\n      outline: 'none',\n      padding: '6px 12px',\n      color: 'white',\n      boxSizing: 'border-box',\n      fontSize: 10, \n      width: '100%', \n      maxWidth: '100%', \n      background: 'transparent' ,\n      '&::placeholder': {\n        color: 'rgba(255, 255, 255, .5)'\n      }\n    },\n\n\n    // Card\n    card_container: {\n      width: EDITOR_WIDTH,\n      transformOrigin: 'top left',\n      fontSize: 10,\n      position: 'absolute', \n      borderRadius: 10, \n      overflow: 'hidden',\n      background: 'white', \n      border: 'solid 2px white',\n      boxShadow: '0px 2px 20px rgba(0, 0, 0, .25)',\n      '&:hover': {\n        // boxShadow: '0px 3px 20px rgba(0, 0, 255, .15)',\n        // borderColor: 'blue'\n      }\n    },\n\n\n    // Toolbar\n    toolbar_container: {\n      padding: '0px 0px',\n      borderRadius: 10,\n      marginLeft: 10,\n      marginTop: 10,\n      color: 'white',\n      fontFamily: 'Arial',\n      display: 'flex',\n      flexDirection: 'row',\n    },\n    toolbar_item_container: {\n      borderTopLeftRadius: 3,\n      borderTopRightRadius: 3,\n      '&:hover': {\n        background: '#534e52',\n      }\n    },\n    toolbar_item: {\n      padding: '3px 10px'\n    },\n    toolbar_container_subitem: {\n      marginTop: -1,\n      position: 'absolute',\n      border: 'none',\n      borderTop: 'none',\n      transition: '500ms',\n      borderRadius: 3,\n      borderTopLeftRadius: 0,\n      overflow: 'hidden',\n      boxShadow: '0px 10px 10px rgba(0, 0, 0, .2)',\n    },\n    toolbar_subitem: {\n      padding: '6px 10px',\n      background: '#534e52',\n      whiteSpace: 'nowrap',\n      '&:hover': {\n        background: '#635e62',\n      }\n    },\n\n    bottom_bar_container: {\n      display: 'flex',\n      justifyContent: 'flex-start',\n      flexDirection: 'row',\n      alignItems: 'flex-end',\n      // background: '#ec524b',\n      marginLeft: 10,\n      fontFamily: 'Arial'\n    },\n    bottom_bar_item: {\n      padding: '4px 10px',\n      paddingBottom: 6,\n      background: '#534e52',\n      borderTopLeftRadius: 6,\n      borderTopRightRadius: 6,\n      marginLeft: 4,\n      transition: '.15s',\n      color: '#eee',\n      cursor: 'pointer',\n      display: 'flex',\n      flexDirection: 'row',\n      boxShadow: '0px 2px 5px rgba(0, 0, 0, .6)',\n    },\n\n\n\n    // Sidebar\n    sidebar_container: {\n      background: '#EEE',\n      padding: '10px 10px',\n      borderRadius: 10,\n      marginTop: 10,\n      color: 'white',\n      fontFamily: 'Arial',\n      display: 'flex',\n      flexDirection: 'column',\n      boxShadow: '0px 2px 20px 0px rgba(0, 0, 0, .25)',\n    },\n    sidebar_item: {\n      lineHeight: 0,\n      padding: 5,\n      background: '#E7E7E7',\n      borderRadius: 4,\n      marginBottom: 7,\n      cursor: 'pointer',\n      '&:last-child': {\n        marginBottom: 0\n      },\n      '&:hover': {\n        background: '#E0E0E0',\n      },\n      '&:active': {\n        background: '#DDD',\n      }\n    },\n    sidebar_item_image: {\n      height: 20,\n      width: 20\n    },\n\n\n    // Context Menu\n    context_menu_container: {\n      background: '#FFF',\n      border: 'solid 1px #BBB',\n      borderRadius: 4,\n      fontSize: 12,\n      fontFamily: 'Arial',\n      boxShadow: '0px 2px 12px rgba(0, 0, 0, .2)',\n      overflow: 'hidden'\n    },\n    context_menu_item: {\n      paddingLeft: 12,\n      paddingRight: 12,\n      paddingTop: 7,\n      paddingBottom: 7,\n      minWidth: 120,\n      outline: 'none',\n      display: 'flex',\n      flexDirection: 'row',\n      alignItems: 'center',\n      cursor: 'pointer',\n      '&:hover': {\n        background: '#EEE',\n      },\n      '&:active': {\n        background: '#DDD',\n      }\n    },\n\n    // Dependency List\n\n    dependency_list_container: {},\n    dependency_list_main_item: {\n      padding: '4px 8px',\n      paddingBottom: 2\n    },\n    dependency_list_main_item_title: {\n      fontSize: 9,\n      padding: '0px 4px',\n      color: '#FFF'\n    },\n    dependency_list_main_item_list: {},\n    dependency_list_main_item_list_item: {\n      fontSize: 10,\n      marginTop: 3,\n      marginLeft: 2,\n      minHeight: 20,\n      marginRight: 2,\n      boxSizing: 'border-box',\n      background: 'rgba(0, 0, 0, .2)',\n      borderRadius: 999,\n      display: 'flex',\n      flexDirection: 'row',\n      alignItems: 'center',\n      position: 'relative',\n      cursor: 'pointer',\n      '&:hover': {\n        background: 'rgba(0, 0, 0, .4)',\n      }\n    },\n\n    // Collection List\n    collection_list_container: {\n      height: '100%', \n      width: '100%', \n      overflowY: 'auto',\n      background: '#111',\n      boxShadow: '0px 0px 5px rgba(0, 0, 0, .2)'\n    },\n    collection_list_main_item: {\n      padding: '4px 8px',\n      paddingBottom: 12\n    },\n    collection_list_main_item_title: {\n      fontSize: 9,\n      padding: '0px 4px',\n      color: '#EEE'\n    },\n    collection_list_main_item_sub_list: {\n    },\n    collection_list_main_item_sub_list_item: {\n      fontSize: 10,\n      marginTop: 3,\n      marginLeft: 2,\n      minHeight: 20,\n      marginRight: 2,\n      boxSizing: 'border-box',\n      background: 'rgba(0, 0, 0, .1)',\n      border: 'solid 1px transparent',\n      color: 'white',\n      borderRadius: 999,\n      display: 'flex',\n      flexDirection: 'row',\n      alignItems: 'center',\n      position: 'relative',\n      cursor: 'pointer',\n      '&:hover': {\n        background: 'rgba(0, 0, 0, .2)'\n      }\n    }\n  })\n);\n","import JSZip from \"jszip\";\nimport { EditorAPIAccessData } from \"../components/editor-api-access/EditorAPIAccess\";\nimport { APIVariableData } from \"../components/editor-api/APIVariableView\";\nimport { EditorAPIData } from \"../components/editor-api/EditorAPI\";\nimport { EditorBusinessLogicData } from \"../components/editor-business-logic/EditorBusinessLogic\";\nimport { EditorDataAccessData } from \"../components/editor-data-access/EditorDataAccess\";\nimport { EditorDataModelData } from \"../components/editor-data-model/EditorDataModel\";\nimport { EditorLambdaTypeData } from \"../components/editor-lambda-type/EditorLambdaType\";\nimport { EditorUIData } from \"../components/editor-ui/EditorUI\";\nimport { ModelVariable } from \"../components/editor-ui/VariableView\";\nimport BaseEditorData from \"../components/main/base-editor/BaseEditorData\";\nimport { API_ACCESS, BUSINESS_LOGIC, DATA_ACCESS, EXTERNAL_MODULE, LAMBDA_TYPE, MODEL_DATA, PRESENTATION_API, PRESENTATION_UI } from \"../components/main/ComponentConstant\";\nimport { IDESheet, NO_VARIABLE_TYPE_PARENT, VariableType } from \"../components/main/Constant\";\nimport { ContextMenuItem } from \"../components/main/context-menu/ContextMenu\";\nimport { RegisterComponent } from \"../components/main/RegisterComponent\";\nimport { ExportData } from \"./ExportData\";\n\nfunction getDataType(list_editor: BaseEditorData[], data_type: VariableType) {\n  if (data_type.type_parent_id === NO_VARIABLE_TYPE_PARENT) {\n    return data_type.type_name === 'function' ? '(_params: any) => {}' : data_type.type_name;\n  }\n  const editor = list_editor.find(x => x.id === data_type.type_parent_id)!;\n  if (editor.item_type === LAMBDA_TYPE) {\n    return `(${(editor as EditorLambdaTypeData).parameters.map((param: ModelVariable) => {\n      return `${param.name}: ${param.type.type_name}`\n    }).join(', ')}) => ${(editor as EditorLambdaTypeData).return_type.type_name}`\n  }\n  return data_type.type_name;\n}\n\nconst exporter: {[key: number]: ExportData } = {\n  [EXTERNAL_MODULE]: {\n    exportPath: 'external',\n    exportExtension: 'ts',\n    exportToFile(editor: BaseEditorData, all_editor: BaseEditorData[]) {\n      return `// implement your external module below\\nexport const ${editor.title} = null;`;\n    }\n  },\n  [PRESENTATION_API]: {\n    exportPath: 'api',\n    exportExtension: 'ts',\n    exportToFile(editor: EditorAPIData, all_editor: BaseEditorData[]) {\n      const parameters = 'props: {' + editor.variables.map((param: APIVariableData) => `${param.name}${param.required ? '' : '?'}: ${getDataType(all_editor, param.type)}`).join(', ') + '}';\n      return `export async function ${editor.title}(${parameters}) {\\n  // implement here...\\n}`;\n    },\n  },\n  [BUSINESS_LOGIC]: {\n    exportPath: 'logic',\n    exportExtension: 'ts',\n    exportToFile(editor: EditorBusinessLogicData, all_editor: BaseEditorData[]) {\n      const parameters = 'params: {' + editor.parameters.map((param: ModelVariable) => `${param.name}${param.required ? '' : '?'}: ${getDataType(all_editor, param.type)}`).join(', ') + '}';\n      return `export async function ${editor.title}(${parameters}): Promise<${getDataType(all_editor, editor.return_type)}> {\\n  // implement here...\\n  throw new Error('function ${editor.title} is not implemented yet');\\n}`;\n    }\n  },\n  [API_ACCESS]: {\n    exportPath: 'access-api',\n    exportExtension: 'ts',\n    exportToFile(editor: EditorAPIAccessData, all_editor: BaseEditorData[]) {\n      const parameters = 'params: {' + editor.variables.map((param: APIVariableData) => `${param.name}${param.required ? '' : '?'}: ${getDataType(all_editor, param.type)}`).join(', ') + '}';\n      return `export async function ${editor.title}(${parameters}): Promise<${getDataType(all_editor, editor.return_type)}> {\\n  // implement here...\\n  throw new Error('function ${editor.title} is not implemented yet');\\n}`;\n    }\n  },\n  [DATA_ACCESS]: {\n    exportPath: 'access-data',\n    exportExtension: 'ts',\n    exportToFile(editor: EditorDataAccessData, all_editor: BaseEditorData[]) {\n      const parameters = 'params: {' + editor.parameters.map((param: ModelVariable) => `${param.name}${param.required ? '' : '?'}: ${getDataType(all_editor, param.type)}`).join(', ') + '}';\n      return `export async function ${editor.title}(${parameters}): Promise<${getDataType(all_editor, editor.return_type)}> {\\n  // implement here...\\n  throw new Error('function ${editor.title} is not implemented yet');\\n}`;\n    }\n  },\n  [MODEL_DATA]: {\n    exportPath: 'z/data-model',\n    exportExtension: 'ts',\n    exportToFile(editor: EditorDataModelData, all_editor: BaseEditorData[]) {\n      const attributes = editor.attributes.map((param: ModelVariable) => `  ${param.name}${param.required ? '' : '?'}: ${getDataType(all_editor, param.type)}`).join('\\n');\n      return `interface ${editor.title} {\\n${attributes}\\n}\\n\\nexport { ${editor.title} }`;\n    }\n  }\n}\n\nconst gitignore = `# OS X\n.DS_Store*\nIcon?\n._*\n\n# Windows\nThumbs.db\nehthumbs.db\nDesktop.ini\n\n# Linux\n.directory\n*~\n\n\n# npm\nnode_modules\npackage-lock.json\n*.log\n*.gz\n\n\n# Coveralls\ncoverage\n\n# Benchmarking\nbenchmarks/graphs\ndist\npublic\n`;\n\nconst packageJSON = `{\n  \"name\": \"ideditor-sample\",\n  \"version\": \"1.0.0\",\n  \"description\": \"\",\n  \"main\": \"index.js\",\n  \"nodemonConfig\": {\n    \"exec\": \"npm run dev\",\n    \"watch\": [\n      \"src/**/*.ts\",\n      \"public/**/*\"\n    ],\n    \"ext\": \"ts,js\",\n    \"ignore\": [\n      \"**/__tests__/**\",\n      \"*.test.js\",\n      \"*.spec.js\"\n    ]\n  },\n  \"scripts\": {\n    \"start\": \"node ./dist\",\n    \"transpile\": \"tsc\",\n    \"clean\": \"rimraf ./dist\",\n    \"build\": \"npm-run-all clean transpile\",\n    \"dev\": \"NODE_ENV=development npm-run-all build start\",\n    \"prod\": \"NODE_ENV=production npm-run-all build start\",\n    \"watch:dev\": \"nodemon\"\n  },\n  \"author\": \"\",\n  \"license\": \"ISC\",\n  \"dependencies\": {\n    \"@babel/cli\": \"^7.8.4\",\n    \"@babel/core\": \"^7.9.0\",\n    \"@babel/preset-env\": \"^7.9.5\",\n    \"bcrypt\": \"^5.0.0\",\n    \"cors\": \"^2.8.5\",\n    \"dotenv\": \"^8.2.0\",\n    \"express\": \"^4.17.1\",\n    \"express-validator\": \"^6.4.0\",\n    \"mime\": \"^2.4.6\",\n    \"moment\": \"^2.24.0\",\n    \"nodemon\": \"^2.0.3\",\n    \"path\": \"^0.12.7\",\n    \"rimraf\": \"^3.0.2\",\n    \"typescript\": \"^3.8.3\"\n  },\n  \"babel\": {\n    \"presets\": [\n      \"@babel/preset-env\"\n    ]\n  },\n  \"devDependencies\": {\n    \"@types/bluebird\": \"^3.5.32\",\n    \"@types/cors\": \"^2.8.7\",\n    \"@types/express\": \"^4.17.7\",\n    \"@types/node\": \"^13.13.23\",\n    \"@types/validator\": \"^13.1.0\",\n    \"chai\": \"^4.2.0\",\n    \"chai-http\": \"^4.3.0\",\n    \"mocha\": \"^7.1.1\",\n    \"npm-run-all\": \"^4.1.5\"\n  }\n}\n`;\n\nconst tsconfig = `{\n  \"compilerOptions\": {\n      \"module\": \"commonjs\",\n      \"esModuleInterop\": true,\n      \"target\": \"es6\",\n      \"moduleResolution\": \"node\",\n      \"sourceMap\": true,\n      \"outDir\": \"dist\",\n      \"experimentalDecorators\": true,\n      \"emitDecoratorMetadata\": true,\n      \"skipLibCheck\": true,\n  },\n  \"include\": [\n      \"src/**/*\"\n  ],\n  \"exclude\": [\n      \"node_modules\",\n      \"**/*.spec.ts\"\n  ],\n  \"lib\": [\"es2015\"]\n}`;\n\nconst mainIndex = list_editor => `\nrequire('dotenv').config();\nconst express = require('express')\nconst app = express();\n\nimport { validationResult } from 'express-validator';\nimport { check } from 'express-validator';\nimport { Router } from 'express';\nimport cors from 'cors';\n${importDependencyMain(list_editor)}\n\nexport function validate(request: any, response: any, next: any) {\n  const error = validationResult(request);\n  if (!error.isEmpty()) {\n    const error_string: string = error.array().map(cur => \\`\\${cur.msg} \\${cur.param}\\`).join(',');\n    next(new Error(error_string));\n  }\n  next();\n}\n\nexport function response_ok(response: any, data: any, code: number = 200) {\n  response.status(code).json({\n    status: true,\n    data\n  });\n}\n\nexport function response_error(response: any, message: string, code: number = 400) {\n  response.status(code).json({\n    status: false,\n    message\n  });\n}\n\n(async () => {\n  app.use(express.json());\n  app.use('/static', express.static('public'));\n  app.use(cors());\n\n  ${createRouter(list_editor)}\n  app.use('/', router);\n  app.use((error: Error, request, response, next) => {\n    console.error(error.message);\n    response_error(response, error.message);\n  });\n\n  app.listen(process.env.PORT, () => console.log(\\`listening at http://localhost:\\${process.env.PORT}\\`));\n})();\n`\n\nfunction createRouter(list_editor: BaseEditorData[]): string {\n  const list_model: number[] = list_editor.filter((editor: BaseEditorData) => editor.item_type === MODEL_DATA).map(x => x.id);\n  return `const router = Router();\n${list_editor.filter((editor: BaseEditorData) => editor.item_type === 3).map((editor: EditorAPIData) => `\n  router.${editor.method}(\n    '${editor.url}', \n    [\\n${editor.variables.map((_var: APIVariableData) => {\n      const map_var = {\n        'any': 'isAscii()',\n        'string': 'isString()',\n        'number': 'isNumeric()',\n        'any[]': 'isArray()',\n        'string[]': 'isArray()',\n        'number[]': 'isArray()',\n      }\n\n      return `      check('${_var.name}').${_var.required ? '' : 'optional().'}${map_var[getDataType(list_editor, _var.type)]},`;\n    })\n    .join('\\n')}\n    ], \n    validate,\n    (async (request, response, next) => {\n      try {\n        const params = {\n${editor.variables.map((_var: APIVariableData) => {\n  const map_var = {\n    'B': 'body',\n    'Q': 'query',\n    'P': 'params'\n  };\n  return `          ${_var.name}: request.${map_var[_var.kind]}.${_var.name}`\n}).join(',\\n')}\n        };\n        response_ok(response, await ${\n          (() => {\n            for (let i = 0; i < editor.dependencies.length; i++) {\n              if (list_model.includes(editor.dependencies[i])) {\n                continue;\n              }\n              return list_editor.find(x => x.id === editor.dependencies[i]).title;\n            }\n            return \"/** not found function name **/\";\n          })()\n        }(params));\n      } catch (error) {\n        response_error(response, error.toString());\n      }\n    })\n  );\n`).join('')}`\n}\n\nfunction importDependencyMain(list_editor: BaseEditorData[]): string {\n  const list_model: number[] = list_editor.filter((editor: BaseEditorData) => editor.item_type === MODEL_DATA).map(x => x.id);\n  return list_editor\n    .filter((editor: BaseEditorData) => {\n      return editor.item_type === PRESENTATION_API;\n    })\n    .map((editor: BaseEditorData) => {\n      for (let i = 0; i < editor.dependencies.length; i++) {\n        if (list_model.includes(editor.dependencies[i])) {\n          continue;\n        }\n        return list_editor.find(x => x.id === editor.dependencies[i]);\n      }\n      return null;\n    })\n    .filter(x => x !== null)\n    .map((_editor: BaseEditorData) => {\n      const item_context_menu = exporter[_editor.item_type];\n      return `import { ${_editor.title} } from './${item_context_menu.exportPath}/${_editor.title}'`\n    }).join(\"\\n\");\n}\n\nfunction importDependency<T extends BaseEditorData>(_list_editor: T[], editor: T): string {\n  const this_item_context_menu = exporter[editor.item_type];\n  if (!this_item_context_menu) {\n    throw new Error(`Context Menu editor: ${editor.title} tidak ditemukan`);\n  }\n\n  const list_editor = _list_editor.filter((editor: BaseEditorData) => exporter[editor.item_type]);\n\n  const folder_depth = (this_item_context_menu.exportPath.match(/\\//g) || []).length + 1;\n  const list_editor_id = list_editor.map((editor: T) => editor.id);\n  \n  return editor.dependencies\n    .filter((id_dependency: number) => list_editor_id.includes(id_dependency)) // filter only available dependency\n    .map((id_dependency: number) => list_editor.find((ed: T) => ed.id === id_dependency)!) // map to editor instance\n    .map((_editor: T) => {\n      const item_context_menu = exporter[_editor.item_type];\n      return `import { ${_editor.title} } from '${'../'.repeat(folder_depth)}${item_context_menu.exportPath}/${_editor.title}'`\n    }).join(\"\\n\");\n}\n\nfunction createFile<T extends BaseEditorData>(editor: T, all_editor: T[]): string {\n  const item = exporter[editor.item_type];\n  return item.exportToFile(editor, all_editor);\n}\n\nexport default function _export_backend_expressjs(list_sheet: IDESheet[], callback: (file: Blob) => void) {\n  const jszip = new JSZip();\n  const all_editor: BaseEditorData[] = list_sheet.reduce((acc: BaseEditorData[], current: IDESheet) => {\n    return [...acc, ...current.list_editor];\n  }, []);\n\n  jszip.file('.env', 'PORT=3000');\n  jszip.file('.gitignore', gitignore);\n  jszip.file('tsconfig.json', tsconfig);\n  jszip.file('package.json', packageJSON);\n  jszip.file('src/index.ts', mainIndex(all_editor));\n  for (let i = 0; i < all_editor.length; i++) {\n    const editor = all_editor[i];\n    if (editor.item_type === PRESENTATION_API || !exporter[editor.item_type]) {\n      continue;\n    }\n    const item_context_menu = exporter[editor.item_type];\n    const dependency_lines = importDependency(all_editor, editor);\n\n    const file_content = `${dependency_lines ? `${dependency_lines}\\n\\n` : ''}${createFile(editor, all_editor)}\\n`;\n    jszip.file(`src/${item_context_menu.exportPath}/${editor.title}.${item_context_menu.exportExtension}`, file_content);\n  }\n  jszip.generateAsync({type:\"blob\"}).then(callback);\n}\n","export const EXTERNAL_MODULE = 1;\nexport const PRESENTATION_UI = 2;\nexport const PRESENTATION_UI_COMPONENTS = 8;\nexport const PRESENTATION_API = 3;\nexport const BUSINESS_LOGIC = 4;\nexport const API_ACCESS = 5;\nexport const DATA_ACCESS = 6;\nexport const MODEL_DATA = 7;\nexport const LAMBDA_TYPE = 9;","import JSZip from \"jszip\";\nimport { EditorAPIAccessData } from \"../components/editor-api-access/EditorAPIAccess\";\nimport { APIVariableData } from \"../components/editor-api/APIVariableView\";\nimport { EditorAPIData } from \"../components/editor-api/EditorAPI\";\nimport { EditorBusinessLogicData } from \"../components/editor-business-logic/EditorBusinessLogic\";\nimport { EditorDataAccessData } from \"../components/editor-data-access/EditorDataAccess\";\nimport { EditorDataModelData } from \"../components/editor-data-model/EditorDataModel\";\nimport { EditorLambdaTypeData } from \"../components/editor-lambda-type/EditorLambdaType\";\nimport { ModelVariable } from \"../components/editor-ui/VariableView\";\nimport BaseEditorData from \"../components/main/base-editor/BaseEditorData\";\nimport { API_ACCESS, BUSINESS_LOGIC, DATA_ACCESS, EXTERNAL_MODULE, LAMBDA_TYPE, MODEL_DATA, PRESENTATION_API } from \"../components/main/ComponentConstant\";\nimport { IDESheet, NO_VARIABLE_TYPE_PARENT, VariableType } from \"../components/main/Constant\";\nimport { ExportData } from \"./ExportData\";\n\n\nfunction getDataType(list_editor: BaseEditorData[], data_type: VariableType) {\n  if (data_type.type_parent_id === NO_VARIABLE_TYPE_PARENT) {\n    return data_type.type_name === 'function' ? '(_params: any) => {}' : data_type.type_name;\n  }\n  const editor = list_editor.find(x => x.id === data_type.type_parent_id)!;\n  if (editor.item_type === LAMBDA_TYPE) {\n    return `(${(editor as EditorLambdaTypeData).parameters.map((param: ModelVariable) => {\n      return `${param.name}: ${param.type.type_name}`\n    }).join(', ')}) => ${(editor as EditorLambdaTypeData).return_type.type_name}`\n  }\n  return data_type.type_name === \"number\" ? '' : data_type.type_name;\n}\n\n\nfunction includeModels<T extends BaseEditorData>(_list_editor: T[], editor: T): string {\n  const this_item_context_menu = exporter[editor.item_type];\n  if (!this_item_context_menu) {\n    throw new Error(`Context Menu editor: ${editor.title} tidak ditemukan`);\n  }\n\n  const list_editor = _list_editor.filter((editor: BaseEditorData) => editor.item_type === MODEL_DATA);\n  const list_editor_id = list_editor.map((editor: T) => editor.id);\n  \n  return editor.dependencies\n    .filter((id_dependency: number) => list_editor_id.includes(id_dependency)) // filter only available dependency\n    .map((id_dependency: number) => list_editor.find((ed: T) => ed.id === id_dependency)!) // map to editor instance\n    .map((_editor: T) => {\n      const item_context_menu = exporter[_editor.item_type];\n      return `use App\\\\Models\\\\${_editor.title};`\n    }).join(\"\\n\");\n}\n\nfunction includeFunctions<T extends BaseEditorData>(_list_editor: T[], editor: T): string {\n  const this_item_context_menu = exporter[editor.item_type];\n  if (!this_item_context_menu) {\n    throw new Error(`Context Menu editor: ${editor.title} tidak ditemukan`);\n  }\n\n  const list_editor = _list_editor.filter((editor: BaseEditorData) => editor.item_type !== MODEL_DATA);\n\n  const folder_depth = (this_item_context_menu.exportPath.match(/\\//g) || []).length + 1;\n  const list_editor_id = list_editor.map((editor: T) => editor.id);\n  \n  return editor.dependencies\n    .filter((id_dependency: number) => list_editor_id.includes(id_dependency)) // filter only available dependency\n    .map((id_dependency: number) => list_editor.find((ed: T) => ed.id === id_dependency)!) // map to editor instance\n    .map((_editor: T) => {\n      const item_context_menu = exporter[_editor.item_type];\n      return `  $${_editor.title} = include('../${item_context_menu.exportPath}/${_editor.title}.php');`\n    }).join(\"\\n\");\n}\n\nconst exporter: {[key: number]: ExportData } = {\n  [EXTERNAL_MODULE]: {\n    exportPath: 'app/Http/Controllers/external',\n    exportExtension: 'php',\n    exportToFile(editor: BaseEditorData, all_editor: BaseEditorData[]) {\n      return `<?php\\n\\n${includeModels(all_editor, editor)}\\n\\nreturn function() {\\n\\n${includeFunctions(all_editor, editor)}\\n\\n  // implement your external module below\\n  return null;\\n};\\n`;\n    }\n  },\n  [PRESENTATION_API]: {\n    exportPath: 'app/Http/Controllers/router',\n    exportExtension: 'php',\n    exportToFile(editor: EditorAPIData, all_editor: BaseEditorData[]) {\n      const parameters = editor.variables.map((param: APIVariableData) => `  $${param.name} = $request->${param.name};`).join('\\n');\n      const validators = editor.variables.map((param: APIVariableData) => `      '${param.name}' => '${param.required ? 'required' : ''}'`).join(',\\n');\n      return `<?php\\n\\n${includeModels(all_editor, editor)}\\nuse Illuminate\\\\Http\\\\Request;\\n\\nreturn function(Request $request) {\\n  $validate = include('../app/Http/Controllers/response/validate.php');\\n  $responseOk = include('../app/Http/Controllers/response/ok.php');\\n  $responseError = include('../app/Http/Controllers/response/error.php');\\n${includeFunctions(all_editor, editor)}\\n\\n${parameters}\\n\\n  try {\\n    $validate($request, [\\n${validators}\\n    ]);\\n\\n    // implement your code below\\n    throw new Exception('${editor.title} is not implemented yet');\\n    return $responseOk(null);\\n  } catch (Exception $e) {\\n    return $responseError($e);\\n  }\\n};\\n`;\n    },\n  },\n  [BUSINESS_LOGIC]: {\n    exportPath: 'app/Http/Controllers/logic',\n    exportExtension: 'php',\n    exportToFile(editor: EditorBusinessLogicData, all_editor: BaseEditorData[]) {\n      const parameters = editor.parameters.map((param: ModelVariable) => `${getDataType(all_editor, param.type)} $${param.name}${param.required ? '' : ' = NULL'}`).join(', ');\n      return `<?php\\n\\n${includeModels(all_editor, editor)}\\n\\nreturn function(${parameters}) {\\n${includeFunctions(all_editor, editor)}\\n\\n  // implement your external module below\\n  throw new Exception('${editor.title} is not implemented yet');\\n};\\n`;\n    }\n  },\n  [API_ACCESS]: {\n    exportPath: 'app/Http/Controllers/access-api',\n    exportExtension: 'php',\n    exportToFile(editor: EditorAPIAccessData, all_editor: BaseEditorData[]) {\n      const parameters = editor.variables.map((param: APIVariableData) => `${getDataType(all_editor, param.type)} $${param.name}${param.required ? '' : ' = NULL'}`).join(', ');\n      return `<?php\\n\\n${includeModels(all_editor, editor)}\\n\\nreturn function(${parameters}) {\\n${includeFunctions(all_editor, editor)}\\n\\n  // implement your external module below\\n  throw new Exception('${editor.title} is not implemented yet');\\n};\\n`;\n    }\n  },\n  [DATA_ACCESS]: {\n    exportPath: 'app/Http/Controllers/access-data',\n    exportExtension: 'php',\n    exportToFile(editor: EditorDataAccessData, all_editor: BaseEditorData[]) {\n      const parameters = editor.parameters.map((param: ModelVariable) => `${getDataType(all_editor, param.type)} $${param.name}${param.required ? '' : ' = NULL'}`).join(', ');\n      return `<?php\\n\\n${includeModels(all_editor, editor)}\\n\\nreturn function(${parameters}) {\\n${includeFunctions(all_editor, editor)}\\n\\n  // implement your external module below\\n  throw new Exception('${editor.title} is not implemented yet');\\n};\\n`;\n    }\n  },\n  [MODEL_DATA]: {\n    exportPath: 'app/Models',\n    exportExtension: 'php',\n    exportToFile(editor: EditorDataModelData, all_editor: BaseEditorData[]) {\n      return `<?php\\n\\nnamespace App\\\\Models;\\n\\nuse Illuminate\\\\Database\\\\Eloquent\\\\Model;\\n\\nclass ${editor.title} extends Model {\\n  protected $table = '${editor.title}';\\n}\\n`;\n    }\n  }\n}\n\nfunction createRoutesFile(all_editor: BaseEditorData[]): string {\n  return `<?php\\n\\nuse Illuminate\\\\Http\\\\Request;\\nuse Illuminate\\\\Support\\\\Facades\\\\Route;\\\n  \\n\\n${\n    all_editor\n    .filter((editor: BaseEditorData) => editor.item_type === PRESENTATION_API)\n    .map((editor: EditorAPIData) => {\n      const item_context_menu = exporter[PRESENTATION_API];\n      return `Route::${editor.method}('${editor.url}', function (Request $request) {\\n  $${editor.title} = include('../${item_context_menu.exportPath}/${editor.title}.php');\\n  return $${editor.title}($request);\\n});`;\n    })\n    .join('\\n')\n  }\\n`;\n}\n\nfunction createMigrationsFile(all_editor: BaseEditorData[]): { key: string, value: string }[] {\n  const date = new Date();\n  const year = date.getFullYear();\n  const month = date.getMonth();\n  const day = date.getDate();\n\n  const variableMap = {\n    any: 'text',\n    string: 'string',\n    number: 'integer',\n    boolean: 'boolean'\n  };\n\n  return all_editor\n    .filter((editor: BaseEditorData) => editor.item_type === MODEL_DATA)\n    .map((editor: EditorDataModelData) => {\n      return {\n        key: `database/migrations/${year}_${month}_${day}_000000_create_${editor.title}_table.php`,\n        value: `<?php\n\nuse Illuminate\\\\Database\\\\Migrations\\\\Migration;\nuse Illuminate\\\\Database\\\\Schema\\\\Blueprint;\nuse Illuminate\\\\Support\\\\Facades\\\\Schema;\n\nclass Create${editor.title}Table extends Migration\n{\n  /**\n   * Run the migrations.\n   *\n   * @return void\n   */\n  public function up()\n  {\n    Schema::create('${editor.title}', function (Blueprint $table) {\n${editor.attributes.map((attr: ModelVariable) => attr.name === 'id' ? '      $table->id();' : `      $table->${variableMap[attr.type.type_name]}('${attr.name}')${attr.required ? '' : '->nullable()'};`).join('\\n')}\n      $table->timestamps();\n    });\n  }\n\n  /**\n   * Reverse the migrations.\n   *\n   * @return void\n   */\n  public function down()\n  {\n    Schema::dropIfExists('${editor.title}');\n  }\n}\n`\n      }\n    });\n} \n\nexport default async function _export_backend_php(list_sheet: IDESheet[], callback: (file: Blob) => void) {\n  const jszip = new JSZip();\n  const all_editor: BaseEditorData[] = list_sheet.reduce((acc: BaseEditorData[], current: IDESheet) => {\n    return [...acc, ...current.list_editor];\n  }, []);\n\n  const _file = await (await fetch('/test3.zip')).blob();\n  const data = await JSZip.loadAsync(_file);\n  \n  for (let index in data.files) {\n    const key = data.files[index];\n    jszip.file(key.name, await key.async(\"blob\"))\n  }\n\n  for (let i = 0; i < all_editor.length; i++) {\n    const editor = all_editor[i];\n    if (!exporter[editor.item_type]) {\n      continue;\n    }\n\n    const item = exporter[editor.item_type];\n    jszip.file(`${item.exportPath}/${editor.title}.${item.exportExtension}`, item.exportToFile(editor, all_editor));\n  }\n  jszip.file('routes/api.php', createRoutesFile(all_editor));\n\n  const migrations = createMigrationsFile(all_editor);\n  for (let i = 0; i < migrations.length; i++) {\n    jszip.file(migrations[i].key, migrations[i].value);\n  }\n\n  jszip.generateAsync({ type: \"blob\" }).then(callback);\n}\n","import JSZip from \"jszip\";\nimport { EditorAPIAccessData } from \"../components/editor-api-access/EditorAPIAccess\";\nimport { APIVariableData } from \"../components/editor-api/APIVariableView\";\nimport { EditorBusinessLogicData } from \"../components/editor-business-logic/EditorBusinessLogic\";\nimport { EditorDataAccessData } from \"../components/editor-data-access/EditorDataAccess\";\nimport { EditorDataModelData } from \"../components/editor-data-model/EditorDataModel\";\nimport { EditorLambdaTypeData } from \"../components/editor-lambda-type/EditorLambdaType\";\nimport { EditorUIData } from \"../components/editor-ui/EditorUI\";\nimport { UIState } from \"../components/editor-ui/UIStateView\";\nimport { ModelVariable } from \"../components/editor-ui/VariableView\";\nimport BaseEditorData from \"../components/main/base-editor/BaseEditorData\";\nimport { API_ACCESS, BUSINESS_LOGIC, DATA_ACCESS, EXTERNAL_MODULE, LAMBDA_TYPE, MODEL_DATA, PRESENTATION_UI, PRESENTATION_UI_COMPONENTS } from \"../components/main/ComponentConstant\";\nimport { IDESheet, NO_VARIABLE_TYPE_PARENT, VariableType } from \"../components/main/Constant\";\nimport { ExportData } from \"./ExportData\";\n\nfunction getDataType(list_editor: BaseEditorData[], data_type: VariableType) {\n  if (data_type.type_parent_id === NO_VARIABLE_TYPE_PARENT) {\n    return data_type.type_name === 'function' ? '(_params: any) => {}' : data_type.type_name;\n  }\n  const editor = list_editor.find(x => x.id === data_type.type_parent_id)!;\n  if (editor.item_type === LAMBDA_TYPE) {\n    return `(${(editor as EditorLambdaTypeData).parameters.map((param: ModelVariable) => {\n      return `${param.name}: ${param.type.type_name}`\n    }).join(', ')}) => ${(editor as EditorLambdaTypeData).return_type.type_name}`\n  }\n  return data_type.type_name;\n}\n\nconst exporter: {[key: number]: ExportData } = {\n  [EXTERNAL_MODULE]: {\n    exportPath: 'external',\n    exportExtension: 'ts',\n    exportToFile(editor: BaseEditorData, all_editor: BaseEditorData[]) {\n      return `// implement your external module below\\nexport const ${editor.title} = null;`;\n    }\n  },\n  [PRESENTATION_UI]: {\n    exportPath: 'pages',\n    exportExtension: 'tsx',\n    exportToFile(editor: EditorUIData, all_editor: BaseEditorData[]) {\n      const react_import = `import * as React from 'react';`;\n      const parameters = 'props: {' + editor.list_ui_parameter.map((param: ModelVariable) => `${param.name}${param.required ? '' : '?'}: ${getDataType(all_editor, param.type)}`).join(', ') + '}';\n      const states = editor.list_ui_state.map((state: UIState) => `  const [${state.name}, set${state.name}] = React.useState<${getDataType(all_editor, state.type)}>();`).join('\\n');\n      return `${react_import}\\nimport { useRouter } from 'next/dist/client/router';\\n\\nexport default function ${editor.title}(${parameters}) {\\n  const router = useRouter();\\n\\n${states}\\n\\n  // implement here...\\n  return <div></div>\\n}`;\n    }\n  },\n  [PRESENTATION_UI_COMPONENTS]: {\n    exportPath: 'components',\n    exportExtension: 'tsx',\n    exportToFile(editor: EditorUIData, all_editor: BaseEditorData[]) {\n      const react_import = `import * as React from 'react';`;\n      const parameters = 'props: {' + editor.list_ui_parameter.map((param: ModelVariable) => `${param.name}${param.required ? '' : '?'}: ${getDataType(all_editor, param.type)}`).join(', ') + '}';\n      const states = editor.list_ui_state.map((state: UIState) => `  const [${state.name}, set${state.name}] = React.useState<${getDataType(all_editor, state.type)}>();`).join('\\n');\n      return `${react_import}\\n\\nexport function ${editor.title}(${parameters}) {\\n${states}\\n\\n  // implement here...\\n  return <div></div>\\n}`;\n    }\n  },\n  [BUSINESS_LOGIC]: {\n    exportPath: 'logic',\n    exportExtension: 'ts',\n    exportToFile(editor: EditorBusinessLogicData, all_editor: BaseEditorData[]) {\n      const parameters = 'params: {' + editor.parameters.map((param: ModelVariable) => `${param.name}${param.required ? '' : '?'}: ${getDataType(all_editor, param.type)}`).join(', ') + '}';\n      return `export async function ${editor.title}(${parameters}): Promise<${getDataType(all_editor, editor.return_type)}> {\\n  // implement here...\\n  throw new Error('function ${editor.title} is not implemented yet');\\n}`;\n    }\n  },\n  [DATA_ACCESS]: {\n    exportPath: 'access-data',\n    exportExtension: 'ts',\n    exportToFile(editor: EditorDataAccessData, all_editor: BaseEditorData[]) {\n      const parameters = 'params: {' + editor.parameters.map((param: ModelVariable) => `${param.name}${param.required ? '' : '?'}: ${getDataType(all_editor, param.type)}`).join(', ') + '}';\n      return `export async function ${editor.title}(${parameters}): Promise<${getDataType(all_editor, editor.return_type)}> {\\n  // implement here...\\n  throw new Error('function ${editor.title} is not implemented yet');\\n}`;\n    }\n  },\n  [API_ACCESS]: {\n    exportPath: 'access-api',\n    exportExtension: 'ts',\n    exportToFile(editor: EditorAPIAccessData, all_editor: BaseEditorData[]) {\n      const real_url = editor.variables\n        .filter((variable: APIVariableData) => variable.kind === 'P')\n        .reduce((acc_url: string, variable: APIVariableData) => {\n          return acc_url.replace(`:${variable.name}`, `\\$\\{params.${variable.name}\\}`);\n        }, editor.url);\n      const parameters = 'params: {' + editor.variables.map((param: APIVariableData) => `${param.name}${param.required ? '' : '?'}: ${getDataType(all_editor, param.type)}`).join(', ') + '}';\n      const non_params = editor.variables.filter((variable: APIVariableData) => variable.kind !== 'P');\n      const bodies = 'const bodies = {\\n' + non_params.map((param: APIVariableData) => `    ${param.name}: params.${param.name}`).join(',\\n') + '\\n  }';\n      return `import API, { APIResponse } from '../api';\\n\\nexport async function ${editor.title}(${parameters}): Promise<${getDataType(all_editor, editor.return_type)}> {\\n  ${bodies}\\n\\n  try {\\n    return (await API(\\`${real_url}\\`, '${editor.method}', bodies) as APIResponse<${getDataType(all_editor, editor.return_type)}>).data;\\n  } catch (err) {\\n    throw err;\\n  }\\n}`;\n    }\n  },\n  [MODEL_DATA]: {\n    exportPath: 'data-model',\n    exportExtension: 'ts',\n    exportToFile(editor: EditorDataModelData, all_editor: BaseEditorData[]) {\n      const attributes = editor.attributes.map((param: ModelVariable) => `  ${param.name}${param.required ? '' : '?'}: ${getDataType(all_editor, param.type)}`).join('\\n');\n      return `interface ${editor.title} {\\n${attributes}\\n}\\n\\nexport type { ${editor.title} }`;\n    }\n  }\n};\n\nconst nextEnvD = `/// <reference types=\"next\" />\n/// <reference types=\"next/types/global\" />\n`;\n\nconst nextConfig = `require('dotenv').config()\nconst webpack = require('webpack')\n\nmodule.exports = {\n  webpack: (config) => {\n    config.plugins.push(\n      new webpack.EnvironmentPlugin(process.env)\n    )\n    return config\n  }\n}\n`;\n\nconst api = `export const BASE_URL = process.env.MODE === 'dev' ? process.env.DEV_BACKEND : process.env.PROD_BACKEND;\n\nexport interface APIResponse<T> {\n  status: boolean\n  data: T\n}\n\nexport default function API(path, method, body = {}, header = {}, base_url?: string) {\n    return new Promise((resolve, reject) => {\n        fetch(\\`\\$\\{base_url ?? BASE_URL\\}\\$\\{path\\}\\$\\{ method == 'get' ? '?' + new URLSearchParams(body).toString() : '' \\}\\`, {\n            method,\n            headers: {\n                'Accept': 'application/json',\n                'Content-Type': 'application/json',\n                ...header\n            },\n            body: method == 'get' ? null : JSON.stringify(body)\n        })\n        .then(res => {\n            if (res.ok) {\n                resolve(res.json());\n                return false;\n            }\n            throw res.json();\n        })\n        .catch(err => {\n            if (!err || !err.then) {\n                reject('Something went wrong');\n                return;\n            }\n            err.then(({ error }) => {\n                reject(error);\n            })\n        });\n    });\n}\n`;\n\nconst gitignore = `# Logs\nlogs\n*.log\nnpm-debug.log*\n\n# Runtime data\npids\n*.pid\n*.seed\n\n# Directory for instrumented libs generated by jscoverage/JSCover\nlib-cov\n\n# Coverage directory used by tools like istanbul\ncoverage\n\n# nyc test coverage\n.nyc_output\n\n# Grunt intermediate storage (http://gruntjs.com/creating-plugins#storing-task-files)\n.grunt\n\n# node-waf configuration\n.lock-wscript\n\n# Compiled binary addons (http://nodejs.org/api/addons.html)\nbuild/Release\n\n# Dependency directories\nnode_modules\njspm_packages\n\n# Optional npm cache directory\n.npm\n\n# Optional REPL history\n.node_repl_history\n.next\n.env\n`;\n\nconst dotEnv = `GA_TRACKING_ID=\nMODE=dev\nDEV_BACKEND=\nPROD_BACKEND=\n`;\n\nconst packageJSON = `{\n  \"name\": \"sample-app\",\n  \"version\": \"1.0.0\",\n  \"description\": \"\",\n  \"main\": \"index.js\",\n  \"scripts\": {\n    \"test\": \"echo \\\\\"Error: no test specified\\\\\" && exit 1\",\n    \"dev\": \"next -p 3000\",\n    \"build\": \"next build\",\n    \"start\": \"next start\"\n  },\n  \"author\": \"\",\n  \"license\": \"ISC\",\n  \"dependencies\": {\n    \"@material-ui/core\": \"^4.9.14\",\n    \"dotenv\": \"^8.2.0\",\n    \"lodash\": \"^4.17.15\",\n    \"moment\": \"^2.25.3\",\n    \"next\": \"^9.4.0\",\n    \"react\": \"^16.13.1\",\n    \"react-dom\": \"^16.13.1\"\n  },\n  \"devDependencies\": {\n    \"@types/node\": \"^13.13.5\",\n    \"@types/react\": \"^16.9.35\",\n    \"@types/react-vertical-timeline-component\": \"^3.0.0\",\n    \"eslint-plugin-react-hooks\": \"^3.0.0\",\n    \"typescript\": \"^3.8.3\"\n  },\n  \"plugins\": [\n    \"react-hooks\"\n  ],\n  \"rules\": {\n    \"react-hooks/rules-of-hooks\": \"error\",\n    \"react-hooks/exhaustive-deps\": \"warn\"\n  }\n}\n`;\n\nconst sampleString = `export default {  \n  'title': 'Sample App',\n  'default.meta.description': '-'\n}\n`;\n\nconst sampleTheme = `import { createMuiTheme } from '@material-ui/core/styles';\n\nexport default createMuiTheme({\n  palette: {\n    primary: {\n      main: '#2103F8',\n      light: '#FFFFFF',\n      dark: '#555'\n    },\n    secondary: {\n      main: '#2103F8'\n    },\n    text: {\n      primary: '#333'\n    },\n    background: {\n      // default: '#F9F9F9'\n      default: '#fcfbf5'\n    }\n  },\n  typography: {\n    fontFamily: [\n      'Gotham',\n      '-apple-system',\n      'BlinkMacSystemFont',\n      '\"Segoe UI\"',\n      'Roboto',\n      '\"Helvetica Neue\"',\n      'Arial',\n      'sans-serif',\n      '\"Apple Color Emoji\"',\n      '\"Segoe UI Emoji\"',\n      '\"Segoe UI Symbol\"',\n    ].join(','),\n    h2: {\n      fontFamily: [\n        'Gotham',\n      ].join(','),\n      marginBottom: 0,\n      // fontWeight: 'bold',\n      lineHeight: 1.3\n    },\n    h3: {\n      fontFamily: [\n        'Gotham',\n      ].join(','),\n      fontSize: 36,\n      marginBottom: 12,\n      fontWeight: 'bold'\n    },\n    h4: {\n      fontFamily: [\n        'Gotham',\n      ].join(','),\n      fontSize: 24,\n      marginBottom: 4,\n      // fontWeight: 'bold'\n    },\n    h5: {\n      fontFamily: [\n        'Gotham',\n      ].join(','),\n      fontSize: 17,\n      marginBottom: 4,\n      fontWeight: 'bold'\n    },\n    body1: {\n      fontFamily: [\n        'Gotham',\n      ].join(','),\n      lineHeight: 1.7,\n      color: '#888',\n      fontSize: 16\n    },\n    subtitle1: {\n      fontFamily: [\n        'Gotham',\n      ].join(','),\n      color: '#0E1D4E',\n      lineHeight: 1.3,\n      fontSize: 16\n    },\n    subtitle2: {\n      fontFamily: [\n        'Gotham',\n      ].join(','),\n      color: '#3C5896',\n      lineHeight: 1.3,\n      fontSize: 32\n    },\n  },\n});\n`;\n\nconst tsConfig = `{\n  \"compilerOptions\": {\n    \"target\": \"es5\",\n    \"lib\": [\n      \"dom\",\n      \"dom.iterable\",\n      \"esnext\"\n    ],\n    \"allowJs\": true,\n    \"skipLibCheck\": true,\n    \"strict\": false,\n    \"forceConsistentCasingInFileNames\": true,\n    \"noEmit\": true,\n    \"esModuleInterop\": true,\n    \"module\": \"esnext\",\n    \"moduleResolution\": \"node\",\n    \"resolveJsonModule\": true,\n    \"isolatedModules\": true,\n    \"jsx\": \"preserve\"\n  },\n  \"exclude\": [\n    \"node_modules\"\n  ],\n  \"include\": [\n    \"next-env.d.ts\",\n    \"**/*.ts\",\n    \"**/*.tsx\", \"pages/index.tss\"\n  ]\n}\n`;\n\nconst appCSS = `html, body {\n  margin: 0 !important;\n  padding: 0 !important;\n}\n`;\n\nconst appTsx = `import React from 'react';\nimport PropTypes from 'prop-types';\nimport Head from 'next/head';\nimport { ThemeProvider } from '@material-ui/core/styles';\nimport CssBaseline from '@material-ui/core/CssBaseline';\nimport theme from '../theme';\nimport { useRouter } from 'next/router';\nimport './_app.css';\nimport useString from '../hooks/useString';\n\nexport default function MyApp(props) {\n  const { Component, pageProps } = props;\n  const router = useRouter();\n  const t = useString();\n\n  React.useEffect(() => {\n    // Remove the server-side injected CSS.\n    const jssStyles = document.querySelector('#jss-server-side');\n    if (jssStyles) {\n      jssStyles.parentElement.removeChild(jssStyles);\n    }\n  }, []);\n\n  return (\n    <React.Fragment>\n      <Head>\n        <meta name=\"viewport\" content=\"minimum-scale=1, initial-scale=1, width=device-width\" />\n        <title>{ t('title') }</title>\n        <meta name=\"title\" content={ t('title') } />\n        <meta name=\"description\" content={ t('default.meta.description') } />\n        <meta name=\"keywords\" content={ t('title') } />\n        <link rel=\"shortcut icon\" href=\"/favicon.png\" type=\"image/x-icon\"></link>\n        <link rel=\"icon\" href=\"/favicon.png\" type=\"image/x-icon\"></link>\n      </Head>\n      <ThemeProvider theme={theme}>\n        <CssBaseline />\n        <Component {...pageProps} />\n      </ThemeProvider>\n    </React.Fragment>\n  );\n}\n\nMyApp.propTypes = {\n  Component: PropTypes.elementType.isRequired,\n  pageProps: PropTypes.object.isRequired,\n};\n`;\n\nconst documentTsx = `import React from 'react';\nimport Document, { Html, Head, Main, NextScript } from 'next/document';\nimport { ServerStyleSheets } from '@material-ui/core/styles';\nimport theme from '../theme';\n\nexport default class MyDocument extends Document {\n  render() {\n    return (\n      <Html lang=\"en\">\n        <Head>\n          {/* PWA primary color */}\n          <meta name=\"theme-color\" content={theme.palette.primary.main} />\n          <link\n            rel=\"stylesheet\"\n            href=\"https://fonts.googleapis.com/css?family=Roboto:300,400,500,700&display=swap\"\n          />\n          {/* Global Site Tag (gtag.js) - Google Analytics */}\n          <script\n            async\n            src={\\`https://www.googletagmanager.com/gtag/js?id=\\$\\{process.env.GA_TRACKING_ID\\}\\`}\n          />\n          <script\n            dangerouslySetInnerHTML={{\n              __html: \\`\n            window.dataLayer = window.dataLayer || [];\n            function gtag(){dataLayer.push(arguments);}\n            gtag('js', new Date());\n            gtag('config', '\\$\\{process.env.GA_TRACKING_ID\\}', {\n              page_path: window.location.pathname,\n            });\n          \\`,\n            }}\n          />\n        </Head>\n        <body>\n          <Main />\n          <NextScript />\n        </body>\n      </Html>\n    );\n  }\n}\n\nMyDocument.getInitialProps = async (ctx) => {\n  // Resolution order\n  //\n  // On the server:\n  // 1. app.getInitialProps\n  // 2. page.getInitialProps\n  // 3. document.getInitialProps\n  // 4. app.render\n  // 5. page.render\n  // 6. document.render\n  //\n  // On the server with error:\n  // 1. document.getInitialProps\n  // 2. app.render\n  // 3. page.render\n  // 4. document.render\n  //\n  // On the client\n  // 1. app.getInitialProps\n  // 2. page.getInitialProps\n  // 3. app.render\n  // 4. page.render\n\n  // Render app and page and get the context of the page with collected side effects.\n  const sheets = new ServerStyleSheets();\n  const originalRenderPage = ctx.renderPage;\n\n  ctx.renderPage = () =>\n    originalRenderPage({\n      enhanceApp: (App) => (props) => sheets.collect(<App {...props} />),\n    });\n\n  const initialProps = await Document.getInitialProps(ctx);\n\n  return {\n    ...initialProps,\n    // Styles fragment is rendered after the app and page rendering finish.\n    styles: [...React.Children.toArray(initialProps.styles), sheets.getStyleElement()],\n  };\n};\n`;\n\nconst notfound404 = `import React from 'react';\nimport { Typography } from '@material-ui/core';\n\nexport default function NotFoundPage() {\n  return (\n    <Typography\n      component=\"div\"\n      variant=\"h5\">\n      404 - Halaman Tidak Ditemukan\n    </Typography>\n  );\n}\n`;\n\nconst useString = `import strings from '../strings'\n\nexport default function useString() {\n\n  function t(key: string) {\n    if (!strings[key]) {\n      console.warn(\\`Translation '\\$\\{key\\}' not found.\\`);\n    }\n    return strings[key] || '';\n  }\n\n  return t;\n}\n`;\n\nfunction importDependency<T extends BaseEditorData>(_list_editor: T[], editor: T): string {\n  const this_item_context_menu = exporter[editor.item_type];\n  if (!this_item_context_menu) {\n    throw new Error(`Context Menu editor: ${editor.title} tidak ditemukan`);\n  }\n\n  const folder_depth = (this_item_context_menu.exportPath.match(/\\//g) || []).length + 1;\n  \n  const list_editor_available = _list_editor.filter((editor: BaseEditorData) => exporter[editor.item_type]);\n  const list_editor_available_ids = list_editor_available.map(x => x.id);\n  const list_editor_lambda = _list_editor.filter((editor: BaseEditorData) => editor.item_type === LAMBDA_TYPE).map((editor: BaseEditorData) => editor.id);\n  console.log(list_editor_lambda);\n  \n  return `${\n    editor.dependencies\n    .filter((dep_id: number) => list_editor_available_ids.includes(dep_id)) // filter only dependency non lambda\n    .map((id_dependency: number) => {\n      const x = list_editor_available.find((ed: T) => ed.id === id_dependency)\n      if (!x) {\n        console.log('nulll: ', id_dependency);\n      }\n      return x;\n    }) // map to editor instance\n    .map((_editor: T) => {\n      const item_context_menu = exporter[_editor.item_type];\n      return `import { ${_editor.title} } from '${'../'.repeat(folder_depth)}${item_context_menu.exportPath}/${_editor.title}'`\n    }).join(\"\\n\")\n  }\\n${\n    editor.dependencies\n    .filter((dep_id: number) => list_editor_lambda.includes(dep_id)) // filter only dependency lambda\n    .map((dep_id: number) => _list_editor.find((ed: T) => ed.id === dep_id)!) // map to editor instance\n    .reduce((acc, curr) => {\n      // remove all lambda dependency\n      const dep_non_lambda = curr.dependencies.filter((ed_id: number) => !list_editor_lambda.includes(ed_id));\n      // skip if existing on accumulator reducer or this editor dependencies\n      const dep_remove_existing_on_accumulator = dep_non_lambda.filter((ed_id: number) => !acc.includes(ed_id) && !editor.dependencies.includes(ed_id));\n      // return all as breaking array\n      return [...acc, ...dep_remove_existing_on_accumulator];\n    }, [])\n    .map((id_dependency: number) => list_editor_available.find((ed: T) => ed.id === id_dependency)!) // map to editor instance\n    .map((_editor: T) => {\n      const item_context_menu = exporter[_editor.item_type];\n      return `import { ${_editor.title} } from '${'../'.repeat(folder_depth)}${item_context_menu.exportPath}/${_editor.title}'`\n    }).join(\"\\n\")\n  }`;\n}\n\nfunction createFile<T extends BaseEditorData>(editor: T, all_editor: T[]): string {\n  const item = exporter[editor.item_type];\n  return item.exportToFile(editor, all_editor);\n}\n\nexport default function _export_frontend_nextjs(list_sheet: IDESheet[], callback: (file: Blob) => void) {\n  const jszip = new JSZip();\n  const all_editor: BaseEditorData[] = list_sheet.reduce((acc: BaseEditorData[], current: IDESheet) => {\n    return [...acc, ...current.list_editor];\n  }, []);\n\n  jszip.file('.env', dotEnv);\n  jszip.file('.gitignore', gitignore);\n  jszip.file('next-env.d.ts', nextEnvD);\n  jszip.file('next.config.js', nextConfig);\n  jszip.file('strings.ts', sampleString);\n  jszip.file('theme.ts', sampleTheme);\n  jszip.file('tsconfig.json', tsConfig);\n  jszip.file('package.json', packageJSON);\n  jszip.file('api.ts', api);\n  jszip.file('pages/_app.css', appCSS);\n  jszip.file('pages/_app.tsx', appTsx);\n  jszip.file('pages/_document.tsx', documentTsx);\n  jszip.file('pages/404.tsx', notfound404);\n  jszip.file('hooks/useString.ts', useString);\n\n  for (let i = 0; i < all_editor.length; i++) {\n    const editor = all_editor[i];\n    if (!exporter[editor.item_type]) {\n      continue;\n    }\n\n    const item_context_menu = exporter[editor.item_type];\n    const dependency_lines = importDependency(all_editor, editor);\n\n    const file_content = `${dependency_lines ? `${dependency_lines}\\n\\n` : ''}${createFile(editor, all_editor)}\\n`;\n    jszip.file(`${item_context_menu.exportPath}/${editor.title}.${item_context_menu.exportExtension}`, file_content);\n  }\n  jszip.generateAsync({type:\"blob\"}).then(callback);\n}\n","import * as React from 'react';\nimport ContentEditable from 'react-contenteditable';\nimport { useThisStyles } from '../main/Constant';\n\nexport interface ItemSheet {\n  id_sheet: number\n  title: string\n  is_active: boolean\n}\n\nexport interface BottomBarProps {\n  setReadOnly(): void\n  onRequestNewSheet(): void\n  onRequestChangeSheet(id_sheet: number): void\n  onRequestRemoveSheet(id_sheet: number): void\n  onChangeSheetName(id_sheet: number, name: string): void\n  listSheet: ItemSheet[]\n  isReadOnly: boolean\n}\n\nexport default function BottomBar(props: BottomBarProps) {\n\n  const style = useThisStyles();\n  const [is_edit_mode, setEditMode] = React.useState<boolean>(false);\n\n  React.useEffect(() => {\n    const clickOutsideHandler = () => {\n      if (is_edit_mode) {\n        setEditMode(false);\n      }\n    }\n    window.addEventListener('click', clickOutsideHandler);\n    return () => {\n      window.removeEventListener('click', clickOutsideHandler);\n    }\n  })\n\n  return (\n    <div \n      className={style.bottom_bar_container}\n      onDoubleClick={e => { e.preventDefault(); e.stopPropagation(); }}>\n      <div style={{\n        display: 'flex',\n        flexDirection: 'row'\n      }}>\n        {\n          props.listSheet.map((item: ItemSheet) => (\n            <div \n              className={style.bottom_bar_item}\n              key={item.id_sheet} \n              onClick={e => {\n                e.stopPropagation();\n                props.onRequestChangeSheet(item.id_sheet);\n              }}\n              style={{\n                transform: `translateY(${item.is_active ? 1 : 6}px)`,\n              }}>\n              <ContentEditable\n                style={{\n                  outline: 'none'\n                }}\n                onClick={e => setEditMode(true)}\n                onDoubleClick={e => {\n                  e.preventDefault();\n                  e.stopPropagation();\n                }}\n                onKeyPress={e => e.key === 'Enter' && setEditMode(false)}\n                html={item.title}\n                disabled={!is_edit_mode}\n                onChange={e => props.onChangeSheetName(item.id_sheet, e.target.value)}\n              />\n              <div \n                style={{\n                  marginLeft: 8,\n                }}\n                onClick={e => {\n                  e.preventDefault();\n                  e.stopPropagation();\n                  props.onRequestRemoveSheet(item.id_sheet);\n                }}>\n                <img style={{height: 9, width: 9}} src={'close.png'} />\n              </div>\n            </div>\n          ))\n        }\n        <div\n          className={style.bottom_bar_item}\n          style={{\n            transform: `translateY(6px)`,\n          }}\n          onClick={_ => props.onRequestNewSheet()}>\n          +\n        </div>\n      </div>\n      <div style={{\n        padding: '7px 8px',\n        marginBottom: -8\n      }}>\n        <button\n          className={style.bottom_bar_item}\n          style={{ border: 'none', outline: 'none' }}\n          onDoubleClick={e => { e.preventDefault(); e.stopPropagation(); }}  \n          onClick={_ => props.setReadOnly()}>\n          { props.isReadOnly ? 'Read Only' : 'Edit Mode' }\n        </button>\n      </div>\n    </div>\n  );\n}\n","import TextareaAutosize from 'react-textarea-autosize';\nimport * as React from 'react';\nimport { useThisStyles } from '../Constant';\n\nexport interface HeaderEditorProps {\n  title: string\n  description: string\n  isReadOnly: boolean\n\n  setTitle(title: string): void\n  setDescription(description: string): void\n  onRequestDelete(): void\n}\n\nexport default function HeaderEditor(props: HeaderEditorProps) {\n  const style = useThisStyles();\n  return (\n    <div>\n      <div className={style.header_editor_title_container}>\n        <TextareaAutosize\n          spellCheck={false}\n          cols={1}\n          placeholder=\"Card / Function Name\"\n          className={style.header_editor_title}\n          disabled={props.isReadOnly}\n          value={props.title} \n          onChange={e => props.setTitle(e.target.value)} />\n        { !props.isReadOnly && <button style={{\n          border: 'none',\n          background: 'rgba(255, 255, 255, .3)',\n          outline: 'none',\n          padding: '4px 8px'\n        }} onClick={() => props.onRequestDelete()}>\n          <img style={{height: 9, width: 9}} src={'close.png'} />\n        </button> }\n      </div>\n      <div className={style.header_editor_description_container}>\n        <TextareaAutosize\n          spellCheck={false}\n          cols={1}\n          placeholder=\"Add Description\"\n          disabled={props.isReadOnly}\n          className={style.header_editor_description}\n          value={props.description} \n          onChange={e => props.setDescription(e.target.value)} />\n      </div>\n    </div>\n  );\n}","import TextareaAutosize from 'react-textarea-autosize';\nimport * as React from 'react';\nimport BaseEditorData from './BaseEditorData';\nimport { groupBy, keyOf, useThisStyles } from '../Constant';\nimport BaseEditor from './BaseEditor';\nimport { RegisterComponent } from '../RegisterComponent';\n\nexport interface DependencyListProps {\n  parentID: number\n  dependencies: number[]\n  listEditor: BaseEditorData[]\n  isReadOnly: boolean\n  onTopOffsetDependecyChange(key: string, top_offset: number): void\n  onRequestRemoveDependency(id_provider: number, id_consumer: number): void\n  onDependencyClick(editor: BaseEditorData): void\n}\n\nexport default function DependencyList(props: DependencyListProps) {\n\n  const style = useThisStyles();\n  const list_dependency_instance = props.dependencies.map((id: number) => props.listEditor.find((editor: BaseEditorData) => editor.id === id)).filter(x => !!x);\n  const group_dependency: {[key: number]: BaseEditorData[]} = groupBy(list_dependency_instance, 'item_type');\n  const group_dependency_ordered: {[key: number]: BaseEditorData} = {};\n  Object.keys(group_dependency).sort().forEach(function(key) {\n    group_dependency_ordered[key] = group_dependency[key];\n  });\n\n  return (\n    <div className={style.dependency_list_container}>\n      {\n        Object.keys(group_dependency_ordered).map(key => (\n          <div key={key} className={style.dependency_list_main_item}>\n            <div className={style.dependency_list_main_item_title}>\n              {\n                RegisterComponent.find(x => x.id === parseInt(key))?.label ?? \"-\"\n              }\n            </div>\n            <div className={style.dependency_list_main_item_list}>\n              {\n                group_dependency_ordered[key].map((editor: BaseEditorData) => (\n                  <div \n                    ref={el => {\n                      if (el) {\n                        props.onTopOffsetDependecyChange(keyOf(props.parentID, editor.id), el!.offsetTop + (el!.offsetHeight / 2));\n                      }\n                    }}\n                    className={style.dependency_list_main_item_list_item}\n                    onClick={_ => props.onDependencyClick(editor)}\n                    key={editor.id}>\n                    <div style={{\n                      flexGrow: 1,\n                      wordBreak: 'break-all',\n                      padding: '3px 10px'\n                    }}>\n                      { editor.title ? editor.title : '<unnamed>' }\n                    </div>\n                    { !props.isReadOnly && <div \n                      style={{\n                        display: 'flex',\n                        position: 'relative',\n                        top: 0,\n                        alignItems: 'center',\n                        margin: '0px 8px',\n                        borderTopRightRadius: 999,\n                        borderBottomRightRadius: 999\n                      }} \n                      onClick={e => {\n                        e.stopPropagation();\n                        props.onRequestRemoveDependency(editor.id, props.parentID);\n                      }}>\n                      <img style={{height: 7, width: 7}} src={'close.png'} />\n                    </div> }\n                  </div>\n                ))\n              }\n            </div>\n          </div>\n        ))\n      }\n    </div>\n  );\n}","import * as React from 'react';\nimport BaseEditorData from './BaseEditorData';\nimport Draggable, { DraggableEvent, DraggableData, DraggableEventHandler } from 'react-draggable';\nimport HeaderEditor from './HeaderEditor';\nimport DependencyList from './DependencyList';\nimport { RegisterComponent } from '../RegisterComponent';\nimport { ContextMenuItem } from '../context-menu/ContextMenu';\nimport { useThisStyles } from '../Constant';\n\nexport interface BaseEditorProps<T extends BaseEditorData> {\n  data: T\n  isFocus: boolean\n  isConsumerFocus: boolean\n  disabled: boolean\n  listEditor: BaseEditorData[]\n  isReduceOpacity: boolean\n  isCanvasMoving: boolean\n  scale: number\n  innerWindowWidth: number\n  innerWindowHeight: number\n  children: JSX.Element | JSX.Element[]\n  isReadOnly: boolean\n  onRequestDelete(): void\n  onValueChange(kvs: {[key: string]: any}): void\n  onMouseDown(): void\n  onMouseUp(): void\n  onTopOffsetDependecyChange(key: string, top_offset: number): void\n  onRequestRemoveDependency(id_provider: number, id_consumer: number): void\n  onDependencyClick(editor: BaseEditorData): void\n}\n\nlet on_drag = false;\n\nexport default function BaseEditor(props: BaseEditorProps<BaseEditorData>) {\n\n  const style = useThisStyles();\n  const [main_editor_ref] = [React.useRef(null)];\n\n  function handleMouseDown(e: MouseEvent) {\n    props.onMouseDown();\n  }\n\n  function handleStart(e: DraggableEvent, position: DraggableData): any {\n    if (props.isReadOnly) {\n      e.preventDefault();\n      return false;\n    }\n    // no need to handle this event\n    on_drag = true;\n  }\n\n  function handleDrag(e: DraggableEvent, position: DraggableData): any {\n    if (props.isReadOnly || props.disabled) {\n      return false;\n    }\n    props.onValueChange({\n      x: position.x, \n      y: position.y\n    });\n  }\n\n  function handleStop(e: DraggableEvent, position: DraggableData): any {\n    if (props.isReadOnly) {\n      e.preventDefault();\n      return false;\n    }\n    // no need to handle this event\n    on_drag = false;\n  }\n\n  React.useEffect(() => {\n    const w = (main_editor_ref.current as any)?.getBoundingClientRect().width;\n    const h = (main_editor_ref.current as any)?.getBoundingClientRect().height;\n    props.onValueChange({ w, h });\n  }, [\n    (main_editor_ref.current as any)?.getBoundingClientRect().height\n  ]);\n\n  React.useEffect(() => {\n    const w = (main_editor_ref.current as any)?.getBoundingClientRect().width;\n    const h = (main_editor_ref.current as any)?.getBoundingClientRect().height;\n    props.onValueChange({ w, h });\n  }, []);\n\n  const context_menu_item = RegisterComponent.find((cm: ContextMenuItem) => cm.id === props.data.item_type);\n\n  return (\n    <Draggable\n      position={{\n        x: props.data.x, \n        y: props.data.y\n      }}\n      disabled={props.disabled || props.isReadOnly}\n      onMouseDown={handleMouseDown}\n      onStart={handleStart}\n      onDrag={handleDrag}\n      onStop={handleStop}>\n      <div style={{\n        position: 'absolute', \n        transition: on_drag || props.isCanvasMoving ? '' : 'transform 250ms',\n        width: props.data.w,\n        height: props.data.h,\n        zIndex: props.data.z_index,\n        opacity: props.isReduceOpacity || props.isConsumerFocus ? 1 : .4,\n      }}>\n        <div \n          onDoubleClick={e => { e.preventDefault(); e.stopPropagation(); }} \n          ref={main_editor_ref}\n          className={style.card_container}\n          style={{\n            background: context_menu_item.point_color,\n            color: 'white',\n            transition: on_drag || props.isCanvasMoving ? '' : 'transform 250ms',\n            transform: `scale(${props.data.scale})`,\n            boxShadow: props.isFocus ? '0px 3px 20px rgba(0, 0, 0, .35)' : '', \n            borderColor: props.isFocus ? 'white' : context_menu_item.point_color,\n          }}>\n            <HeaderEditor\n              isReadOnly={props.isReadOnly}\n              title={props.data.title}\n              description={props.data.description}\n              setTitle={(title: string) => props.onValueChange({ title })}\n              setDescription={(description: string) => props.onValueChange({ description })}\n              onRequestDelete={() => props.onRequestDelete()} />\n            <DependencyList\n              isReadOnly={props.isReadOnly}\n              parentID={props.data.id}\n              dependencies={props.data.dependencies}\n              listEditor={props.listEditor}\n              onTopOffsetDependecyChange={props.onTopOffsetDependecyChange}\n              onRequestRemoveDependency={props.onRequestRemoveDependency}\n              onDependencyClick={props.onDependencyClick} />\n            { props.children }\n            <div style={{\n              fontSize: 8,\n              padding: '6px 12px',\n              display: 'flex',\n              flexDirection: 'row',\n              alignItems: 'center'\n            }}>\n              {/* <div style={{\n                background: '#151515',\n                width: '100%',\n                height: 100,\n                borderRadius: 8,\n                boxShadow: 'inset 0px -1px 5px 2px rgba(0, 0, 0, .3)'\n              }}></div> */}\n              {/* <div style={{\n                width: 8,\n                height: 8,\n                borderRadius: 8,\n                marginTop: -2,\n                background: context_menu_item?.point_color ?? '#999',\n                marginRight: 8\n              }} />\n              <div style={{\n                color: context_menu_item?.point_color ?? '#999',\n              }}>\n                { context_menu_item?.label ?? \"-\" }\n              </div> */}\n            </div>\n            {/* <div style={{ whiteSpace: 'pre-wrap', fontSize: 8, background: '#EEE' }}>\n              { JSON.stringify(props.data, null, 2) }\n            </div> */}\n        </div>\n      </div>\n    </Draggable>\n  );\n}\n\nexport function baseMemoFunction<T extends BaseEditorData>(prevProps: Readonly<BaseEditorProps<T>>, nextProps: Readonly<BaseEditorProps<T>>): boolean {\n  // console.log(JSON.stringify(prevProps.data, null, 2), JSON.stringify(nextProps.data, null, 2));\n  if (\n    prevProps.data.title === nextProps.data.title\n    && prevProps.data.description === nextProps.data.description\n    && prevProps.data.z_index === nextProps.data.z_index\n    && prevProps.data.scale === nextProps.data.scale\n    && prevProps.data.x === nextProps.data.x\n    && prevProps.data.y === nextProps.data.y\n    && prevProps.data.h === nextProps.data.h\n    && prevProps.data.w === nextProps.data.w\n    && prevProps.data.dependencies.length === nextProps.data.dependencies.length\n    && prevProps.isFocus === nextProps.isFocus\n    && prevProps.disabled === nextProps.disabled\n    && prevProps.isReduceOpacity === nextProps.isReduceOpacity\n    && prevProps.listEditor.length === nextProps.listEditor.length\n    && prevProps.isCanvasMoving === nextProps.isCanvasMoving\n    && prevProps.isReadOnly === nextProps.isReadOnly\n    && prevProps.isConsumerFocus === nextProps.isConsumerFocus\n    && prevProps.scale === nextProps.scale // <-- hack for scale change\n  ) {\n    return true;\n  }\n  return false;\n};\n","import * as React from 'react';\nimport BaseEditorData from '../main/base-editor/BaseEditorData';\nimport { getBuiltinTypeColor, getNextType, getPrevType, useThisStyles, VariableType } from '../main/Constant';\n\nexport interface APIVariableData {\n  id: number\n  kind: string\n  name: string\n  type: VariableType\n  required: boolean\n}\n\nexport interface APIVariableProps {\n  isReadOnly: boolean\n  data: APIVariableData\n  listEditor: BaseEditorData[]\n  dependencies: number[]\n  setName: Function\n  setType: Function\n  setRequired: Function\n  onRemove: Function\n}\n\nexport default function APIVariable(props: APIVariableProps) {\n  const style = useThisStyles();\n  return (\n    <div \n      onDoubleClick={e => { e.preventDefault(); e.stopPropagation(); }} \n      style={{ margin: '4px 12px', display: 'flex', flexDirection: 'row', background: 'rgba(255, 255, 255, .2)', color: 'white', alignItems: 'center', borderRadius: 4, overflow: 'hidden' }}>\n      <div style={{ padding: '0px 4px', outline: 'none', color: 'white', marginLeft: 1 }}>\n        { props.data.kind }\n      </div>\n      <input \n        className={style.general_input}\n        style={{ flexGrow: 1, width: '100%', outline: 'none' }} \n        placeholder=\"name\" \n        type=\"text\" \n        disabled={props.isReadOnly}\n        value={props.data.name}\n        onChange={((e: React.ChangeEvent<HTMLInputElement>) => {\n          props.setName!(e.target.value);\n        })}\n        />\n      <div \n        style={{ \n          padding: '4px 4px', \n          outline: 'none',\n          background: 'rgba(255, 255, 255, .7)',\n          color: getBuiltinTypeColor(props.data.type)\n        }}\n        tabIndex={0}\n        onKeyDown={undefined}\n        role=\"menuitem\"\n        onClick={(e: React.MouseEvent<HTMLDivElement, MouseEvent>) => {\n          if (props.isReadOnly) {\n            return;\n          }\n          props.setType!(\n            e.shiftKey\n            ? getPrevType(props.data.type, props.listEditor ?? [], props.dependencies ?? [])\n            : getNextType(props.data.type, props.listEditor ?? [], props.dependencies ?? [])\n          );\n        }}>\n        { props.data.type.type_name }\n      </div>\n      <div \n        tabIndex={0}\n        onKeyDown={undefined}\n        role=\"menuitem\"\n        onClick={(e: React.MouseEvent<HTMLDivElement, MouseEvent>) => {\n          if (props.isReadOnly) {\n            return;\n          }\n          props.setRequired!(!props.data.required);\n        }}\n        style={{ padding: '4px 4px', background: props.data.required ? '#333' : '#BBB', outline: 'none' }}>\n        { props.data.required ? '!' : '?' }\n      </div>\n      { !props.isReadOnly && <div \n        style={{ padding: '4px 4px', background: 'rgba(255, 255, 255, .2)', color: 'white', outline: 'none' }}\n        tabIndex={0}\n        onKeyDown={undefined}\n        role=\"menuitem\"\n        onClick={(e: React.MouseEvent<HTMLDivElement, MouseEvent>) => {\n          props.onRemove!();\n        }}>\n        X\n      </div> }\n    </div>\n  );\n}","import * as React from 'react';\nimport BaseEditorData from '../main/base-editor/BaseEditorData';\nimport BaseEditor, { BaseEditorProps, baseMemoFunction } from './../main/base-editor/BaseEditor';\nimport TextareaAutosize from 'react-textarea-autosize';\nimport APIVariable, { APIVariableData } from './APIVariableView';\nimport { getBuiltinTypeColor, getNextType, getPrevType, NO_VARIABLE_TYPE_PARENT, VariableType } from '../main/Constant';\n\nexport interface EditorAPIData extends BaseEditorData {\n  method: string\n  url: string\n  variables: APIVariableData[]\n  return_type: VariableType\n}\n\nexport interface EditorAPIProps extends BaseEditorProps<EditorAPIData> {\n}\n\nfunction EditorAPI(props: EditorAPIProps) {\n  return (\n    <BaseEditor {...props}>\n      <div style={{ padding: '4px 12px', paddingTop: 10, fontSize: 10 }}>\n        <select \n          style={{ \n            width: '100%', \n            background: 'rgba(255, 255, 255, .36)', \n            borderRadius: 4,\n            border: 'none',\n            outline: 'none',\n            color: 'white',\n            padding: '2px 4px'\n          }}\n          value={props.data.method}\n          disabled={props.isReadOnly}\n          onChange={(e: React.ChangeEvent<HTMLSelectElement>) => { \n            const { value } = e.target;\n            props.onValueChange({\n              method: value\n            });\n          }}>\n          <option value=\"get\">GET</option>\n          <option value=\"post\">POST</option>\n          <option value=\"put\">PUT</option>\n          <option value=\"delete\">DELETE</option>\n        </select>\n      </div>\n      <div style={{ padding: '0px 12px' }}>\n          <TextareaAutosize \n              cols={2}\n              placeholder=\"endpoint\"\n              value={props.data.url}\n              disabled={props.isReadOnly}\n              style={{ \n                  outline: 'none',\n                  border: 'none',\n                  borderRadius: 4,\n                  padding: '8px 12px',\n                  fontFamily: 'inherit', \n                  boxSizing: 'border-box',\n                  fontSize: 10, \n                  width: '100%', \n                  color: 'white', \n                  background: '#1e1e1e' \n              }}\n              onChange={(e: React.ChangeEvent<HTMLTextAreaElement>) => { \n                  const { value } = e.target;\n                  // setUrl(value);\n                  props.onValueChange({\n                    url: value\n                  });\n              }}\n              />\n      </div>\n      <div>\n        {\n          props.data.variables.map((variable: APIVariableData) => (\n            <APIVariable \n              isReadOnly={props.isReadOnly}\n              key={variable.id} \n              data={variable}\n              listEditor={props.listEditor ?? []}\n              dependencies={props.data.dependencies}\n              setName={(name: string) => {\n                props.onValueChange({\n                  variables: props.data.variables.map(_var => {\n                    if (_var.id === variable.id) {\n                      return { ...variable, name }\n                    }\n                    return _var;\n                  })\n                });\n              }}\n              setType={(type: string) => {\n                props.onValueChange({\n                  variables: props.data.variables.map(_var => {\n                    if (_var.id === variable.id) {\n                      return { ...variable, type }\n                    }\n                    return _var;\n                  })\n                });\n              }}\n              setRequired={(required: boolean) => {\n                props.onValueChange({\n                  variables: props.data.variables.map(_var => {\n                    if (_var.id === variable.id) {\n                      return { ...variable, required }\n                    }\n                    return _var;\n                  })\n                });\n              }}\n              onRemove={() => {\n                props.onValueChange({\n                  variables: [...props.data.variables.filter(_v => _v.id !== variable.id)]\n                });\n              }}\n            />\n          ))\n        }\n      </div>\n      { !props.isReadOnly && <div style={{ display: 'flex', flexDirection: 'row', justifyContent: '', margin: '4px 12px', borderRadius: 4, background: 'rgba(255, 255, 255, .4)' }}>\n        <div \n          style={{ width: '25%', boxSizing: 'border-box', padding: 3, textAlign: 'center', outline: 'none' }}\n          tabIndex={0}\n          onKeyDown={undefined}\n          role=\"menuitem\"\n          onClick={(e: React.MouseEvent<HTMLDivElement, MouseEvent>) => {\n            props.onValueChange({\n              variables: [...props.data.variables, {\n                id: new Date().getTime(),\n                kind: 'H',\n                name: '',\n                type: {\n                  type_name: 'any',\n                  type_parent_id: NO_VARIABLE_TYPE_PARENT\n                },\n                required: true\n              }]\n            });\n          }}>\n          +Header\n        </div>\n        <div \n          style={{ width: '25%', boxSizing: 'border-box', padding: 3, textAlign: 'center', outline: 'none', borderRight: 'solid 1px rgba(255, 255, 255, .4)', borderLeft: 'solid 1px rgba(255, 255, 255, .4)' }}\n          tabIndex={0}\n          onKeyDown={undefined}\n          role=\"menuitem\"\n          onClick={(e: React.MouseEvent<HTMLDivElement, MouseEvent>) => {\n            props.onValueChange({\n              variables: [...props.data.variables, {                        \n                id: new Date().getTime(),\n                kind: 'Q',\n                name: '',\n                type: {\n                  type_name: 'any',\n                  type_parent_id: NO_VARIABLE_TYPE_PARENT\n                },\n                required: true\n              }]\n            });\n          }}>\n          +Query\n        </div>\n        <div \n          style={{ width: '25%', boxSizing: 'border-box', padding: 3, textAlign: 'center', outline: 'none', borderRight: 'solid 1px rgba(255, 255, 255, .4)' }}\n          tabIndex={0}\n          onKeyDown={undefined}\n          role=\"menuitem\"\n          onClick={(e: React.MouseEvent<HTMLDivElement, MouseEvent>) => {\n            props.onValueChange({\n              variables: [...props.data.variables, {                        \n                id: new Date().getTime(),\n                kind: 'B',\n                name: '',\n                type: {\n                  type_name: 'any',\n                  type_parent_id: NO_VARIABLE_TYPE_PARENT\n                },\n                required: true\n              }]\n            });\n          }}>\n          +Body\n        </div>\n        <div \n          style={{ width: '25%', boxSizing: 'border-box', padding: 3, textAlign: 'center', outline: 'none' }}\n          tabIndex={0}\n          onKeyDown={undefined}\n          role=\"menuitem\"\n          onClick={(e: React.MouseEvent<HTMLDivElement, MouseEvent>) => {\n            props.onValueChange({\n              variables: [...props.data.variables, {\n                id: new Date().getTime(),\n                kind: 'P',\n                name: '',\n                type: {\n                  type_name: 'any',\n                  type_parent_id: NO_VARIABLE_TYPE_PARENT\n                },\n                required: true\n              }]\n            });\n          }}>\n          +Param\n        </div>\n      </div> }\n      <div style={{ display: 'flex', flexDirection: 'row', alignItems: 'center', margin: '0px 12px', marginTop: 8 }}>\n        <div style={{ marginRight: 4 }}>\n          return\n        </div>\n        <div \n          onDoubleClick={e => { e.preventDefault(); e.stopPropagation(); }} \n          style={{ \n            outline: 'none', \n            boxSizing: 'border-box', \n            background: 'white',\n            fontWeight: 'bold', \n            textAlign: 'center', \n            flexGrow: 1, \n            padding: '4px 12px', \n            borderRadius: 4,\n            color: getBuiltinTypeColor(props.data.return_type)\n          }}\n          tabIndex={0}\n          onKeyDown={undefined}\n          role=\"menuitem\"\n          onClick={(e: React.MouseEvent<HTMLDivElement, MouseEvent>) => {\n            if (props.isReadOnly) {\n              return;\n            }\n            props.onValueChange({\n              return_type: (\n                e.shiftKey\n                ? getPrevType(props.data.return_type, props.listEditor, props.data.dependencies)\n                : getNextType(props.data.return_type, props.listEditor, props.data.dependencies)\n              )\n            });\n          }}>\n          { props.data.return_type.type_name }\n        </div>\n      </div>\n    </BaseEditor>\n  );\n}\n\nexport default React.memo(\n  EditorAPI, \n  function (prevProps: Readonly<EditorAPIProps>, nextProps: Readonly<EditorAPIProps>): boolean {\n      let result = baseMemoFunction<EditorAPIData>(prevProps, nextProps);\n      if (prevProps.data.method !== nextProps.data.method) {\n          return false;\n      }\n      if (prevProps.data.url !== nextProps.data.url) {\n          return false;\n      }\n      if (prevProps.data.return_type !== nextProps.data.return_type) {\n          return false;\n      }\n      if (prevProps.data.variables.length !== nextProps.data.variables.length) {\n          return false;\n      }\n      for (let i = 0; i < prevProps.data.variables.length; i += 1) {\n          const pv = prevProps.data.variables[i];\n          const nv = nextProps.data.variables[i];\n          if (pv.name !== nv.name) {\n              return false;\n          }\n          if (pv.type !== nv.type) {\n              return false;\n          }\n          if (pv.required !== nv.required) {\n              return false;\n          }\n      }\n\n      return result;\n  }\n);\n","import * as React from 'react';\nimport BaseEditorData from '../main/base-editor/BaseEditorData';\nimport { getBuiltinTypeColor, getNextType, getPrevType, useThisStyles, VariableType } from '../main/Constant';\n\nexport interface ModelVariable {\n    id: number\n    name: string\n    type: VariableType\n    required: boolean\n\n    isReadOnly: boolean\n    parentID?: number\n    listEditor: BaseEditorData[]\n    dependencies?: number[]\n    setName?: Function\n    setType?(type: VariableType): void\n    setRequired?: Function\n    onRemove?: Function\n}\n\nexport function Variable(props: ModelVariable) {\n    const style = useThisStyles();\n\n    return (\n        <div\n            onDoubleClick={e => { e.preventDefault(); e.stopPropagation(); }} \n            style={{ margin: '4px 12px', display: 'flex', flexDirection: 'row', color: 'white', alignItems: 'center', borderRadius: 4, overflow: 'hidden' }}>\n            <input \n                className={style.general_input}\n                type=\"text\" \n                disabled={props.isReadOnly}\n                value={props.name}\n                onChange={((e: React.ChangeEvent<HTMLInputElement>) => {\n                    props.setName!(e.target.value);\n                })}\n                />\n            <div \n                style={{ \n                    padding: '4px 4px', \n                    outline: 'none', \n                    background: 'rgba(255, 255, 255, .7)',\n                    color: getBuiltinTypeColor(props.type)\n                }}\n                tabIndex={0}\n                onKeyDown={undefined}\n                role=\"menuitem\"\n                onClick={(e: React.MouseEvent<HTMLDivElement, MouseEvent>) => {\n                    if (props.isReadOnly) {\n                        return;\n                    }\n                    props.setType!(\n                        e.shiftKey\n                        ? getPrevType(props.type, props.listEditor, [...props.dependencies ?? [], props.parentID!])\n                        : getNextType(props.type, props.listEditor, [...props.dependencies ?? [], props.parentID!])\n                    );\n                }}>\n                { props.type.type_name }\n            </div>\n            <div \n                tabIndex={0}\n                onKeyDown={undefined}\n                role=\"menuitem\"\n                onClick={(e: React.MouseEvent<HTMLDivElement, MouseEvent>) => {\n                    if (props.isReadOnly) {\n                        return;\n                    }\n                    props.setRequired!(!props.required);\n                }}\n                style={{ padding: '4px 4px', background: props.required ? '#333' : '#BBB', outline: 'none' }}>\n                { props.required ? '!' : '?' }\n            </div>\n            { !props.isReadOnly && <div \n                style={{ padding: '4px 4px', background: 'rgba(255, 255, 255, .2)', color: 'white', outline: 'none' }}\n                tabIndex={0}\n                onKeyDown={undefined}\n                role=\"menuitem\"\n                onClick={(e: React.MouseEvent<HTMLDivElement, MouseEvent>) => {\n                    props.onRemove!();\n                }}>\n                X\n            </div> }\n        </div>\n    );\n}\n","import * as React from 'react';\nimport { ModelVariable, Variable } from '../editor-ui/VariableView';\nimport BaseEditorData from '../main/base-editor/BaseEditorData';\nimport { getBuiltinTypeColor, getNextType, getPrevType, NO_VARIABLE_TYPE_PARENT, VariableType } from '../main/Constant';\nimport BaseEditor, { BaseEditorProps, baseMemoFunction } from './../main/base-editor/BaseEditor';\n\nexport interface EditorBusinessLogicData extends BaseEditorData {\n  parameters: ModelVariable[]\n  return_type: VariableType\n}\n\nexport interface EditorBusinessLogicProps extends BaseEditorProps<EditorBusinessLogicData> {}\n\nfunction EditorBusinessLogic(props: EditorBusinessLogicProps) {\n  return (\n    <BaseEditor {...props}>\n      <div>\n      {\n        props.data.parameters.map((x: ModelVariable) => (\n          <Variable\n            {...x} \n            key={x.id} \n            isReadOnly={props.isReadOnly}\n            listEditor={props.listEditor ?? []}\n            dependencies={props.data.dependencies}\n            setName={(name: string) => {\n              props.onValueChange({\n                parameters: props.data.parameters.map(_var => {\n                  if (_var.id === x.id) {\n                    return { ...x, name }\n                  }\n                  return _var;\n                })\n              });\n            }}\n            setType={(type: VariableType) => {\n              props.onValueChange({\n                parameters: props.data.parameters.map(_var => {\n                  if (_var.id === x.id) {\n                    return { ...x, type }\n                  }\n                  return _var;\n                })\n              });\n            }}\n            setRequired={(required: boolean) => {\n              props.onValueChange({\n                parameters: props.data.parameters.map(_var => {\n                  if (_var.id === x.id) {\n                    return { ...x, required }\n                  }\n                  return _var;\n                })\n              });\n            }}\n            onRemove={() => {\n              props.onValueChange({\n                parameters: [...props.data.parameters.filter(_v => _v.id !== x.id)]\n              });\n            }}\n          />\n        ))\n      }\n    </div>\n    { !props.isReadOnly && <div style={{ display: 'flex', flexDirection: 'row', justifyContent: '', margin: '4px 12px', border: 'solid 1px rgba(255, 255, 255, .1)', borderRadius: 4, background: 'rgba(255, 255, 255, .6)', color: '#333' }}>\n      <div \n        style={{ width: '100%', boxSizing: 'border-box', padding: 3, textAlign: 'center', outline: 'none' }}\n        tabIndex={0}\n        onKeyDown={undefined}\n        role=\"menuitem\"\n        onClick={(e: React.MouseEvent<HTMLDivElement, MouseEvent>) => {\n          props.onValueChange({\n            parameters: [...props.data.parameters, {\n              id: new Date().getTime(),\n              name: '',\n              type: {\n                type_name: 'any',\n                type_parent_id: NO_VARIABLE_TYPE_PARENT\n              },\n              required: true\n            }]\n          });\n        }}>\n        + Parameter\n      </div>\n      </div> }\n    <div style={{ display: 'flex', flexDirection: 'row', alignItems: 'center', margin: '0px 12px', marginTop: 8 }}>\n      <div style={{ marginRight: 4 }}>\n        return\n      </div>\n      <div \n        onDoubleClick={e => { e.preventDefault(); e.stopPropagation(); }} \n        style={{ \n          outline: 'none', \n          boxSizing: 'border-box', \n          fontWeight: 'bold', \n          textAlign: 'center', \n          flexGrow: 1, \n          padding: '4px 12px', \n          background: 'white',\n          borderRadius: 4,\n          color: getBuiltinTypeColor(props.data.return_type)\n        }}\n        tabIndex={0}\n        onKeyDown={undefined}\n        role=\"menuitem\"\n        onClick={(e: React.MouseEvent<HTMLDivElement, MouseEvent>) => {\n          if (props.isReadOnly) {\n            return;\n          }\n          props.onValueChange({\n            return_type: (\n              e.shiftKey\n              ? getPrevType(props.data.return_type, props.listEditor, props.data.dependencies)\n              : getNextType(props.data.return_type, props.listEditor, props.data.dependencies)\n            )\n          });\n        }}>\n        { props.data.return_type.type_name }\n      </div>\n    </div>\n    </BaseEditor>\n  );\n}\n\nexport default React.memo(\n  EditorBusinessLogic, \n  function (prevProps: Readonly<EditorBusinessLogicProps>, nextProps: Readonly<EditorBusinessLogicProps>): boolean {\n      let result = baseMemoFunction<EditorBusinessLogicData>(prevProps, nextProps);\n      if (prevProps.data.return_type !== nextProps.data.return_type) {\n          return false;\n      }\n      if (prevProps.data.parameters.length !== nextProps.data.parameters.length) {\n          return false;\n      }\n      for (let i = 0; i < prevProps.data.parameters.length; i += 1) {\n          const pv = prevProps.data.parameters[i];\n          const nv = nextProps.data.parameters[i];\n          if (pv.name !== nv.name) {\n              return false;\n          }\n          if (pv.type !== nv.type) {\n              return false;\n          }\n          if (pv.required !== nv.required) {\n              return false;\n          }\n      }\n\n      return result;\n  }\n);\n","import * as React from 'react';\nimport { ModelVariable, Variable } from '../editor-ui/VariableView';\nimport BaseEditorData from '../main/base-editor/BaseEditorData';\nimport { getBuiltinTypeColor, getNextType, getPrevType, NO_VARIABLE_TYPE_PARENT, VariableType } from '../main/Constant';\nimport BaseEditor, { BaseEditorProps, baseMemoFunction } from './../main/base-editor/BaseEditor';\n\nexport interface EditorDataAccessData extends BaseEditorData {\n  parameters: ModelVariable[]\n  return_type: VariableType\n}\n\nexport interface EditorDataAccessProps extends BaseEditorProps<EditorDataAccessData> {}\n\nfunction EditorDataAccess(props: EditorDataAccessProps) {\n  return (\n    <BaseEditor {...props}>\n      <div>\n      {\n        props.data.parameters.map((x: ModelVariable) => (\n          <Variable\n            {...x} \n            key={x.id} \n            isReadOnly={props.isReadOnly}\n            listEditor={props.listEditor ?? []}\n            dependencies={props.data.dependencies}\n            setName={(name: string) => {\n              props.onValueChange({\n                parameters: props.data.parameters.map(_var => {\n                  if (_var.id === x.id) {\n                    return { ...x, name }\n                  }\n                  return _var;\n                })\n              });\n            }}\n            setType={(type: VariableType) => {\n              props.onValueChange({\n                parameters: props.data.parameters.map(_var => {\n                  if (_var.id === x.id) {\n                    return { ...x, type }\n                  }\n                  return _var;\n                })\n              });\n            }}\n            setRequired={(required: boolean) => {\n              props.onValueChange({\n                parameters: props.data.parameters.map(_var => {\n                  if (_var.id === x.id) {\n                    return { ...x, required }\n                  }\n                  return _var;\n                })\n              });\n            }}\n            onRemove={() => {\n              props.onValueChange({\n                parameters: [...props.data.parameters.filter(_v => _v.id !== x.id)]\n              });\n            }}\n          />\n        ))\n      }\n    </div>\n    { !props.isReadOnly && <div style={{ display: 'flex', flexDirection: 'row', justifyContent: '', margin: '4px 12px', border: 'solid 1px rgba(255, 255, 255, .1)', borderRadius: 4, background: 'rgba(255, 255, 255, .6)', color: '#333' }}>\n      <div \n        style={{ width: '100%', boxSizing: 'border-box', padding: 3, textAlign: 'center', outline: 'none' }}\n        tabIndex={0}\n        onKeyDown={undefined}\n        role=\"menuitem\"\n        onClick={(e: React.MouseEvent<HTMLDivElement, MouseEvent>) => {\n          props.onValueChange({\n            parameters: [...props.data.parameters, {                        \n              id: new Date().getTime(),\n              name: '',\n              type: {\n                type_name: 'any',\n                type_parent_id: NO_VARIABLE_TYPE_PARENT\n              },\n              required: true\n            }]\n          });\n        }}>\n        + Parameter\n      </div>\n    </div> }\n    <div style={{ display: 'flex', flexDirection: 'row', alignItems: 'center', margin: '0px 12px', marginTop: 8 }}>\n      <div style={{ marginRight: 4 }}>\n        return\n      </div>\n      <div \n        onDoubleClick={e => { e.preventDefault(); e.stopPropagation(); }} \n        style={{ \n          outline: 'none', \n          boxSizing: 'border-box', \n          fontWeight: 'bold', \n          textAlign: 'center', \n          flexGrow: 1, \n          padding: '4px 12px', \n          background: 'white',\n          borderRadius: 4,\n          color: getBuiltinTypeColor(props.data.return_type)\n        }}\n        tabIndex={0}\n        onKeyDown={undefined}\n        role=\"menuitem\"\n        onClick={(e: React.MouseEvent<HTMLDivElement, MouseEvent>) => {\n          if (props.isReadOnly) {\n            return;\n          }\n          props.onValueChange({\n            return_type: (\n              e.shiftKey\n              ? getPrevType(props.data.return_type, props.listEditor, props.data.dependencies)\n              : getNextType(props.data.return_type, props.listEditor, props.data.dependencies)\n            )\n          });\n        }}>\n        { props.data.return_type.type_name }\n      </div>\n    </div>\n    </BaseEditor>\n  );\n}\n\nexport default React.memo(\n  EditorDataAccess, \n  function (prevProps: Readonly<EditorDataAccessProps>, nextProps: Readonly<EditorDataAccessProps>): boolean {\n    let result = baseMemoFunction<EditorDataAccessData>(prevProps, nextProps);\n    if (prevProps.data.return_type !== nextProps.data.return_type) {\n      return false;\n    }\n    if (prevProps.data.parameters.length !== nextProps.data.parameters.length) {\n      return false;\n    }\n    for (let i = 0; i < prevProps.data.parameters.length; i += 1) {\n      const pv = prevProps.data.parameters[i];\n      const nv = nextProps.data.parameters[i];\n      if (pv.name !== nv.name) {\n        return false;\n      }\n      if (pv.type !== nv.type) {\n        return false;\n      }\n      if (pv.required !== nv.required) {\n        return false;\n      }\n    }\n\n    return result;\n  }\n);\n","import * as React from 'react';\nimport { ModelVariable, Variable } from '../editor-ui/VariableView';\nimport BaseEditorData from '../main/base-editor/BaseEditorData';\nimport { NO_VARIABLE_TYPE_PARENT, VariableType } from '../main/Constant';\nimport BaseEditor, { BaseEditorProps, baseMemoFunction } from './../main/base-editor/BaseEditor';\n\nexport interface EditorDataModelData extends BaseEditorData {\n  attributes: ModelVariable[]\n}\n\nexport interface EditorDataModelProps extends BaseEditorProps<EditorDataModelData> {}\n\nfunction EditorDataModel(props: EditorDataModelProps) {\n  return (\n    <BaseEditor {...props}>\n      <div>\n        {\n          props.data.attributes.map((x: ModelVariable) => (\n            <Variable \n              {...x} \n              key={x.id} \n              isReadOnly={props.isReadOnly}\n              listEditor={props.listEditor ?? []}\n              parentID={props.data.id}\n              dependencies={props.data.dependencies}\n              setName={(name: string) => {\n                props.onValueChange({\n                  attributes: props.data.attributes.map(_var => {\n                    if (_var.id === x.id) {\n                      return { ...x, name }\n                    }\n                    return _var;\n                  })\n                });\n              }}\n              setType={(type: VariableType) => {\n                props.onValueChange({\n                  attributes: props.data.attributes.map(_var => {\n                    if (_var.id === x.id) {\n                      return { ...x, type }\n                    }\n                    return _var;\n                  })\n                });\n              }}\n              setRequired={(required: boolean) => {\n                props.onValueChange({\n                  attributes: props.data.attributes.map(_var => {\n                    if (_var.id === x.id) {\n                      return { ...x, required }\n                    }\n                    return _var;\n                  })\n                });\n              }}\n              onRemove={() => {\n                props.onValueChange({\n                  attributes: [...props.data.attributes.filter(_v => _v.id !== x.id)]\n                });\n              }}\n            />\n          ))\n        }\n      </div>\n      { !props.isReadOnly && <div style={{ display: 'inline-block', flexDirection: 'row', justifyContent: '', margin: '4px 12px', border: 'solid 1px rgba(255, 255, 255, .1)', borderRadius: 4, background: 'rgba(255, 255, 255, .6)', color: '#333' }}>\n        <div \n          style={{ boxSizing: 'border-box', padding: '3px 5px', textAlign: 'center', outline: 'none' }}\n          tabIndex={0}\n          onKeyDown={undefined}\n          role=\"menuitem\"\n          onClick={(e: React.MouseEvent<HTMLDivElement, MouseEvent>) => {\n            props.onValueChange({\n              attributes: [...props.data.attributes, {\n                id: new Date().getTime(),\n                name: '',\n                type: {\n                  type_name: 'any',\n                  type_parent_id: NO_VARIABLE_TYPE_PARENT\n                },\n                required: true\n              }]\n            });\n          }}>\n          +\n        </div>\n      </div> }\n    </BaseEditor>\n  );\n}\n\nexport default React.memo(\n  EditorDataModel, \n  function (prevProps: Readonly<EditorDataModelProps>, nextProps: Readonly<EditorDataModelProps>): boolean {\n      let result = baseMemoFunction<EditorDataModelData>(prevProps, nextProps);\n      if (prevProps.data.attributes.length !== nextProps.data.attributes.length) {\n          return false;\n      }\n      for (let i = 0; i < prevProps.data.attributes.length; i += 1) {\n          const pv = prevProps.data.attributes[i];\n          const nv = nextProps.data.attributes[i];\n          if (pv.name !== nv.name) {\n              return false;\n          }\n          if (pv.type !== nv.type) {\n              return false;\n          }\n          if (pv.required !== nv.required) {\n              return false;\n          }\n      }\n\n      return result;\n  }\n);\n","import * as React from 'react';\nimport BaseEditorData from '../main/base-editor/BaseEditorData';\nimport BaseEditor, { BaseEditorProps, baseMemoFunction } from './../main/base-editor/BaseEditor';\n\nexport interface EditorExternalModuleProps extends BaseEditorProps<BaseEditorData> {}\n\nfunction EditorExternalModule(props: EditorExternalModuleProps) {\n    return (\n        <BaseEditor {...props}>\n        </BaseEditor>\n    );\n}\n\nexport default React.memo(\n  EditorExternalModule, \n  function (prevProps: Readonly<EditorExternalModuleProps>, nextProps: Readonly<EditorExternalModuleProps>): boolean {\n      let result = baseMemoFunction<BaseEditorData>(prevProps, nextProps);\n      return result;\n  }\n);\n","import * as React from 'react';\nimport BaseEditor, { BaseEditorProps, baseMemoFunction } from './../main/base-editor/BaseEditor';\nimport { getBuiltinTypeColor, getBuiltinTypes, addArrayToEachType, getPrevType, getNextType, VariableType, NO_VARIABLE_TYPE_PARENT, useThisStyles } from './../main/Constant';\nimport { ModelVariable, Variable } from './VariableView';\nimport BaseEditorData from '../main/base-editor/BaseEditorData';\nimport { UIEvent, UIState } from './UIStateView';\nimport { LAMBDA_TYPE } from '../main/ComponentConstant';\n\nexport interface EditorUIData extends BaseEditorData {\n  list_ui_parameter: ModelVariable[]\n  list_ui_state: UIState[]\n  list_ui_event: UIEvent[]\n}\n\nexport function UIStateView(props: UIState) {\n  const style = useThisStyles();\n  return (\n    <div style={{ margin: '4px 12px', display: 'flex', flexDirection: 'row', color: 'white', alignItems: 'center', borderRadius: 4, overflow: 'hidden' }}>\n      <input \n        className={style.general_input}\n        type=\"text\" \n        value={props.name}\n        disabled={props.isReadOnly}\n        onChange={((e: React.ChangeEvent<HTMLInputElement>) => {\n          props.setName!(e.target.value);\n        })}\n        />\n      <div \n        style={{ \n          padding: '4px 4px', \n          outline: 'none', \n          background: 'rgba(255, 255, 255, .7)',\n          color: getBuiltinTypeColor(props.type)\n        }}\n        tabIndex={0}\n        onKeyDown={undefined}\n        role=\"menuitem\"\n        onClick={(e: React.MouseEvent<HTMLDivElement, MouseEvent>) => {\n          if (props.isReadOnly) {\n            return;\n          }\n          props.setType!(\n            e.shiftKey\n            ? getPrevType(props.type, props.listEditor ?? [], props.dependencies ?? [])\n            : getNextType(props.type, props.listEditor ?? [], props.dependencies ?? [])\n          );\n        }}>\n        { props.type.type_name }\n      </div>\n      { !props.isReadOnly && <div \n        style={{ padding: '4px 4px', background: 'rgba(255, 255, 255, .2)', color: 'white', outline: 'none' }}\n        tabIndex={0}\n        onKeyDown={undefined}\n        role=\"menuitem\"\n        onClick={(e: React.MouseEvent<HTMLDivElement, MouseEvent>) => {\n          props.onRemove!();\n        }}>\n        X\n      </div> }\n    </div>\n  );\n}\n\nexport interface EditorUIProps extends BaseEditorProps<EditorUIData> {}\n\nfunction EditorUI(props: EditorUIProps) {\n  function getAllPossibleFunction(): { key: number, value: string }[] {\n    const list_editor: BaseEditorData[] = props.listEditor;\n    const list_editor_ids: number[] = list_editor.map((editor: BaseEditorData) => editor.id);\n    const list_editor_ids_lambda: number[] = list_editor.filter((editor: BaseEditorData) => editor.item_type === LAMBDA_TYPE).map((editor: BaseEditorData) => editor.id);\n    return [\n      ...props.data.dependencies\n      .filter((editor_id: number) => list_editor_ids.includes(editor_id))\n      .map((editor_id: number) => list_editor.find((editor: BaseEditorData) => editor.id === editor_id)!)\n      .map((editor: BaseEditorData) => ({ key: editor.id, value: editor.title})),\n      ...props.data.list_ui_parameter\n      .filter((param: ModelVariable) => (param.type.type_name === 'function' || list_editor_ids_lambda.includes(param.type.type_parent_id)))\n      .map((param: ModelVariable) => ({ key: param.id, value: `Property ${param.name}` }))\n    ];\n  }\n\n  return (\n    <BaseEditor {...props}>\n      <div style={{\n          paddingTop: 5,\n          paddingBottom: 7\n      }}>\n        <div>\n          { (props.isReadOnly && props.data.list_ui_parameter.length > 0) && <div style={{ padding: '0px 12px' }}>\n            Property\n          </div> }\n          {\n            props.data.list_ui_parameter.map((x: ModelVariable) => (\n              <Variable\n                {...x} \n                key={x.id} \n                isReadOnly={props.isReadOnly}\n                listEditor={props.listEditor}\n                dependencies={props.data.dependencies}\n                setName={(name: string) => {\n                  props.onValueChange({\n                    list_ui_parameter: props.data.list_ui_parameter.map(_var => {\n                      if (_var.id === x.id) {\n                        return { ...x, name }\n                      }\n                      return _var;\n                    })\n                  });\n                }}\n                setType={(type: VariableType) => {\n                  props.onValueChange({\n                    list_ui_parameter: props.data.list_ui_parameter.map(_var => {\n                      if (_var.id === x.id) {\n                        return { ...x, type }\n                      }\n                      return _var;\n                    })\n                  });\n                }}\n                setRequired={(required: boolean) => {\n                  props.onValueChange({\n                    list_ui_parameter: props.data.list_ui_parameter.map(_var => {\n                      if (_var.id === x.id) {\n                        return { ...x, required }\n                      }\n                      return _var;\n                    })\n                  });\n                }}\n                onRemove={() => {\n                  props.onValueChange({\n                    list_ui_parameter: [...props.data.list_ui_parameter.filter(_v => _v.id !== x.id)]\n                  });\n                }}\n              />\n          ))\n          }\n          { !props.isReadOnly && <div style={{ display: 'flex', flexDirection: 'row', justifyContent: '', margin: '4px 12px', border: 'solid 1px rgba(255, 255, 255, .1)', borderRadius: 4, background: 'rgba(255, 255, 255, .6)', color: '#333' }}>\n            <div \n              style={{ width: '100%', boxSizing: 'border-box', padding: 3, textAlign: 'center', outline: 'none' }}\n              tabIndex={0}\n              onKeyDown={undefined}\n              role=\"menuitem\"\n              onClick={(e: React.MouseEvent<HTMLDivElement, MouseEvent>) => {\n                props.onValueChange({\n                  list_ui_parameter: [...props.data.list_ui_parameter, {\n                    id: new Date().getTime(),\n                    name: '',\n                    type: {\n                      type_parent_id: NO_VARIABLE_TYPE_PARENT, \n                      type_name: 'any'\n                    },\n                    required: true\n                  }]\n                });\n              }}>\n              + Property\n            </div>\n          </div> }\n          <div style={{\n            margin: '10px 0px',\n            height: 1,\n            background: 'rgba(0, 0, 0, .15)'\n          }} />\n          { (props.isReadOnly && props.data.list_ui_state.length > 0) && <div style={{ padding: '0px 12px' }}>\n            State\n          </div> }\n            {\n              props.data.list_ui_state.map((x: UIState) => (\n                <UIStateView\n                  {...x} \n                  key={x.id} \n                  isReadOnly={props.isReadOnly}\n                  listEditor={props.listEditor ?? []}\n                  dependencies={props.data.dependencies}\n                  setName={(name: string) => {\n                    props.onValueChange({\n                      list_ui_state: props.data.list_ui_state.map(_var => {\n                        if (_var.id === x.id) {\n                          return { ...x, name }\n                        }\n                        return _var;\n                      })\n                    });\n                  }}\n                  setType={(type: string) => {\n                    props.onValueChange({\n                      list_ui_state: props.data.list_ui_state.map(_var => {\n                        if (_var.id === x.id) {\n                          return { ...x, type }\n                        }\n                        return _var;\n                      })\n                    });\n                  }}\n                  onRemove={() => {\n                    props.onValueChange({\n                      list_ui_state: [...props.data.list_ui_state.filter(_v => _v.id !== x.id)]\n                    });\n                  }}\n                />\n              ))\n            }\n            { !props.isReadOnly && <div style={{ display: 'flex', flexDirection: 'row', justifyContent: '', margin: '4px 12px', border: 'solid 1px rgba(255, 255, 255, .1)', borderRadius: 4, background: 'rgba(255, 255, 255, .6)', color: '#333' }}>\n              <div \n                style={{ width: '100%', boxSizing: 'border-box', padding: 3, textAlign: 'center', outline: 'none' }}\n                tabIndex={0}\n                onKeyDown={undefined}\n                role=\"menuitem\"\n                onClick={(e: React.MouseEvent<HTMLDivElement, MouseEvent>) => {\n                  props.onValueChange({\n                    list_ui_state: [...props.data.list_ui_state, {\n                      id: new Date().getTime(),\n                      name: '',\n                      type: {\n                        type_parent_id: NO_VARIABLE_TYPE_PARENT, \n                        type_name: 'any'\n                      },\n                      required: true\n                    }]\n                  });\n                }}>\n                + State\n              </div>\n            </div> }\n            <div style={{\n              margin: '10px 0px',\n              height: 1,\n              background: 'rgba(0, 0, 0, .15)'\n            }} />\n            { (props.isReadOnly && props.data.list_ui_event.length > 0) && <div style={{ padding: '0px 12px' }}>\n              Event\n            </div> }\n\n            {\n              props.isReadOnly && props.data.list_ui_event.map((ui_event: UIEvent, index: number) => (\n                <div key={index} style={{ \n                  margin: '6px 12px', \n                  display: 'flex',\n                  flexDirection: 'column'\n                }}>\n                  <div style={{\n                    fontWeight: 'bold'\n                  }}>\n                    { ui_event.object_name }\n                  </div>\n                  <div>\n                    { ui_event.type } → { getAllPossibleFunction().find((fx) => fx.key == ui_event.editor_id_action)?.value ?? \"<unset>\" }\n                  </div>\n                </div>\n              ))\n            }\n            {\n              !props.isReadOnly && props.data.list_ui_event.map((ui_event: UIEvent, index: number) => (\n                <div key={index} style={{ \n                  margin: '6px 12px', \n                  display: 'flex'\n                }}>\n                  <div style={{\n                    fontSize: 10, \n                    borderRadius: 4,\n                    borderTopRightRadius: 0\n                  }}>\n                    <div style={{\n                      padding: '4px 0px',\n                      paddingTop: 0,\n                    }}>\n                      <input \n                        style={{ \n                          boxSizing: 'border-box', \n                          flexGrow: 1, \n                          width: '100%', \n                          outline: 'none', \n                          padding: '4px 6px', \n                          background: 'rgba(255, 255, 255, .7)',\n                          border: 'none', \n                          borderRadius: 4,\n                          borderBottomLeftRadius: 0,\n                          borderBottomRightRadius: 0,\n                          borderTopRightRadius: 0,\n                          fontSize: 12\n                        }} \n                        disabled={props.isReadOnly}\n                        placeholder=\"object name\" \n                        type=\"text\" \n                        value={ui_event.object_name}\n                        onChange={((e: React.ChangeEvent<HTMLInputElement>) => {\n                          const { value } = e.target;\n                          let new_value = props.data.list_ui_event.map(x => ({...x}));\n                          new_value[index].object_name = value;\n                          props.onValueChange({\n                            list_ui_event: new_value\n                          });\n                        })}\n                      />\n                      <input \n                        style={{ \n                          boxSizing: 'border-box', \n                          flexGrow: 1, \n                          width: '100%', \n                          background: 'rgba(255, 255, 255, .5)',\n                          border: 'none', \n                          outline: 'none', \n                          fontSize: 12,\n                          padding: '2px 6px', \n                        }} \n                        placeholder=\"event type\" \n                        type=\"text\" \n                        disabled={props.isReadOnly}\n                        value={ui_event.type}\n                        onChange={((e: React.ChangeEvent<HTMLInputElement>) => {\n                          const { value } = e.target;\n                          let new_value = props.data.list_ui_event.map(x => ({...x}));\n                          new_value[index].type = value;\n                          props.onValueChange({\n                            list_ui_event: new_value\n                          });\n                        })}\n                      />\n                      <select \n                        style={{ \n                          width: '100%', \n                          background: 'rgba(255, 255, 255, .36)', \n                          borderRadius: 4,\n                          borderTopLeftRadius: 0,\n                          borderTopRightRadius: 0,\n                          fontSize: 12,\n                          border: 'none',\n                          outline: 'none',\n                          padding: '2px 2px'\n                        }}\n                        value={ui_event.editor_id_action}\n                        disabled={props.isReadOnly}\n                        onChange={(e: React.ChangeEvent<HTMLSelectElement>) => { \n                          const { value } = e.target;\n                          let new_value = props.data.list_ui_event.map(x => ({...x}));\n                          new_value[index].editor_id_action = parseInt(value);\n                          props.onValueChange({\n                            list_ui_event: new_value\n                          });\n                        }}>\n                        <option value={null} selected>Choose action</option>\n                        {\n                          getAllPossibleFunction().map((fx, index_2: number) => (\n                            <option key={index_2} value={fx.key}>{ fx.value }</option>\n                          ))\n                        }\n                      </select>\n                    </div>\n                  </div>\n                  { !props.isReadOnly && <div style={{\n                    outline: 'none',\n                  }}>\n                    <div \n                      style={{ \n                        padding: '4px 4px', \n                        background: 'rgba(255, 255, 255, .2)', \n                        color: 'white', \n                        outline: 'none',\n                        borderTopRightRadius: 4,\n                        borderBottomRightRadius: 4\n                      }}\n                      tabIndex={0}\n                      onKeyDown={undefined}\n                      role=\"menuitem\"\n                      onClick={(e: React.MouseEvent<HTMLDivElement, MouseEvent>) => {\n                        props.onValueChange({\n                          list_ui_event: [...props.data.list_ui_event.filter(_v => _v.id !== ui_event.id)]\n                        });\n                      }} >\n                      X\n                    </div>\n                  </div> }\n                </div>\n              ))\n            }\n        </div>\n        { !props.isReadOnly && <div style={{ display: 'flex', flexDirection: 'row', justifyContent: '', margin: '4px 12px', border: 'solid 1px rgba(255, 255, 255, .1)', borderRadius: 4, background: 'rgba(255, 255, 255, .6)', color: '#333' }}>\n          <div \n            style={{ width: '100%', boxSizing: 'border-box', padding: 3, textAlign: 'center', outline: 'none' }}\n            tabIndex={0}\n            onKeyDown={undefined}\n            role=\"menuitem\"\n            onClick={(e: React.MouseEvent<HTMLDivElement, MouseEvent>) => {\n              props.onValueChange!({\n                list_ui_event: [...props.data.list_ui_event, {\n                  id: (new Date()).getTime(),\n                  object_name: '',\n                  type: '',\n                  editor_id_action: ''\n                }]\n              });\n            }}>\n            + Event\n          </div>\n        </div> }\n      </div>\n    </BaseEditor>\n  );\n}\n\nexport default React.memo(\n  EditorUI, \n  function (prevProps: Readonly<EditorUIProps>, nextProps: Readonly<EditorUIProps>): boolean {\n    let result = baseMemoFunction<EditorUIData>(prevProps, nextProps);\n    if (prevProps.data.list_ui_event.length !== nextProps.data.list_ui_event.length) {\n      return false;\n    }\n\n    for (let i = 0; i < prevProps.data.list_ui_event.length; i += 1) {\n      const a = prevProps.data.list_ui_event[i];\n      const b = nextProps.data.list_ui_event[i];\n      if (a.editor_id_action !== b.editor_id_action) {\n        return false;\n      }\n      if (a.object_name !== b.object_name) {\n        return false;\n      }\n      if (a.type !== b.type) {\n        return false;\n      }\n    }\n\n    if (prevProps.data.list_ui_state.length !== nextProps.data.list_ui_state.length) {\n      return false;\n    }\n    \n    for (let i = 0; i < prevProps.data.list_ui_state.length; i += 1) {\n      const pv = prevProps.data.list_ui_state[i];\n      const nv = nextProps.data.list_ui_state[i];\n      if (pv.name !== nv.name) {\n        result = false;\n        break;\n      }\n      if (pv.type !== nv.type) {\n        result = false;\n        break;\n      }\n    }\n\n    if (prevProps.data.list_ui_parameter.length !== nextProps.data.list_ui_parameter.length) {\n      return false;\n    }\n    \n    for (let i = 0; i < prevProps.data.list_ui_parameter.length; i += 1) {\n      const pv = prevProps.data.list_ui_parameter[i];\n      const nv = nextProps.data.list_ui_parameter[i];\n      if (pv.name !== nv.name) {\n        result = false;\n        break;\n      }\n      if (pv.type !== nv.type) {\n        result = false;\n        break;\n      }\n      if (pv.required !== nv.required) {\n        result = false;\n        break;\n      }\n    }\n    \n    return result;\n  }\n);\n","import * as React from 'react';\nimport BaseEditorData from '../main/base-editor/BaseEditorData';\nimport BaseEditor, { BaseEditorProps, baseMemoFunction } from './../main/base-editor/BaseEditor';\nimport TextareaAutosize from 'react-textarea-autosize';\nimport APIVariable, { APIVariableData } from './../editor-api/APIVariableView';\nimport { getBuiltinTypeColor, getNextType, getPrevType, NO_VARIABLE_TYPE_PARENT, VariableType } from '../main/Constant';\n\nexport interface EditorAPIAccessData extends BaseEditorData {\n  method: string\n  url: string\n  variables: APIVariableData[]\n  return_type: VariableType\n}\n\nexport interface EditorAPIAccessProps extends BaseEditorProps<EditorAPIAccessData> {\n}\n\nfunction EditorAPIAccess(props: EditorAPIAccessProps) {\n  return (\n    <BaseEditor {...props}>\n      <div style={{ padding: '4px 12px', paddingTop: 10, fontSize: 10 }}>\n        <select \n          style={{ \n            width: '100%', \n            background: 'rgba(255, 255, 255, .36)', \n            borderRadius: 4,\n            border: 'none',\n            outline: 'none',\n            color: 'white',\n            padding: '2px 4px'\n          }}\n          value={props.data.method}\n          disabled={props.isReadOnly}\n          onChange={(e: React.ChangeEvent<HTMLSelectElement>) => { \n            const { value } = e.target;\n            props.onValueChange({\n              method: value\n            });\n          }}>\n          <option value=\"get\">GET</option>\n          <option value=\"post\">POST</option>\n          <option value=\"put\">PUT</option>\n          <option value=\"delete\">DELETE</option>\n        </select>\n      </div>\n      <div style={{ padding: '0px 12px' }}>\n          <TextareaAutosize \n              cols={2}\n              placeholder=\"endpoint\"\n              value={props.data.url}\n              disabled={props.isReadOnly}\n              style={{ \n                outline: 'none',\n                border: 'none',\n                borderRadius: 4,\n                padding: '8px 12px',\n                fontFamily: 'inherit', \n                boxSizing: 'border-box',\n                fontSize: 10, \n                width: '100%', \n                color: 'black', \n                background: 'rgba(255, 255, 255, .9)' \n              }}\n              onChange={(e: React.ChangeEvent<HTMLTextAreaElement>) => { \n                  const { value } = e.target;\n                  // setUrl(value);\n                  props.onValueChange({\n                    url: value\n                  });\n              }}\n              />\n      </div>\n      <div>\n        {\n          props.data.variables.map((variable: APIVariableData) => (\n            <APIVariable \n              isReadOnly={props.isReadOnly}\n              key={variable.id} \n              data={variable}\n              listEditor={props.listEditor ?? []}\n              dependencies={props.data.dependencies}\n              setName={(name: string) => {\n                props.onValueChange({\n                  variables: props.data.variables.map(_var => {\n                    if (_var.id === variable.id) {\n                      return { ...variable, name }\n                    }\n                    return _var;\n                  })\n                });\n              }}\n              setType={(type: string) => {\n                props.onValueChange({\n                  variables: props.data.variables.map(_var => {\n                    if (_var.id === variable.id) {\n                      return { ...variable, type }\n                    }\n                    return _var;\n                  })\n                });\n              }}\n              setRequired={(required: boolean) => {\n                props.onValueChange({\n                  variables: props.data.variables.map(_var => {\n                    if (_var.id === variable.id) {\n                      return { ...variable, required }\n                    }\n                    return _var;\n                  })\n                });\n              }}\n              onRemove={() => {\n                props.onValueChange({\n                  variables: [...props.data.variables.filter(_v => _v.id !== variable.id)]\n                });\n              }}\n            />\n          ))\n        }\n      </div>\n      { !props.isReadOnly && <div style={{ display: 'flex', flexDirection: 'row', justifyContent: '', margin: '4px 12px', borderRadius: 4, background: 'rgba(255, 255, 255, .4)' }}>\n        <div \n          style={{ width: '25%', boxSizing: 'border-box', padding: 3, textAlign: 'center', outline: 'none' }}\n          tabIndex={0}\n          onKeyDown={undefined}\n          role=\"menuitem\"\n          onClick={(e: React.MouseEvent<HTMLDivElement, MouseEvent>) => {\n            props.onValueChange({\n              variables: [...props.data.variables, {\n                id: new Date().getTime(),\n                kind: 'H',\n                name: '',\n                type: {\n                  type_name: 'any',\n                  type_parent_id: NO_VARIABLE_TYPE_PARENT\n                },\n                required: true\n              }]\n            });\n          }}>\n          +Header\n        </div>\n        <div \n          style={{ width: '25%', boxSizing: 'border-box', padding: 3, textAlign: 'center', outline: 'none', borderRight: 'solid 1px rgba(255, 255, 255, .4)', borderLeft: 'solid 1px rgba(255, 255, 255, .4)' }}\n          tabIndex={0}\n          onKeyDown={undefined}\n          role=\"menuitem\"\n          onClick={(e: React.MouseEvent<HTMLDivElement, MouseEvent>) => {\n            props.onValueChange({\n              variables: [...props.data.variables, {                        \n                id: new Date().getTime(),\n                kind: 'Q',\n                name: '',\n                type: {\n                  type_name: 'any',\n                  type_parent_id: NO_VARIABLE_TYPE_PARENT\n                },\n                required: true\n              }]\n            });\n          }}>\n          +Query\n        </div>\n        <div \n          style={{ width: '25%', boxSizing: 'border-box', padding: 3, textAlign: 'center', outline: 'none', borderRight: 'solid 1px rgba(255, 255, 255, .4)' }}\n          tabIndex={0}\n          onKeyDown={undefined}\n          role=\"menuitem\"\n          onClick={(e: React.MouseEvent<HTMLDivElement, MouseEvent>) => {\n            props.onValueChange({\n              variables: [...props.data.variables, {                        \n                id: new Date().getTime(),\n                kind: 'B',\n                name: '',\n                type: {\n                  type_name: 'any',\n                  type_parent_id: NO_VARIABLE_TYPE_PARENT\n                },\n                required: true\n              }]\n            });\n          }}>\n          +Body\n        </div>\n        <div \n          style={{ width: '25%', boxSizing: 'border-box', padding: 3, textAlign: 'center', outline: 'none' }}\n          tabIndex={0}\n          onKeyDown={undefined}\n          role=\"menuitem\"\n          onClick={(e: React.MouseEvent<HTMLDivElement, MouseEvent>) => {\n            props.onValueChange({\n              variables: [...props.data.variables, {\n                id: new Date().getTime(),\n                kind: 'P',\n                name: '',\n                type: {\n                  type_name: 'any',\n                  type_parent_id: NO_VARIABLE_TYPE_PARENT\n                },\n                required: true\n              }]\n            });\n          }}>\n          +Param\n        </div>\n      </div> }\n      <div style={{ display: 'flex', flexDirection: 'row', alignItems: 'center', margin: '0px 12px', marginTop: 8 }}>\n        <div style={{ marginRight: 4 }}>\n          return\n        </div>\n        <div \n          onDoubleClick={e => { e.preventDefault(); e.stopPropagation(); }} \n          style={{ \n            outline: 'none', \n            boxSizing: 'border-box', \n            fontWeight: 'bold', \n            textAlign: 'center', \n            flexGrow: 1, \n            padding: '4px 12px', \n            background: 'white',\n            borderRadius: 4,\n            color: getBuiltinTypeColor(props.data.return_type)\n          }}\n          tabIndex={0}\n          onKeyDown={undefined}\n          role=\"menuitem\"\n          onClick={(e: React.MouseEvent<HTMLDivElement, MouseEvent>) => {\n            if (props.isReadOnly) {\n              return;\n            }\n            props.onValueChange({\n              return_type: (\n                e.shiftKey\n                ? getPrevType(props.data.return_type, props.listEditor, props.data.dependencies)\n                : getNextType(props.data.return_type, props.listEditor, props.data.dependencies)\n              )\n            });\n          }}>\n          { props.data.return_type.type_name }\n        </div>\n      </div>\n    </BaseEditor>\n  );\n}\n\nexport default React.memo(\n  EditorAPIAccess, \n  function (prevProps: Readonly<EditorAPIAccessProps>, nextProps: Readonly<EditorAPIAccessProps>): boolean {\n      let result = baseMemoFunction<EditorAPIAccessData>(prevProps, nextProps);\n      if (prevProps.data.method !== nextProps.data.method) {\n          return false;\n      }\n      if (prevProps.data.url !== nextProps.data.url) {\n          return false;\n      }\n      if (prevProps.data.return_type !== nextProps.data.return_type) {\n          return false;\n      }\n      if (prevProps.data.variables.length !== nextProps.data.variables.length) {\n          return false;\n      }\n      for (let i = 0; i < prevProps.data.variables.length; i += 1) {\n          const pv = prevProps.data.variables[i];\n          const nv = nextProps.data.variables[i];\n          if (pv.name !== nv.name) {\n              return false;\n          }\n          if (pv.type !== nv.type) {\n              return false;\n          }\n          if (pv.required !== nv.required) {\n              return false;\n          }\n      }\n\n      return result;\n  }\n);\n","import * as React from 'react';\nimport { ModelVariable, Variable } from '../editor-ui/VariableView';\nimport BaseEditorData from '../main/base-editor/BaseEditorData';\nimport { getBuiltinTypeColor, getNextType, getPrevType, NO_VARIABLE_TYPE_PARENT, VariableType } from '../main/Constant';\nimport BaseEditor, { BaseEditorProps, baseMemoFunction } from './../main/base-editor/BaseEditor';\n\nexport interface EditorLambdaTypeData extends BaseEditorData {\n  parameters: ModelVariable[]\n  return_type: VariableType\n}\n\nexport interface EditorLambdaTypeProps extends BaseEditorProps<EditorLambdaTypeData> {}\n\nfunction EditorLambdaType(props: EditorLambdaTypeProps) {\n  return (\n    <BaseEditor {...props}>\n      <div>\n      {\n        props.data.parameters.map((x: ModelVariable) => (\n          <Variable\n            {...x} \n            key={x.id} \n            isReadOnly={props.isReadOnly}\n            listEditor={props.listEditor ?? []}\n            dependencies={props.data.dependencies}\n            setName={(name: string) => {\n              props.onValueChange({\n                parameters: props.data.parameters.map(_var => {\n                  if (_var.id === x.id) {\n                    return { ...x, name }\n                  }\n                  return _var;\n                })\n              });\n            }}\n            setType={(type: VariableType) => {\n              props.onValueChange({\n                parameters: props.data.parameters.map(_var => {\n                  if (_var.id === x.id) {\n                    return { ...x, type }\n                  }\n                  return _var;\n                })\n              });\n            }}\n            setRequired={(required: boolean) => {\n              props.onValueChange({\n                parameters: props.data.parameters.map(_var => {\n                  if (_var.id === x.id) {\n                    return { ...x, required }\n                  }\n                  return _var;\n                })\n              });\n            }}\n            onRemove={() => {\n              props.onValueChange({\n                parameters: [...props.data.parameters.filter(_v => _v.id !== x.id)]\n              });\n            }}\n          />\n        ))\n      }\n    </div>\n    { !props.isReadOnly && <div style={{ display: 'flex', flexDirection: 'row', justifyContent: '', margin: '4px 12px', border: 'solid 1px rgba(255, 255, 255, .1)', borderRadius: 4, background: 'rgba(255, 255, 255, .6)', color: '#333' }}>\n      <div \n        style={{ width: '100%', boxSizing: 'border-box', padding: 3, textAlign: 'center', outline: 'none' }}\n        tabIndex={0}\n        onKeyDown={undefined}\n        role=\"menuitem\"\n        onClick={(e: React.MouseEvent<HTMLDivElement, MouseEvent>) => {\n          props.onValueChange({\n            parameters: [...props.data.parameters, {                        \n              id: new Date().getTime(),\n              name: '',\n              type: {\n                type_name: 'any',\n                type_parent_id: NO_VARIABLE_TYPE_PARENT\n              },\n              required: true\n            }]\n          });\n        }}>\n        + Parameter\n      </div>\n      </div> }\n    <div style={{ display: 'flex', flexDirection: 'row', alignItems: 'center', margin: '0px 12px', marginTop: 8 }}>\n      <div style={{ marginRight: 4 }}>\n        return\n      </div>\n      <div \n        onDoubleClick={e => { e.preventDefault(); e.stopPropagation(); }} \n        style={{ \n          outline: 'none', \n          boxSizing: 'border-box', \n          fontWeight: 'bold', \n          textAlign: 'center', \n          flexGrow: 1, \n          padding: '4px 12px', \n          background: 'white',\n          borderRadius: 4,\n          color: getBuiltinTypeColor(props.data.return_type)\n        }}\n        tabIndex={0}\n        onKeyDown={undefined}\n        role=\"menuitem\"\n        onClick={(e: React.MouseEvent<HTMLDivElement, MouseEvent>) => {\n          if (props.isReadOnly) {\n            return;\n          }\n          props.onValueChange({\n            return_type: (\n              e.shiftKey\n              ? getPrevType(props.data.return_type, props.listEditor, props.data.dependencies)\n              : getNextType(props.data.return_type, props.listEditor, props.data.dependencies)\n            )\n          });\n        }}>\n        { props.data.return_type.type_name }\n      </div>\n    </div>\n    </BaseEditor>\n  );\n}\n\nexport default React.memo(\n  EditorLambdaType, \n  function (prevProps: Readonly<EditorLambdaTypeProps>, nextProps: Readonly<EditorLambdaTypeProps>): boolean {\n      let result = baseMemoFunction<EditorLambdaTypeData>(prevProps, nextProps);\n      if (prevProps.data.return_type !== nextProps.data.return_type) {\n          return false;\n      }\n      if (prevProps.data.parameters.length !== nextProps.data.parameters.length) {\n          return false;\n      }\n      for (let i = 0; i < prevProps.data.parameters.length; i += 1) {\n          const pv = prevProps.data.parameters[i];\n          const nv = nextProps.data.parameters[i];\n          if (pv.name !== nv.name) {\n              return false;\n          }\n          if (pv.type !== nv.type) {\n              return false;\n          }\n          if (pv.required !== nv.required) {\n              return false;\n          }\n      }\n\n      return result;\n  }\n);\n","import * as React from 'react';\nimport EditorAPI, { EditorAPIData } from '../editor-api/EditorAPI';\nimport EditorBusinessLogic, { EditorBusinessLogicData } from '../editor-business-logic/EditorBusinessLogic';\nimport EditorDataAccess, { EditorDataAccessData } from '../editor-data-access/EditorDataAccess';\nimport EditorDataModel, { EditorDataModelData } from '../editor-data-model/EditorDataModel';\nimport EditorExternalModule from '../editor-external-module/EditorExternalModule';\nimport EditorUI, { EditorUIData } from '../editor-ui/EditorUI';\nimport EditorAPIAccess, { EditorAPIAccessData } from '../editor-api-access/EditorAPIAccess';\nimport { BaseEditorProps } from './base-editor/BaseEditor';\nimport BaseEditorData from './base-editor/BaseEditorData';\nimport { ContextMenuItem } from './context-menu/ContextMenu';\nimport { API_ACCESS, BUSINESS_LOGIC, DATA_ACCESS, EXTERNAL_MODULE, LAMBDA_TYPE, MODEL_DATA, PRESENTATION_API, PRESENTATION_UI, PRESENTATION_UI_COMPONENTS } from './ComponentConstant';\nimport EditorLambdaType, { EditorLambdaTypeData } from '../editor-lambda-type/EditorLambdaType';\nimport { NO_VARIABLE_TYPE_PARENT } from './Constant';\n\nexport const RegisterComponent: ContextMenuItem[] = [{\n  id: EXTERNAL_MODULE,\n  label: 'External Module',\n  model: (props: BaseEditorProps<BaseEditorData>): JSX.Element => {\n    return <EditorExternalModule {...props} />\n  },\n  initial_props: (props: BaseEditorData): any => {\n    return props;\n  },\n  point_color: '#263238'\n}, {\n  id: PRESENTATION_UI,\n  label: 'Presentation UI (Main)',\n  model: (props: BaseEditorProps<EditorUIData>): JSX.Element => {\n    return <EditorUI {...props} />\n  },\n  initial_props: (props: EditorUIData): any => {\n    props.list_ui_event = [];\n    props.list_ui_parameter = [];\n    props.list_ui_state = [];\n    return props;\n  },\n  point_color: '#6592fd'\n}, {\n  id: PRESENTATION_UI_COMPONENTS,\n  label: 'Presentation UI (Components)',\n  model: (props: BaseEditorProps<EditorUIData>): JSX.Element => {\n    return <EditorUI {...props} />\n  },\n  initial_props: (props: EditorUIData): any => {\n    props.list_ui_event = [];\n    props.list_ui_parameter = [];\n    props.list_ui_state = [];\n    return props;\n  },\n  point_color: '#3a9efd'\n}, {\n  id: PRESENTATION_API,\n  label: 'Presentation API',\n  model: (props: BaseEditorProps<EditorAPIData>): JSX.Element => {\n    return <EditorAPI {...props} />\n  },\n  initial_props: (props: EditorAPIData): any => {\n    props.variables = [];\n    props.method = 'get';\n    props.url = '';\n    props.return_type = {\n      type_name: 'any',\n      type_parent_id: NO_VARIABLE_TYPE_PARENT\n    };\n    return props;\n  },\n  point_color: '#e74645'\n}, {\n  id: BUSINESS_LOGIC,\n  label: 'Function',\n  model: (props: BaseEditorProps<EditorBusinessLogicData>): JSX.Element => {\n    return <EditorBusinessLogic {...props} />\n  },\n  initial_props: (props: EditorBusinessLogicData): any => {\n    props.parameters = [];\n    props.return_type = {\n      type_name: 'any',\n      type_parent_id: NO_VARIABLE_TYPE_PARENT\n    };\n    return props;\n  },\n  point_color: '#f8aa4b',\n}, {\n  id: API_ACCESS,\n  label: 'API Access',\n  model: (props: BaseEditorProps<EditorAPIAccessData>): JSX.Element => {\n    return <EditorAPIAccess {...props} />\n  },\n  initial_props: (props: EditorAPIAccessData): any => {\n    props.variables = [];\n    props.method = 'get';\n    props.url = '';\n    props.return_type = {\n      type_name: 'any',\n      type_parent_id: NO_VARIABLE_TYPE_PARENT\n    };\n    return props;\n  },\n  point_color: '#1A9'\n}, {\n  id: DATA_ACCESS,\n  label: 'Data Access',\n  model: (props: BaseEditorProps<EditorDataAccessData>): JSX.Element => {\n    return <EditorDataAccess {...props} />\n  },\n  initial_props: (props: EditorDataAccessData): any => {\n    props.parameters = [];\n    props.return_type = {\n      type_name: 'any',\n      type_parent_id: NO_VARIABLE_TYPE_PARENT\n    };\n    return props;\n  },\n  point_color: '#58b368',\n}, {\n  id: MODEL_DATA,\n  label: 'Model Data',\n  model: (props: BaseEditorProps<EditorDataModelData>): JSX.Element => {\n    return <EditorDataModel {...props} />\n  },\n  initial_props: (props: EditorDataModelData): any => {\n    props.attributes = [];\n    return props;\n  },\n  point_color: '#1ac0c6'\n}, {\n  id: LAMBDA_TYPE,\n  label: 'Lambda Function',\n  model: (props: BaseEditorProps<EditorLambdaTypeData>): JSX.Element => {\n    return <EditorLambdaType {...props} />\n  },\n  initial_props: (props: EditorLambdaTypeData): any => {\n    props.parameters = [];\n    props.return_type = {\n      type_name: 'any',\n      type_parent_id: NO_VARIABLE_TYPE_PARENT\n    };\n    return props;\n  },\n  point_color: '#95adbe'\n}];\n","import * as React from 'react';\nimport BaseEditorData from '../main/base-editor/BaseEditorData';\nimport { API_ACCESS, BUSINESS_LOGIC, DATA_ACCESS, EXTERNAL_MODULE, LAMBDA_TYPE, MODEL_DATA, PRESENTATION_API, PRESENTATION_UI, PRESENTATION_UI_COMPONENTS } from '../main/ComponentConstant';\nimport { groupBy, NO_ACTIVE_EDITOR, useThisStyles } from '../main/Constant';\nimport { ContextMenuItem } from '../main/context-menu/ContextMenu';\nimport { RegisterComponent } from '../main/RegisterComponent';\n\nexport interface CollectionListProps {\n  listEditor: BaseEditorData[]\n  activeEditorID: number\n  onEditorClick(editor: BaseEditorData): void\n}\n\nexport default function CollectionList(props: CollectionListProps) {\n  const style = useThisStyles();\n  const grouped: {[key: number]: BaseEditorData[]} = groupBy(props.listEditor, 'item_type');\n  const editor_focus = props.listEditor.find((editor: BaseEditorData) => editor.id === props.activeEditorID);\n  const collection_order = [PRESENTATION_UI, PRESENTATION_UI_COMPONENTS, PRESENTATION_API, BUSINESS_LOGIC, API_ACCESS, DATA_ACCESS, MODEL_DATA, LAMBDA_TYPE, EXTERNAL_MODULE];\n  const item_register_components: {[key: number]: ContextMenuItem} = collection_order.reduce((acc: {[key: number]: ContextMenuItem}, curr: number) => ({\n    ...acc,\n    [curr]: RegisterComponent.find(x => x.id === curr)\n  }), {});\n\n  return (\n    <div \n      className={style.collection_list_container}\n      onWheel={e => e.stopPropagation()}\n      onMouseDown={e => e.stopPropagation()}\n      onMouseMove={e => e.stopPropagation()}\n      onMouseUp={e => e.stopPropagation()}\n      onDoubleClick={e => e.stopPropagation()}>\n      {\n        collection_order.filter(key => grouped.hasOwnProperty(key)).map(key => (\n          <div key={key} className={style.collection_list_main_item}>\n            <div className={style.collection_list_main_item_title}>\n              {\n                item_register_components[key]?.label ?? \"-\"\n              }\n            </div>\n            <div \n              className={style.collection_list_main_item_sub_list}>\n              {\n                grouped[key]?.map((editor: BaseEditorData) => (\n                  <div\n                    style={{\n                      borderColor: props.activeEditorID === editor.id ? 'white' : 'transparent',\n                      opacity: props.activeEditorID === NO_ACTIVE_EDITOR ? .8 : ((props.activeEditorID === editor.id || (editor_focus?.dependencies.includes(editor.id) ?? false)) ? 1 : 0.4),\n                      background: item_register_components[key]?.point_color ?? ''\n                    }}\n                    onClick={_ => props.onEditorClick(editor)}\n                    className={style.collection_list_main_item_sub_list_item}\n                    key={editor.id}>\n                    <div style={{\n                      flexGrow: 1,\n                      wordBreak: 'break-all',\n                      padding: '3px 10px'\n                    }}>\n                      { editor.title ? editor.title : '<unnamed>' }\n                    </div>\n                  </div>\n                )) ?? <div />\n              }\n            </div>\n          </div>\n        ))\n      }\n    </div>\n  );\n}","import * as React from 'react';\nimport { useThisStyles } from '../main/Constant';\n\ninterface ItemSideBar {\n  id: number\n  icon_url: string\n  label: string\n  action(): void\n}\n\nexport interface SideBarProps {\n  items: ItemSideBar[]\n}\n\nexport default function SideBar(props: SideBarProps) {\n\n  const style = useThisStyles();\n\n  return (\n    <div \n      onClick={e => { e.stopPropagation(); }}\n      onDoubleClick={e => { e.preventDefault(); e.stopPropagation(); }}\n      className={style.sidebar_container}>\n      {\n        props.items.map((item: ItemSideBar) => (\n          <div \n            className={style.sidebar_item}\n            onClick={_ => item.action()}>\n            <img className={style.sidebar_item_image} src={item.icon_url} />\n          </div>\n        ))\n      }\n    </div>\n  );\n}\n","import * as React from 'react';\nimport { NO_ACTIVE_TOOLBAR, useThisStyles } from '../main/Constant';\n\ninterface SubItemToolbar {\n  id: number\n  label: string\n  action(): void\n}\n\ninterface ItemToolbar {\n  id: number\n  label: string\n  subitems: SubItemToolbar[]\n}\n\nexport interface ToolbarProps {\n  items: ItemToolbar[]\n}\n\nexport default function Toolbar(props: ToolbarProps) {\n\n  const style = useThisStyles();\n  const [active_id, setActiveID] = React.useState<number>(NO_ACTIVE_TOOLBAR);\n\n  React.useEffect(() => {\n    const clickOutsideHandler = () => {\n      if (active_id !== NO_ACTIVE_TOOLBAR) {\n        setActiveID(NO_ACTIVE_TOOLBAR);\n      }\n    }\n    window.addEventListener('mousemove', clickOutsideHandler);\n    return () => {\n      window.removeEventListener('mousemove', clickOutsideHandler);\n    }\n  })\n\n  return (\n    <div \n      className={style.toolbar_container}\n      onMouseMove={e => {\n        e.preventDefault();\n        e.stopPropagation();\n      }}>\n      {\n        props.items.map((item: ItemToolbar) => (\n          <div key={item.id} className={style.toolbar_item_container} style={{ position: 'relative' }}>\n            <div \n              className={style.toolbar_item}\n              onMouseMove={e => {\n                e.preventDefault();\n                e.stopPropagation();\n                setActiveID(item.id);\n              }}>\n              { item.label }\n            </div>\n            { active_id === item.id && <div className={style.toolbar_container_subitem}>\n              {\n                item.subitems.map((subitem: SubItemToolbar) => (\n                  <div \n                    key={subitem.id}\n                    onClick={_ => subitem.action()}\n                    className={style.toolbar_subitem}>\n                    { subitem.label }\n                  </div>\n                ))\n              }\n            </div> }\n          </div>\n        ))\n      }\n    </div>\n  );\n}\n","import * as React from 'react';\nimport BaseEditorData from '../base-editor/BaseEditorData';\nimport { useThisStyles } from '../Constant';\n\nexport interface ContextMenuItem {\n  id: number\n  label: string\n  model(props: any): JSX.Element\n  initial_props(props: BaseEditorData): any\n  point_color: string\n}\n\nexport interface ContextMenuProps {\n  items: ContextMenuItem[]\n  onMenuClick: Function\n}\n\nexport default function ContextMenu(props: ContextMenuProps) {\n\n  const style = useThisStyles();\n\n  return (\n    <div className={style.context_menu_container}>\n      {\n        props.items.map((item: ContextMenuItem) => (\n          <div\n            className={style.context_menu_item}\n            role=\"menuitem\" \n            onKeyDown={undefined} \n            tabIndex={0} \n            onClick={e => props.onMenuClick(item)} \n            key={item.id}>\n            <div style={{\n              width: 8,\n              height: 8,\n              borderRadius: 8,\n              marginTop: -2,\n              background: item.point_color,\n              marginRight: 8\n            }} />\n            { item.label }\n          </div>\n        ))\n      }\n    </div>\n  );\n}\n","import * as React from 'react';\nimport { NO_EDITOR } from '../Constant';\nimport { DependencyLineData } from './DependencyLineData';\n\nexport interface DependencyLineProps {\n  data: DependencyLineData\n  isActive: boolean\n  offsetTopConsumerDependency: number\n  innerWindowWidth: number\n  innerWindowHeight: number\n}\n\ntype Quadrant = (1 | 2 | 3 | 4);\n\nexport default function DependencyLine(props: DependencyLineProps) {\n\n  function findObjectQuadrantOf(obj_x: number, obj_y: number, zero_point_x: number, zero_point_y: number): Quadrant {\n    if (obj_x > zero_point_x) {\n      return obj_y > zero_point_y ? 4 : 1;\n    } else {\n      return obj_y > zero_point_y ? 3 : 2;\n    }\n  }\n\n  const offset_dependency = props.data.id_consumer ? props.offsetTopConsumerDependency * props.data.scale : 0;\n\n  const provider_quadrant = findObjectQuadrantOf(\n    props.data.x_provider,\n    props.data.y_provider,\n    props.data.x_consumer,\n    props.data.y_consumer\n  );\n\n  const x1 = provider_quadrant === 2 || provider_quadrant === 3 ? props.data.x_provider : props.data.x_consumer;\n  const y1 = x1 === props.data.x_provider ? props.data.y_provider : props.data.y_consumer + offset_dependency;\n  const w1 = x1 === props.data.x_provider ? props.data.w_provider : props.data.w_consumer;\n\n  const x2 = provider_quadrant === 2 || provider_quadrant === 3 ? props.data.x_consumer : props.data.x_provider;\n  const y2 = x2 === props.data.x_provider ? props.data.y_provider : props.data.y_consumer + offset_dependency;\n\n  const additional_w = (x1 + w1) > x2 ? 0 : w1;\n  const additional_h = 0;\n\n  const w = Math.abs(x2 - x1) - additional_w;\n  const h = Math.abs(y2 - y1) - additional_h;\n\n  const quadrant_left_object = findObjectQuadrantOf(x1, y1, x2, y2);\n\n  const calculated_left = x1 + additional_w;\n  const calculated_top = Math.min(y1, y2);\n\n  function stopRendering(): boolean {\n    if (calculated_left + (w ?? 0) < 0) {\n      return true;\n    }\n    if (calculated_top + (h ?? 0) < 0) {\n      return true;\n    }\n    if (calculated_left > (props.innerWindowWidth ?? 0)) {\n      return true;\n    }\n    if (calculated_top > (props.innerWindowHeight ?? 0)) {\n      return true;\n    }\n    return false;\n  }\n\n  if (stopRendering()) {\n    return null;\n  }\n\n  return (\n    <svg \n      height={h}\n      width={w}\n      style={{\n        position: 'absolute',\n        zIndex: (props.isActive ? 10000 : 1) ?? 1,\n        transform: `translate(${calculated_left}px,${calculated_top}px)`\n      }}>\n      { quadrant_left_object === 2 && <path \n        d={`M${0},${0} C${w / 2},${0} ${w / 2},${(h)} ${w},${(h)}`}\n        style={{ stroke: props.data.color, opacity: (props.isActive ? .8 : .15) ?? .15, strokeWidth: 2, zIndex: 1, fill: 'none' }} /> }\n      { quadrant_left_object !== 2 && <path \n        d={`M${0},${h} C${w / 2},${h} ${w / 2},${(0)} ${w},${(0)}`}\n        style={{ stroke: props.data.color, opacity: (props.isActive ? .8 : .15) ?? .15, strokeWidth: 2, zIndex: 1, fill: 'none' }} /> }\n    </svg>\n  );\n}\n","import * as React from 'react';\nimport Draggable from 'react-draggable';\nimport _export_backend_expressjs from '../../export/export-backend-expressjs';\nimport _export_backend_php from '../../export/export-backend-php';\nimport _export_frontend_nextjs from '../../export/export-frontend-nextjs';\nimport BottomBar from '../bottom-bar/BottomBar';\nimport CollectionList from '../collection-list/CollectionList';\nimport SideBar from '../side-bar/SideBar';\nimport Toolbar from '../toolbar/Toolbar';\nimport BaseEditor, { BaseEditorProps } from './base-editor/BaseEditor';\nimport BaseEditorData from './base-editor/BaseEditorData';\nimport { LAMBDA_TYPE, MODEL_DATA } from './ComponentConstant';\nimport { CanvasProps, DEFAULT_CANVAS_STATE, download, EDITOR_WIDTH, getControllerRandomColor, getEditorInRangeByPoint, IDEFile, IDESheet, keyOf, NO_ACTIVE_EDITOR, NO_ACTIVE_SHEET, NO_DEPENDENCY_ACTIVE, NO_EDITOR, NO_MOVE_POSITION_YET, openFile, useThisStyles, } from './Constant';\nimport ContextMenu, { ContextMenuItem } from './context-menu/ContextMenu';\nimport DependencyLine from './dependency-line/DependencyLine';\nimport { DependencyLineData } from './dependency-line/DependencyLineData';\nimport { RegisterComponent } from './RegisterComponent';\n\n\n// -------------------------------------------------\n// SOMETIMES DO NOT USE STATE FOR PERFORMANCE REASON\n// -------------------------------------------------\n\nlet sheet_counter = 1;\n\n// flag mode menggeser canvas (click + drag move)\nlet is_mode_move_canvas = false;\n\n// flag mode menggeser canvas dengan puter2 di tengah mouse atau dua jari di touchpad (wheel)\nlet is_mode_wheel_captured = false;\n\n// id provider dependency line saat pertama kali drag\nlet id_temp_start_drag_editor = NO_EDITOR;\n\n// posisi canvas terakhir sebelum diubah pada state [canvas_props, set]\nlet old_move_canvas_position = {\n  x: NO_MOVE_POSITION_YET,\n  y: NO_MOVE_POSITION_YET\n}\n\n// posisi mouse terakhir sebelum klik kanan\nlet context_menu_position = {\n  x: 0,\n  y: 0\n}\n\nexport default function Application() {\n\n  const style = useThisStyles();\n\n\n  // -------------\n  // Project State\n  // -------------\n  const [list_sheet, setListSheet] = React.useState<IDESheet[]>([]);\n  const [id_active_sheet, setActiveSheet] = React.useState<number>(NO_ACTIVE_SHEET);\n\n\n  // ------------------\n  // Active Sheet State\n  // ------------------\n\n  const [canvas_props, setCanvasProps] = React.useState<CanvasProps>(DEFAULT_CANVAS_STATE);\n  const [focus_active_id, setFocusActiveID] = React.useState<number>(NO_ACTIVE_EDITOR);\n  const [is_context_menu_active, setContextMenuActive] = React.useState<boolean>(false);\n  const [active_dependency_line_id, setActiveDependencyLineID] = React.useState<number>(NO_DEPENDENCY_ACTIVE);\n  const [is_read_only, setReadOnly] = React.useState<boolean>(false);\n\n  const [list_editor, setListEditor] = React.useState<BaseEditorData[]>([]);\n  const [list_dependency, setDependency] = React.useState<DependencyLineData[]>([]);\n  const [list_top_offset_dependency, setTopOffsetDependency] = React.useState<{[key: number]: number}>({});\n\n\n\n\n  // ---------------------\n  // Main Container Events\n  // ---------------------\n\n  // on left mouse click\n  function onClick(event: React.MouseEvent<HTMLDivElement, MouseEvent>) {\n    setContextMenuActive(false);\n  }\n\n  // on right mouse click\n  function onContextMenu(event: React.MouseEvent<HTMLDivElement, MouseEvent>) {\n    console.log('right mouse click');\n    event.preventDefault();\n    context_menu_position = {\n      x: event.pageX,\n      y: event.pageY\n    };\n    setContextMenuActive(true);\n  }\n  \n  // on mouse wheel / two finger touch move\n  function onWheel(event: React.WheelEvent<HTMLDivElement>) {\n    // event.preventDefault();\n    event.stopPropagation();\n    is_mode_wheel_captured = true;\n    // updateItemsCanvasPosition(event.shiftKey || event.ctrlKey, event.deltaX, event.deltaY, event.pageX, event.pageY);\n    updateItemsCanvasPosition(false, event.deltaX, event.deltaY, event.pageX, event.pageY);\n  }\n\n  // on left mouse down\n  function onTouchStart(event: React.MouseEvent<HTMLDivElement, MouseEvent>) {\n    is_mode_move_canvas = !is_mode_move_canvas;\n    if (is_mode_move_canvas) {\n      setFocusActiveID(NO_ACTIVE_EDITOR);\n    }\n    if (event.shiftKey && id_temp_start_drag_editor !== NO_EDITOR) {\n      const editor = list_editor.find((editor: BaseEditorData) => editor.id == id_temp_start_drag_editor);\n      const new_line: DependencyLineData = {\n        id: new Date().getTime(),\n        id_provider: id_temp_start_drag_editor,\n        id_consumer: NO_EDITOR,\n        x_provider: event.pageX,\n        y_provider: event.pageY,\n        x_consumer: event.pageX,\n        y_consumer: event.pageY,\n        w_provider: editor?.w ?? 0,\n        h_provider: editor?.h ?? 0,\n        w_consumer: 0,\n        h_consumer: 0,\n        scale: canvas_props.scale,\n        color: getControllerRandomColor()\n      };\n      setActiveDependencyLineID(new_line.id);\n      setDependency([...list_dependency, new_line]);\n    }\n  }\n\n  // on left mouse down is moving\n  function onDependencyPointMoveDrag(event: React.MouseEvent<HTMLDivElement, MouseEvent>) {\n    if (is_mode_move_canvas) {\n      const dx = old_move_canvas_position.x === NO_MOVE_POSITION_YET ? 0 : old_move_canvas_position.x - event.pageX;\n      const dy = old_move_canvas_position.y === NO_MOVE_POSITION_YET ? 0 : old_move_canvas_position.y - event.pageY;\n      old_move_canvas_position = {\n        x: event.pageX,\n        y: event.pageY\n      };\n      \n      const updated_list_editor = list_editor.map((editor: BaseEditorData) => {\n        return {\n          ...editor,\n          x: editor.x - dx,\n          y: editor.y - dy\n        };\n      });\n\n      const updated_dependency_line = list_dependency.map((line: DependencyLineData) => {\n        const editor_provider = updated_list_editor.find((e: BaseEditorData) => e.id === line.id_provider);\n        const editor_consumer = updated_list_editor.find((e: BaseEditorData) => e.id === line.id_consumer);\n\n        return {\n          ...line,\n          x_provider: editor_provider?.x ?? 0,\n          y_provider: editor_provider?.y ?? 0,\n          x_consumer: editor_consumer?.x ?? 0,\n          y_consumer: editor_consumer?.y ?? 0\n        };\n      });\n\n      setListEditor(updated_list_editor);\n      setDependency(updated_dependency_line);\n    }\n\n    if (event.shiftKey) {\n      const updated_dependency_line = list_dependency.map((line: DependencyLineData) => {\n        if (line.id === active_dependency_line_id) {\n          const editor_provider = list_editor.find((e: BaseEditorData) => e.id === line.id_provider);\n          return {\n            ...line,\n            x_provider: editor_provider?.x ?? 1,\n            y_provider: editor_provider?.y ?? 1,\n            x_consumer: event.pageX,\n            y_consumer: event.pageY\n          }\n        }\n\n        return line;\n      });\n      setDependency(updated_dependency_line);\n    }\n  }\n\n  // on left mouse up\n  function onDependencyPointEndDrag(event: React.MouseEvent<HTMLDivElement, MouseEvent>) {\n    is_mode_move_canvas = false;\n    old_move_canvas_position = {\n      x: NO_MOVE_POSITION_YET,\n      y: NO_MOVE_POSITION_YET\n    };\n\n    if (active_dependency_line_id !== NO_DEPENDENCY_ACTIVE) {\n      let updated_line_dependency: DependencyLineData[] = list_dependency;\n      try {\n        const editor_consumer = getEditorInRangeByPoint(list_editor, canvas_props.scale, event.pageX, event.pageY);\n        if (editor_consumer.is_zero_dependency ?? false) {\n          throw new Error('editor has zero dependency constraint');\n        }\n        if (editor_consumer && id_temp_start_drag_editor !== editor_consumer.id) {\n          if (editor_consumer.dependencies.includes(id_temp_start_drag_editor)) {\n            throw new Error('dependency exist');\n          }\n          updated_line_dependency = list_dependency.map((line: DependencyLineData) => {\n            if (line.id === active_dependency_line_id) {\n              return {\n                ...line,\n                id_consumer: editor_consumer?.id ?? NO_EDITOR,\n                x_consumer: editor_consumer?.x ?? NO_MOVE_POSITION_YET,\n                y_consumer: editor_consumer?.y ?? NO_MOVE_POSITION_YET,\n                w_consumer: editor_consumer?.w ?? 0,\n                h_consumer: editor_consumer?.h ?? 0\n              }\n            }\n            return line;\n          });\n          setListEditor(list_editor.map((editor: BaseEditorData) => {\n            if (editor.id === editor_consumer.id) {\n              return {\n                ...editor,\n                dependencies: [...editor.dependencies, id_temp_start_drag_editor]\n              }\n            }\n            return editor;\n          }));\n        }\n      } catch (err) {\n        //\n      } finally {\n        setDependency([...updated_line_dependency.filter((line: DependencyLineData) => line.id_consumer !== NO_EDITOR)]);\n        setActiveDependencyLineID(NO_DEPENDENCY_ACTIVE);\n        id_temp_start_drag_editor = NO_EDITOR;\n      }\n    }\n  }\n\n  // on left mouse double click\n  function onDoubleClick(event: React.MouseEvent<HTMLDivElement, MouseEvent>) {\n    is_mode_wheel_captured = false;\n    const shiftKey = event.shiftKey;\n    const pageX = event.pageX;\n    const pageY = event.pageY;\n    updateItemsCanvasPosition(true, 0, (shiftKey ? 50 : -100), pageX, pageY);\n  }\n\n\n\n\n  // ------------------\n  // Item Editor Events\n  // ------------------\n\n  // Editor.onValueChange\n  function handleValueChange(editor_id: number, kvs: {[key: string]: any}) {\n    const updated_list_editor = list_editor.map((editor: BaseEditorData) => {\n      if (editor.id === editor_id) {\n        return { ...editor, ...kvs };\n      }\n\n      return editor;\n    });\n\n    const updated_dependency_line = list_dependency.map((line: DependencyLineData) => {\n      const editor_provider = updated_list_editor.find((e: BaseEditorData) => e.id === line.id_provider);\n      const editor_consumer = updated_list_editor.find((e: BaseEditorData) => e.id === line.id_consumer);\n\n      return {\n        ...line,\n        x_provider: editor_provider?.x ?? 0,\n        y_provider: editor_provider?.y ?? 0,\n        x_consumer: editor_consumer?.x ?? 0,\n        y_consumer: editor_consumer?.y ?? 0,\n        w_provider: editor_provider?.w ?? 0,\n        h_provider: editor_provider?.h ?? 0,\n        w_consumer: editor_consumer?.w ?? 0,\n        h_consumer: editor_consumer?.h ?? 0,\n        scale: canvas_props.scale\n      };\n    });\n\n    setListEditor(updated_list_editor);\n    setDependency(updated_dependency_line);\n  }\n\n  // Editor.onMouseDown\n  function itemIsMouseDown(editor_id: number) {\n    is_mode_move_canvas = !is_mode_move_canvas;\n    id_temp_start_drag_editor = editor_id;\n    const max_z_index = Math.max(...list_editor.map((editor: BaseEditorData): number => editor.z_index));\n    // console.log('itemIsMouseDown');\n\n    // const updated_list_editor = list_editor.map((editor: BaseEditorData) => {\n    //   if (editor_id === editor.id) {\n    //     return {\n    //       ...editor,\n    //       z_index: max_z_index + (editor.z_index < max_z_index ? 1 : 0)\n    //     };\n    //   }\n    //   return editor;\n    // });\n\n    setFocusActiveID(editor_id);\n    // setListEditor(updated_list_editor);\n\n    // will bubble to this.onTouchStart\n  }\n\n  // Editor.onRequestDelete\n  function deleteItemEditor(editor_id: number) {\n    setListEditor(list_editor.filter((editor: BaseEditorData) => editor.id !== editor_id));\n    setDependency(list_dependency.filter((line: DependencyLineData) => line.id_consumer !== editor_id && line.id_provider !== editor_id));\n  }\n\n  // Editor.onTopOffsetDependecyChange\n  function onTopOffsetDependecyChange(key: number, top_offset: number) {\n    if (list_top_offset_dependency[key] && list_top_offset_dependency[key] === top_offset) {\n      return;\n    }\n    const new_data = {\n      ...list_top_offset_dependency,\n      [key]: top_offset\n    };\n    setTopOffsetDependency(new_data);\n  }\n\n  // Editor.onRequestRemoveDependency\n  function deleteLineDependency(id_provider: number, id_consumer: number) {\n    setListEditor(list_editor.map((editor: BaseEditorData) => {\n      if (editor.id === id_consumer) {\n        return {\n          ...editor,\n          dependencies: [...editor.dependencies.filter((id_dependency_provider: number) => id_dependency_provider !== id_provider)]\n        }\n      }\n      return editor;\n    }))\n    setDependency([...list_dependency.filter((line: DependencyLineData) => line.id_consumer !== id_consumer || line.id_provider !== id_provider)]);\n  }\n\n\n\n\n  // -----------------\n  // Support Functions\n  // -----------------\n\n  // add new item to canvas\n  function contextMenuAction(item: ContextMenuItem) {\n    setContextMenuActive(false);\n    const max_z_index = Math.max(...list_editor.map((editor: BaseEditorData): number => editor.z_index), 0);\n    const data: BaseEditorData = item.initial_props({\n        item_type: item.id,\n        id: new Date().getTime(),\n        x: context_menu_position.x,\n        y: context_menu_position.y,\n        w: EDITOR_WIDTH,\n        h: 200,\n        scale: canvas_props.scale,\n        z_index: max_z_index + 1,\n        title: '',\n        description: '',\n        dependencies: []\n    });\n    const result = [...list_editor, data];\n    setListEditor(result);\n  }\n\n  // update all card & line position on canvas\n  function updateItemsCanvasPosition(isShiftKey: boolean, deltaX: number, deltaY: number, pageX: number, pageY: number) {\n\n    const old_scale = canvas_props.new_scale;\n    const new_scale = old_scale - (isShiftKey ? deltaY : 0) * 0.01;\n\n    const pointer_position = {\n      x: pageX,\n      y: pageY,\n    }\n\n    const dx = deltaX * 2;\n    const dy = deltaY * 2;\n    const dscale = new_scale - old_scale;\n    const updated_scale = canvas_props.scale + canvas_props.scale * (new_scale - old_scale);\n\n    // console.log(`native event x: ${pageX} y: ${pageY}`);\n    // console.log(`delta position x: ${dx} y: ${dy} scale: ${dscale}`);\n\n    const updated_list_editor = list_editor.map((editor: BaseEditorData) => {\n      const d_zoom_x = (editor.x - pointer_position.x) * dscale;\n      const d_zoom_y = (editor.y - pointer_position.y) * dscale;\n      const d_width = editor.w * dscale;\n      const d_height = editor.h * dscale;\n\n      // console.log(`${editor.id} => innner scale: ${updated_scale.toFixed(4)} delta zoom x: ${d_zoom_x.toFixed(4)}, zoom y: ${d_zoom_y.toFixed(4)}, width: ${d_width.toFixed(4)}, height: ${d_height.toFixed(4)}`);\n\n      return {\n        ...editor,\n        x: editor.x + d_zoom_x - (dscale === 0 ? dx : 0),\n        y: editor.y + d_zoom_y - (dscale === 0 ? dy : 0),\n        w: editor.w + d_width,\n        h: editor.h + d_height,\n        scale: updated_scale\n      };\n    });\n\n    const updated_dependency_line = list_dependency.map((line: DependencyLineData) => {\n      const editor_provider = updated_list_editor.find((e: BaseEditorData) => e.id === line.id_provider);\n      const editor_consumer = updated_list_editor.find((e: BaseEditorData) => e.id === line.id_consumer);\n\n      return {\n        ...line,\n        x_provider: editor_provider?.x ?? 0,\n        y_provider: editor_provider?.y ?? 0,\n        x_consumer: editor_consumer?.x ?? 0,\n        y_consumer: editor_consumer?.y ?? 0,\n        w_provider: editor_provider?.w ?? 0,\n        h_provider: editor_provider?.h ?? 0,\n        w_consumer: editor_consumer?.w ?? 0,\n        h_consumer: editor_consumer?.h ?? 0,\n        scale: canvas_props.scale\n      };\n    });\n\n    setCanvasProps({\n      ...canvas_props,\n      new_scale,\n      old_scale,\n      scale: updated_scale,\n      x: pointer_position.x,\n      y: pointer_position.y\n    });\n    setListEditor(updated_list_editor);\n    setDependency(updated_dependency_line);\n  }\n\n  function initNewSheet(): IDESheet {\n    return {\n      id: new Date().getTime(),\n      name: `Sheet ${sheet_counter++}`,\n      canvas_props: DEFAULT_CANVAS_STATE,\n      list_editor: [],\n      list_dependency: [],\n      list_top_offset_dependency: {}\n    }\n  }\n\n  function addNewSheet() {\n    const new_sheet = initNewSheet();\n    const updated_sheet_list = [...list_sheet, new_sheet];\n    changeSheet(updated_sheet_list, new_sheet.id);\n  }\n\n  function removeSheet(id_sheet: number) {\n    if (list_sheet.length === 1) {\n      return;\n    }\n    const updated_list_sheet = list_sheet.filter((sheet: IDESheet) => sheet.id !== id_sheet);\n    if (id_active_sheet === id_sheet) {\n      changeSheet(updated_list_sheet, updated_list_sheet[(updated_list_sheet.length + 1) % updated_list_sheet.length].id);\n    } else {\n      setListSheet(updated_list_sheet);\n    }\n  }\n\n  function changeSheet(_list_sheet: IDESheet[], id_sheet: number) {\n    const sheet = _list_sheet.find((sheet: IDESheet) => sheet.id === id_sheet);\n    if (!sheet) {\n      return;\n    }\n\n    const updated_list_sheet = _list_sheet.map((_sheet: IDESheet) => {\n      if (_sheet.id === id_active_sheet) {\n        return {\n          ..._sheet,\n          canvas_props: {...canvas_props},\n          list_editor: [...list_editor],\n          list_dependency: [...list_dependency],\n          list_top_offset_dependency: {...list_top_offset_dependency}\n        }\n      }\n\n      return _sheet;\n    });\n    setListSheet(updated_list_sheet);\n\n    if (id_active_sheet !== NO_ACTIVE_SHEET) {\n      setDependency(sheet.list_dependency);\n      setListEditor(sheet.list_editor);\n      setTopOffsetDependency(sheet.list_top_offset_dependency);\n      setCanvasProps(sheet.canvas_props);\n    }\n    setActiveSheet(id_sheet);\n  }\n\n  function changeSheetName(id_sheet: number, name: string) {\n    const updated_list_sheet = list_sheet.map((sheet: IDESheet) => {\n      if (sheet.id === id_sheet) {\n        return {\n          ...sheet,\n          name\n        }\n      }\n      return sheet;\n    });\n    setListSheet(updated_list_sheet);\n  }\n\n  function load() {\n    try {\n      openFile((stringified_json: string) => {\n        try {\n          const ide_file: IDEFile = JSON.parse(stringified_json);\n          if (ide_file.data.length > 0) {\n            changeSheet(ide_file.data, ide_file.data[0].id);\n          } else {\n            addNewSheet();\n          }\n        } catch (err) {\n          alert(err);\n        }\n      });\n    } catch (err) {\n      alert(err);\n    }\n  }\n\n  function save() {\n    const ide_file: IDEFile = {\n      timestamp: new Date().getTime(),\n      data: list_sheet.map((_sheet: IDESheet) => {\n        if (_sheet.id === id_active_sheet) {\n          return {\n            ..._sheet,\n            canvas_props: {...canvas_props},\n            list_editor: [...list_editor],\n            list_dependency: [...list_dependency],\n            list_top_offset_dependency: {...list_top_offset_dependency}\n          }\n        }\n  \n        return _sheet;\n      })\n    };\n    const download_data = JSON.stringify(ide_file);\n    const filename = `ide-${new Date().getTime()}.json`;\n    download(download_data, filename, 'json');\n  }\n\n  function about() {\n    alert('ProjectX');\n  }\n\n  function moveToEditor(editor: BaseEditorData) {\n    const current_x = editor.x - window.innerWidth / 2 + editor.w / 2 + 125;\n    const current_y = editor.y - window.innerHeight / 2 + editor.w / 2;\n    is_mode_wheel_captured = false;\n\n    const updated_list_editor = list_editor.map(_editor => ({\n      ..._editor,\n      x: _editor.x - current_x,\n      y: _editor.y - current_y\n    }));\n\n    const updated_dependency_line = list_dependency.map((line: DependencyLineData) => {\n      const editor_provider = updated_list_editor.find((e: BaseEditorData) => e.id === line.id_provider);\n      const editor_consumer = updated_list_editor.find((e: BaseEditorData) => e.id === line.id_consumer);\n\n      return {\n        ...line,\n        x_provider: editor_provider?.x ?? 0,\n        y_provider: editor_provider?.y ?? 0,\n        x_consumer: editor_consumer?.x ?? 0,\n        y_consumer: editor_consumer?.y ?? 0,\n        w_provider: editor_provider?.w ?? 0,\n        h_provider: editor_provider?.h ?? 0,\n        w_consumer: editor_consumer?.w ?? 0,\n        h_consumer: editor_consumer?.h ?? 0,\n      };\n    });\n\n    setListEditor(updated_list_editor);\n    setDependency(updated_dependency_line);\n\n    setFocusActiveID(editor.id);\n  }\n\n  function stopRenderingEditor<T extends BaseEditorData>(editor: T): boolean {\n    if (editor.x + editor.w < 0) {\n        return true;\n    }\n    if (editor.y + editor.h < 0) {\n        return true;\n    }\n    if (editor.x > (window.innerWidth ?? 0)) {\n        return true;\n    }\n    if (editor.y > (window.innerHeight ?? 0)) {\n        return true;\n    }\n    return false;\n  }\n\n  React.useEffect(() => {\n    addNewSheet();\n  }, []);\n\n  const filtered_id_list_editor_model_data_or_lambda = list_editor\n    .filter((editor: BaseEditorData) => editor.item_type === MODEL_DATA || editor.item_type === LAMBDA_TYPE)\n    .map((editor: BaseEditorData) => editor.id);\n\n  const editor_focus = list_editor.find((editor: BaseEditorData) => editor.id === focus_active_id);\n\n  // console.log('rendering');\n\n  return (\n    <div\n      onClick={onClick}\n      onContextMenu={onContextMenu}\n      className={style.application_container}\n      onWheel={onWheel}\n      onMouseDown={onTouchStart}\n      onMouseMove={onDependencyPointMoveDrag}\n      onMouseUp={onDependencyPointEndDrag}\n      onDoubleClick={onDoubleClick}>\n      <div style={{\n        overflow: 'hidden'\n      }}>\n        {\n          list_dependency.filter((line: DependencyLineData) => {\n            if (line.id_consumer === NO_EDITOR) {\n              return true;\n            }\n            const is_not_flow_data = !filtered_id_list_editor_model_data_or_lambda.includes(line.id_provider);\n            return is_not_flow_data;\n          }).map((line: DependencyLineData) => (\n            <DependencyLine\n              key={line.id}\n              data={line}\n              isActive={line.id_provider === focus_active_id || line.id_consumer === focus_active_id}\n              offsetTopConsumerDependency={list_top_offset_dependency[keyOf(line.id_consumer, line.id_provider)] ?? 0}\n              innerWindowWidth={window.innerWidth}\n              innerWindowHeight={window.innerHeight} />\n          )).filter((line) => !!line)\n        }\n        {\n          list_editor\n          .filter((editor: BaseEditorData) => !stopRenderingEditor(editor))\n          .map((editor: BaseEditorData) => {\n            const item = RegisterComponent.find((context_menu: ContextMenuItem) => context_menu.id === editor.item_type);\n            const ui = item.model({\n              data: editor,\n              isFocus: editor.id === focus_active_id,\n              isConsumerFocus: editor_focus?.dependencies.includes(editor.id) ?? false,\n              isReduceOpacity: editor.id === focus_active_id || focus_active_id === NO_ACTIVE_EDITOR,\n              disabled: active_dependency_line_id !== NO_DEPENDENCY_ACTIVE,\n              scale: canvas_props.scale,\n              isCanvasMoving: is_mode_move_canvas || is_mode_wheel_captured,\n              listEditor: list_editor,\n              innerWindowWidth: window.innerWidth,\n              innerWindowHeight: window.innerHeight,\n              isReadOnly: is_read_only,\n              onValueChange: (kvs: {[key: string]: any}) => active_dependency_line_id === NO_DEPENDENCY_ACTIVE && handleValueChange(editor.id, kvs),\n              onMouseDown: () => itemIsMouseDown(editor.id),\n              onMouseUp: () => {},\n              onRequestDelete: () => deleteItemEditor(editor.id),\n              onTopOffsetDependecyChange: onTopOffsetDependecyChange,\n              onRequestRemoveDependency: deleteLineDependency,\n              onDependencyClick: moveToEditor\n            });\n            return ui ? <div key={editor.id}>{ ui }</div> : null;\n          })\n        }\n      </div>\n      {\n        (is_context_menu_active && !is_read_only) && \n        <div \n          onClick={e => e.stopPropagation()}\n          onKeyDown={undefined}\n          role=\"menu\"\n          tabIndex={0}\n          className={style.application_context_menu}\n          style={{\n            left: context_menu_position.x,\n            top: context_menu_position.y\n          }}>\n          <ContextMenu \n            items={RegisterComponent} \n            onMenuClick={contextMenuAction} \n          />\n        </div>\n      }\n      <div className={style.application_toolbar}>\n        <Toolbar items={[{\n          id: 1,\n          label: 'File',\n          subitems: [{\n            id: 2,\n            label: 'Open...',\n            action: load\n          }, {\n            id: 3,\n            label: 'Download',\n            action: save\n          }]\n        }, {\n          id: 4,\n          label: 'Export',\n          subitems: [{\n            id: 6,\n            label: 'Frontend (NextJS)',\n            action: () => {\n              _export_frontend_nextjs(list_sheet.map((_sheet: IDESheet) => {\n                if (_sheet.id === id_active_sheet) {\n                  return {\n                    ..._sheet,\n                    canvas_props: {...canvas_props},\n                    list_editor: [...list_editor],\n                    list_dependency: [...list_dependency],\n                    list_top_offset_dependency: {...list_top_offset_dependency}\n                  }\n                }\n          \n                return _sheet;\n              }), file => {\n                download(file, 'starter-next-js.zip', 'zip');\n              })\n            }\n          }, {\n            id: 5,\n            label: 'Backend (ExpressJS)',\n            action: () => {\n              _export_backend_expressjs(list_sheet.map((_sheet: IDESheet) => {\n                if (_sheet.id === id_active_sheet) {\n                  return {\n                    ..._sheet,\n                    canvas_props: {...canvas_props},\n                    list_editor: [...list_editor],\n                    list_dependency: [...list_dependency],\n                    list_top_offset_dependency: {...list_top_offset_dependency}\n                  }\n                }\n          \n                return _sheet;\n              }), file => {\n                download(file, 'starter-express-js.zip', 'zip');\n              })\n            }\n          }, {\n            id: 6,\n            label: 'Backend (LaravelPHP)',\n            action: () => {\n              _export_backend_php(list_sheet.map((_sheet: IDESheet) => {\n                if (_sheet.id === id_active_sheet) {\n                  return {\n                    ..._sheet,\n                    canvas_props: {...canvas_props},\n                    list_editor: [...list_editor],\n                    list_dependency: [...list_dependency],\n                    list_top_offset_dependency: {...list_top_offset_dependency}\n                  }\n                }\n          \n                return _sheet;\n              }), file => {\n                download(file, 'starter-laravel-php.zip', 'zip');\n              })\n            }\n          }]\n        }, {\n          id: 8,\n          label: 'Help',\n          subitems: [{\n            id: 9,\n            label: 'About Project',\n            action: about\n          }]\n        }]} />\n      </div>\n\n      <div style={{\n        position: 'absolute',\n        left: 0,\n        bottom: 0,\n        zIndex: 999999\n      }}>\n        <BottomBar\n          listSheet={list_sheet.map((sheet: IDESheet) => ({\n            id_sheet: sheet.id,\n            title: sheet.name,\n            is_active: sheet.id === id_active_sheet\n          }))}\n          onChangeSheetName={changeSheetName}\n          onRequestRemoveSheet={id => {\n            console.log(`remove ${id}`)\n            removeSheet(id);\n          }}\n          onRequestChangeSheet={(id_sheet: number) => {\n            if (id_sheet === id_active_sheet) {\n              return;\n            }\n            changeSheet(list_sheet, id_sheet)\n          }}\n          onRequestNewSheet={() => addNewSheet()}\n          setReadOnly={() => {\n            setReadOnly(!is_read_only);\n          }}\n          isReadOnly={is_read_only} />\n      </div>\n\n      <div style={{\n        position: 'absolute',\n        left: 12,\n        bottom: 0,\n        height: '100%',\n        zIndex: 9998,\n        display: 'flex',\n        alignItems: 'center'\n      }}>\n        <SideBar\n          items={[{\n            id: 1,\n            icon_url: 'zoom-in.png',\n            label: 'Zoom In',\n            action() {\n              is_mode_wheel_captured = false;\n              updateItemsCanvasPosition(true, 0, -15, window.innerWidth / 2, window.innerHeight / 2);\n            }\n          }, {\n            id: 2,\n            icon_url: 'zoom-out.png',\n            label: 'Zoom Out',\n            action() {\n              is_mode_wheel_captured = false;\n              updateItemsCanvasPosition(true, 0, 15, window.innerWidth / 2, window.innerHeight / 2);\n            }\n          }]} />\n      </div>\n\n      <div style={{\n        position: 'absolute',\n        right: 0,\n        top: 0,\n        height: '100%',\n        zIndex: 99999,\n      }}>\n        <CollectionList \n          listEditor={list_editor}\n          activeEditorID={focus_active_id}\n          onEditorClick={moveToEditor} />\n      </div>\n\n    </div>\n  );\n}\n","import { createMuiTheme } from '@material-ui/core/styles';\n\nexport default createMuiTheme({\n  palette: {\n    primary: {\n      main: '#2103F8',\n      light: '#FFFFFF',\n      dark: '#555'\n    },\n    secondary: {\n      main: '#2103F8'\n    },\n    text: {\n      primary: '#03506f'\n    },\n    background: {\n      // default: '#F9F9F9'\n      // default: '#f3eac2'\n      default: '#333'\n    }\n  },\n  typography: {\n    fontFamily: [\n      'Gotham',\n      '-apple-system',\n      'BlinkMacSystemFont',\n      '\"Segoe UI\"',\n      'Roboto',\n      '\"Helvetica Neue\"',\n      'Arial',\n      'sans-serif',\n      '\"Apple Color Emoji\"',\n      '\"Segoe UI Emoji\"',\n      '\"Segoe UI Symbol\"',\n    ].join(','),\n    h2: {\n      fontFamily: [\n        'Gotham',\n      ].join(','),\n      marginBottom: 0,\n      // fontWeight: 'bold',\n      lineHeight: 1.3\n    },\n    h3: {\n      fontFamily: [\n        'Gotham',\n      ].join(','),\n      fontSize: 36,\n      marginBottom: 12,\n      fontWeight: 'bold'\n    },\n    h4: {\n      fontFamily: [\n        'Gotham',\n      ].join(','),\n      fontSize: 24,\n      marginBottom: 4,\n      // fontWeight: 'bold'\n    },\n    h5: {\n      fontFamily: [\n        'Gotham',\n      ].join(','),\n      fontSize: 17,\n      marginBottom: 4,\n      fontWeight: 'bold'\n    },\n    body1: {\n      fontFamily: [\n        'Gotham',\n      ].join(','),\n      lineHeight: 1.7,\n      color: '#888',\n      fontSize: 16\n    },\n    subtitle1: {\n      fontFamily: [\n        'Gotham',\n      ].join(','),\n      color: '#0E1D4E',\n      lineHeight: 1.3,\n      fontSize: 16\n    },\n    subtitle2: {\n      fontFamily: [\n        'Gotham',\n      ].join(','),\n      color: '#3C5896',\n      lineHeight: 1.3,\n      fontSize: 32\n    },\n  },\n});\n","import React from 'react';\nimport logo from './logo.svg';\nimport './App.css';\nimport Application from './components/main/Application';\nimport theme from './theme';\nimport { ThemeProvider } from '@material-ui/core';\n\nfunction App() {\n  return (\n    <ThemeProvider theme={theme}>\n      <Application />\n    </ThemeProvider>\n  );\n}\n\nexport default App;\n","import { ReportHandler } from 'web-vitals';\n\nconst reportWebVitals = (onPerfEntry?: ReportHandler) => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport reportWebVitals from './reportWebVitals';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}